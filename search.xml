<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[é£Ž(ä¸‰)]]></title>
    <url>%2F2017%2F09%2F04%2F%E9%A3%8E_%E4%B8%89%2F</url>
    <content type="text"><![CDATA[ä½ çŸ¥é“ï¼ŒåŽ‹é©¬è·¯æ˜¯ä¸ªä½“åŠ›æ´»ï¼Œæ²¡æœ‰åƒçš„æˆ‘èµ°ä¸åŠ¨. æ‰€ä»¥æˆ‘ä»¬å°±é¡ºä¾¿åŽ»é€›äº†ä¸ªè¶…å¸‚ï¼Œå—¯ï¼Œæˆ‘èƒ½æƒ³åˆ°æœ€æµªæ¼«çš„äº‹å°±æ˜¯å’Œä½ ä¸€èµ·é€›è¶…å¸‚ï¼Œä¹°å¥½åƒçš„ã€‚ ðŸ˜¬ è¿˜å¥½ä¹°äº†åƒçš„ï¼Œä¸ºäº†æ‰¾æ—…é¦†ä½ éƒ½å¿«å¸¦æˆ‘èµ°éæ•´ä¸ªåŒ—æµ·å¸‚äº†ã€‚ ä½ è¯´ä½ éžè¦æ‰¾åˆ°ä½ ä¹‹å‰è·Ÿä½ çˆ¸å¦ˆæ¥åŒ—æµ·ä½çš„é‚£å®¶æ—…é¦†ï¼Œå¯æŠŠæˆ‘ç»™ç´¯åäº†ã€‚ ä¸è¿‡æœ‰åƒçš„æˆ‘å°±ä¸è·Ÿä½ è®¡è¾ƒäº†ï¼Œå½“ç„¶æˆ‘ä¹ŸçŸ¥é“ä½ çš„å¿ƒæ„ï¼Œä¸ç„¶æˆ‘æ—©å°±ç”Ÿæ°”äº†ï¼Œåƒæˆ‘è¿™ä¹ˆæ˜“æ€’çš„ä½“è´¨ã€‚ å“¼(ï½€ã¸Â´) åŒ—æµ·é™¤äº†é“¶æ»©ï¼Œæœ€ä»¤äººéš¾ä»¥å¿˜æ€€çš„åº”å±žæˆ‘ä»¬åƒçš„é‚£å®¶ç‚¸é…±é¢äº†ï¼Œæ¯å¤©å¿…å¤‡ï¼Œé¤é¤éƒ½åƒï¼Œä¹Ÿä¸è§‰å¾—è…»ã€‚ ä½ çœ‹ï¼Œå°±åƒå–œæ¬¢äº†ä½ è¿™ä¹ˆå¤šå¹´ã€‚ é•¿è¿™ä¹ˆå¤§æ²¡ä¹°è¿‡ç«™ç¥¨ï¼Œå´é™ªä½ ç«™äº†ä¸¤æ¬¡ï¼Œå°±åƒå¾ˆå¤šäº‹æƒ…ä»¥ä¸ºè¿™è¾ˆå­éƒ½ä¸ä¼šåšçš„å‘¢ã€‚ åŒ—æµ·ä¹‹è¡Œé™¤åŽ»é‚£äº›ä¸å¼€å¿ƒçš„ï¼Œæˆ‘ä»¬éƒ½æ˜¯çœŸæ­£çš„å¼€å¿ƒè¿‡ï¼Œå¿«ä¹è¿‡ï¼Œå•çº¯çš„ï¼Œä¸å•çº¯çš„ï¼Œåæ­£éƒ½å‘ç”Ÿäº†ã€‚ é‚£æ—¶çš„ä½ ï¼Œæ€»æ˜¯å–œæ¬¢è¯´ï¼Œå’Œæˆ‘åœ¨ä¸€èµ·ï¼Œæ„Ÿè§‰ä¸€ç‚¹éƒ½ä¸çœŸå®žï¼Œä»¿ä½›åƒä¸€åœºæ¢¦ï¼Œæ€•æ¢¦é†’æ¥ï¼Œæˆ‘å°±ä¸è§äº†ã€‚ ä½ è¯´ï¼Œæˆ‘å°±åƒä»Žæ¼«ç”»é‡Œèµ°å‡ºæ¥çš„å°‘å¥³ã€‚ è¿™å¥è¯æ˜¯ä½ åœ¨åŽ»åŒ—æµ·çš„ç«è½¦ä¸Šè·Ÿæˆ‘è¯´çš„ï¼Œä½ çŽ°åœ¨å·²ç»ä¸è®°å¾—äº†ã€‚ å¯æ˜¯æˆ‘å´å½“çœŸäº†ã€‚ äººä»¬å¸¸è¯´ï¼Œè¯´è€…æ— æ„ï¼Œå¬è€…æœ‰å¿ƒã€‚ å¾ˆå¤šè¯´è¿‡çš„è¯åšè¿‡çš„äº‹ï¼Œä¸€è½¬èº«å¯èƒ½å°±å¿˜äº†ã€‚ é‚£ä¹ˆå¤šçš„äº‹ï¼Œé‡è§è¿‡é‚£ä¹ˆå¤šçš„äººï¼Œæ€Žä¹ˆå¯èƒ½ä¼šä¸€ä¸€è®°å¾—å‘¢ã€‚ å¯æ˜¯ï¼Œé‚£æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿæˆ‘è®°å¾—å°±å¥½äº†å•Šã€‚ ç¾Žå¥½çš„ï¼Œæˆ‘éƒ½æƒ³è¦æ”¶è—ç€ã€‚ ä½ è¯´ï¼Œå’Œæˆ‘åœ¨ä¸€èµ·ä½ æ‰æœ‰æ‹çˆ±çš„æ„Ÿè§‰ã€‚ ä½ è¯´ï¼Œå’Œæˆ‘åœ¨ä¸€èµ·ï¼Œå°±æ˜¯ä½ æœ€å¤§çš„æ¢¦æƒ³ã€‚ ä½ è¯´ï¼Œä½ çš„ç”Ÿæ´»æ²¡æœ‰äº†æˆ‘ï¼Œè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ ä½ è¯´ï¼Œé‚£ä¹ˆå¤šçš„ä½ è¯´ï¼Œæˆ‘å´åªè®°å¾—é‚£äº›å¤¸æˆ‘çš„æ¯ä¸€å¥ï¼Œé‚£äº›ç¾Žå¥½çš„ï¼Œæˆ‘éƒ½ä¸€ä¸€çè—ç€ã€‚ æˆ‘çŸ¥é“ï¼Œå®ƒä»¬å¯èƒ½éƒ½æœ‰åŽç¼€ï¼Œå› ä¸ºæ¯ä¸€æ¬¡çš„äº‰åµï¼Œä½ éƒ½ä¼šæŠŠåŽç¼€è¯´å‡ºæ¥ã€‚ å¯æ˜¯ï¼Œæˆ‘çš„è®°æ€§è¶Šæ¥è¶Šå·®äº†ï¼Œä¸æƒ³è®°ä½å¤ªå¤šä¸œè¥¿äº†ï¼Œåªæ˜¯è¿˜æ˜¯ä¼šè§‰å¾—éš¾è¿‡ç½¢äº†ã€‚ æˆ‘çŸ¥é“ï¼Œäº‰åµæ˜¯éš¾ä»¥é¿å…çš„ï¼Œåªæ˜¯æœ‰æ—¶å€™ï¼ŒçœŸçš„ä¼šè®©äººé€ä¸è¿‡æ°”æ¥ã€‚ ä»Žå‰å¤©çœŸçš„æˆ‘ï¼Œæ— æ³•æƒ³è±¡æ’•å¿ƒè£‚è‚ºï¼Œç—›ä¸æ¬²ç”Ÿï¼Œè¿™æ ·çš„è¯åˆ°åº•æ˜¯ä¸€ç§æ€Žæ ·çš„å¿ƒå¢ƒï¼Ÿæ˜¯ä½ ï¼Œè®©æˆ‘åˆ‡èº«ä½“ä¼šåˆ°äº†ã€‚ ä¹Ÿæ˜¯æˆ‘ï¼Œè®©ä½ è´¹å¿ƒäº†ã€‚ è¿žå‘¼å¸éƒ½ä¼šç—›çš„æ—¥å­é‡Œï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿä¼šæ„ŸåŒèº«å—ï¼Ÿ åŒæ˜¯ä¸€ä¸ªäººï¼Œ ä»–èƒ½å¸¦ä½ èµ°å‘å¤©å ‚ï¼Œä¹Ÿèƒ½è®©ä½ è·Œè½åœ°ç‹±ï¼Œæœ€è®©äººæ— æ³•ç†è§£çš„æ˜¯ï¼Œä½ ç«Ÿç„¶ä¸€ç‚¹éƒ½ä¸æ¨ä»–ï¼Œä¸€ç‚¹ä¹Ÿä¸ã€‚ è¿™æ ·çš„æ°”æ°›ï¼Œå¤ªè¿‡å¥‡æ€ªï¼Œè¿˜æ˜¯è¯´ç‚¹å¼€å¿ƒçš„äº‹æƒ…å§ã€‚ è¿˜è®°å¾—æˆ‘ä»¬ä»ŽåŒ—æµ·å›žæ¥çš„ç«è½¦ä¸Šåšè¿‡æœ€å¹¼ç¨šçš„äº‹å—ï¼Ÿ åˆä¸€æ¬¡ç«™ç€å›žæ¥çš„ï¼æˆ‘çŽ°åœ¨ï¼Œå¾ˆä¸¥è‚ƒçš„é—®ä½ ï¼Ÿä½ åˆ°åº•æ˜¯ä¸æ˜¯æ•…æ„çš„ï¼Ÿä½ è¯´ï¼ å¯¹ä¸€ä¸ªå–œæ¬¢äº†è¿™ä¹ˆå¤šå¹´ï¼Œå¿ƒä»ªå·²ä¹…çš„å¥³å­©å­ï¼Œä½ è§‰å¾—è‡ªå·±åšå¾—å¯¹å—ï¼Ÿ ä½ çŽ°åœ¨ï¼ŒåŽ»æ‰¾ä¸€ä¸ªå¥³ç”Ÿï¼Œä½ é—®é—®å¥¹ï¼Œç¬¬ä¸€æ¬¡æ—…è¡Œï¼Œå«å¥¹é™ªä½ ç«™åå…«ä¸ªå°æ—¶ï¼Œå¥¹ä¸æ‰“æ­»ä½ ï¼Œå›žæ¥æˆ‘æ‰“æ­»ä½ ï¼ æˆ‘è§‰å¾—å½“æ—¶æˆ‘è‚¯å®šæ˜¯ç«™å‚»äº†ï¼Œä¸ç„¶å°±æ˜¯çœŸçš„å–œæ¬¢ä½ ï¼Œä¸ç„¶ä»¥æˆ‘çš„æ€§å­ï¼Œè¯´ä»€ä¹ˆéƒ½ä¸æ„¿æ„ç«™çš„ã€‚ å¯èƒ½çœŸçš„æ˜¯è„‘è¢‹è¿›æ°´äº†ã€‚ æˆ‘å‰é¢æ‰€æŒ‡çš„å¹¼ç¨šçš„äº‹ä¸æ˜¯è¿™ä¸ªï¼Œè¿™ä¸ªæ˜¯ä¸¤ä¸ªå‚»å­æ‰èƒ½å¹²å‡ºæ¥äº‹æƒ…ï¼Œæ˜¯å§ï¼Œåå…«ï¼Œå¤§å‚»å­ã€‚ æˆ‘å‘çŽ°ï¼Œä½ åœ¨å“ªé‡Œï¼Œä½ éƒ½æƒ³è½»è–„æˆ‘ï¼Œ ä½ çš„è‰²ç‹¼æœ¬è´¨ä»Žä¸ƒæ˜Ÿå…¬å›­å°±å±•éœ²æ— ç–‘ï¼Œè€Œä¸”ä¸€å‘ä¸å¯æ”¶æ‹¾ï¼Œ æ— å¤„ä¸åœ¨ï¼Œæ— å­”ä¸å…¥ï¼Œåœ¨ç«è½¦ä¸Šä½ éƒ½è¿˜æƒ³è¦æŸ“æŒ‡æˆ‘ï¼Œä½ è¯´ï¼Œä½ æ˜¯ä¸æ˜¯è‚¾è™šï¼ ä½ è‚¾è™šæ˜¯æœ‰åŽŸå› çš„ï¼ŒçŸ¥é“å§ï¼Ÿ ä¸è¿‡æˆ‘èƒ½æƒ³åˆ°æœ€å¹¼ç¨šä¹Ÿæœ€æµªæ¼«çš„äº‹ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨ç«è½¦ä¸Šï¼Œåªè¦ç«è½¦ä¸€è¿›åŽ»éš§é“ä½ å°±è¯´è¦äº²æˆ‘ï¼Œåˆºä¸åˆºæ¿€ï¼Œå¼€ä¸å¼€å¿ƒï¼Ÿ å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ(à²¡Ï‰à²¡)hiahiahia æˆ‘æ˜¯å¼€å¿ƒçš„ï¼Œè€Œä¸”æ˜¯å‘è‡ªå†…å¿ƒçš„å¼€å¿ƒå“¦ã€‚ æˆ‘éƒ½è®°å¾—ï¼Œä½ æ˜¯ä¸æ˜¯å¿˜äº†ï¼æ˜¯å“ªåªç‹—äº²çš„æˆ‘ï¼Œä½ è¯´å§ã€‚ ä»¥å‰é‚£åªç‹—è¿˜å¤©å¤©æ‰“ç”µè¯ç»™æˆ‘ï¼ŒçŽ°åœ¨éƒ½æ²¡æœ‰äº†ï¼Œå“¼ï¼ 12å¹´çš„å¤å¤©ï¼Œæ˜¯æˆ‘ä»¬åœ¨ä¸€èµ·æ—¶é—´æœ€é•¿ï¼Œæœ€æ— å¿§æ— è™‘ï¼Œæœ€å¼€å¿ƒçš„ï¼Œä¹Ÿæœ€å–œæ¬¢çš„å¤å¤©ã€‚ å› ä¸ºä½ ï¼Œæˆ‘å¼€å§‹æœ‰ç‚¹å–œæ¬¢å¤å¤©äº†ã€‚ æˆ‘ä¸€ç›´ä»¥æ¥ï¼Œéƒ½è®¨åŽŒç€ç‚Žçƒ­çš„å¤å¤©ï¼Œå› ä¸ºå®ƒå¤ªè¿‡äºŽç‚™çƒ­ï¼Œæˆ‘è®¤ä¸ºé˜³å…‰æ˜¯æœ‰æ¯’çš„ï¼Œä½ å´è®©æˆ‘å¯¹å®ƒæ”¹å˜äº†çœ‹æ³•ã€‚ é‚£ä¸€å¹´çš„å¤å¤©ï¼Œæœ‰é‚£ä¹ˆä¸€ä¸ªäººï¼Œä»–å¤äº†å¤äººã€‚ å¤å¤©é‡Œçš„é‚£ç‰‡æµ·ï¼Œæˆ‘çœ‹åˆ°äº†ä¸€ä¸ªäººï¼Œä»–å¯¹æˆ‘å‚»å‚»çš„ç¬‘ç€ï¼Œä¸¤ä¸ªäººï¼Œä¸è¯´è¯ä¹Ÿè§‰å¾—é‚£èˆ¬ç¾Žå¥½ã€‚ é‚£ä¸€å¹´çš„å¤å¤©ï¼Œæ¡‚æž—çš„æ¯ä¸€ä¸ªè§’è½ï¼Œæ¯ä¸€æ¡è¡—é“ï¼Œéƒ½æœ‰æˆ‘ä»¬èµ°è¿‡çš„å½±å­ã€‚ é‚£äº›ä¸å¯ç£¨ç­çš„ç—•è¿¹ï¼Œæ¸…æ™°çš„åˆ»å°åœ¨è„‘æµ·é‡Œï¼Œæ”¾åœ¨å¿ƒä¸Šã€‚]]></content>
      <categories>
        <category>é£˜</category>
      </categories>
      <tags>
        <tag>é£Ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é£Ž(äºŒ)]]></title>
    <url>%2F2017%2F09%2F03%2F%E9%A3%8E_%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬æœ‰ä¸€å¥æ²¡ä¸€å¥çš„è¯´ç€äº›ä»€ä¹ˆï¼Œ çŽ°åœ¨éƒ½ä¸å¤§è®°å¾—æ¸…äº†ï¼Œåœ¨è¯´è¯é—´ï¼Œä½ é¡ºåŠ¿ç‰µèµ·äº†æˆ‘çš„æ‰‹ï¼Œ èµ°è¿‡å¤§è¡—ç©¿è¿‡å°å··ï¼Œæˆ‘å°±è¿™æ ·è·Ÿåœ¨ä½ çš„èº«åŽï¼Œå¿ƒè·³åŠ é€Ÿåœ°è·³åŠ¨ç€ï¼Œæ‰‹å¿ƒéƒ½å‡ºæ±—äº†ã€‚ ä½ å¸¦æˆ‘æ¥åˆ°ä¸€é—´åº—é‡Œï¼Œç‚¹äº†ä¸€ç¬¼åŒ…å­å’Œé¥ºå­ï¼Œæˆ‘ä¸€ç‚¹éƒ½ä¸é¥¿ï¼Œçœ‹ç€ä½ ç‹¼åžè™Žå’½çš„æ ·å­ï¼Œ é‚£æ—¶çš„æˆ‘éƒ½æ²¡å¯¹ä½ ç¿»è„¸ï¼Œè¯´æ˜Žå¯¹ä½ æ˜¯çœŸçš„å¾ˆå–œæ¬¢äº†ã€‚ è¯´åˆ°æˆ‘ä»¬çš„ç¬¬ä¸€æ¬¡çº¦ä¼šï¼Œä¸å¾—ä¸æä¸ƒæ˜Ÿå…¬å›­ï¼Œé‚£é‡Œæœ‰å¤ªå¤šè®°å¿†é‡Œçš„ç¾Žå¥½ï¼Œå½“ç„¶ä¸æ˜¯æ‰€æœ‰ç¾Žå¥½éƒ½æ˜¯å•çº¯çš„ã€‚ è®°å¾—ä½ ä¸ºäº†æŠ±æˆ‘ï¼Œæ•…æ„éª—æˆ‘è¯´æœ‰æ¯›æ¯›è™«ï¼ŒçŽ°åœ¨æƒ³æ¥ï¼Œä½ æ˜¯å¾ˆæœ‰å¿ƒæœºçš„å˜›ã€‚ å½“ç„¶ä¹Ÿä¸æ˜¯æ¯ä¸€æ¬¡çº¦ä¼šï¼Œæˆ‘ä»¬éƒ½èƒ½æ„‰å¿«çš„çŽ©è€ï¼ŒæœŸé—´ä¹Ÿæœ‰è¿‡äº‰æ‰§ï¼Œæ¯ä¸€æ¬¡çš„æƒ…å†µéƒ½æ„ˆæ¼”æ„ˆçƒˆï¼Œè°éƒ½ä¸æ„¿æ„å¦¥åï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€é˜è¿°äº†ï¼Œåæ­£éƒ½æ˜¯ä½ çš„é”™å°±å¯¹äº†Ù©( â€¢Ì€ã‰¨â€¢Ì )Ùˆ getï¼å“ˆå“ˆå“ˆå“ˆå“ˆâ½Ë™Â³Ë™â¾â—Ÿ(à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)â—žâ½Ë™Â³Ë™â¾ å…¶å®žæˆ‘æœ€å¼€å¿ƒçš„ï¼Œæ˜¯ä½ æ¯æ¬¡è§åˆ°æˆ‘éƒ½ä¼šå¤¸æˆ‘ï¼Œä¸å–„è¨€è¾žçš„ä½ ï¼Œè¯´çš„è¯éƒ½æ˜¯å‘è‡ªå†…å¿ƒçš„ï¼Œæˆ‘éƒ½ä¿¡äº†ã€‚ æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ—…æ¸¸ï¼ŒåŽ»çš„åŒ—æµ·ï¼Œè®°å¾—å½“æ—¶ä½ è®¡åˆ’äº†å¥½ä¹…ï¼Œå¯æ˜¯è¿˜æ˜¯æ²¡ä¹°åˆ°ç¥¨ï¼Œ ä½ è¯´ï¼Œä½ æ˜¯ä¸æ˜¯å¾ˆç¬¨(Â´â–½ï½€)ãƒŽâ™ªï¼å½“æ—¶åªå‰©ä¸‹æ— åº§äº†ï¼Œä½ è¯´è¦ä¸æˆ‘ä»¬åæ±½è½¦å§ï¼Œæˆ‘åŽ»ä¹°ç¥¨ã€‚ æˆ‘è¯´ï¼Œæˆ‘ä¸å–œæ¬¢åæ±½è½¦è¿˜æ˜¯åç«è½¦å§ã€‚ ç„¶åŽä½ çŸ¥é“çš„ï¼Œä¸¤ä¸ªäººå‚»å‚»çš„ç«™äº†ä¹ä¸ªå°æ—¶ï¼Œå¯æ˜¯é‚£æ—¶å€™ä¸€ç‚¹ä¹Ÿä¸è§‰å¾—ç´¯ï¼Œå¿ƒé‡Œè¿˜æ˜¯ä¹å¼€äº†èŠ±ã€‚ é‚£æ—¶å€™ï¼Œæˆ‘æ„Ÿå—å¾—åˆ°ï¼Œä½ æ˜¯æƒ³æŠŠå¥½çš„éƒ½ç»™æˆ‘ï¼Œæ˜¯çœŸçš„æƒ³è¦å¯¹æˆ‘å¥½ã€‚ é‚£æ—¶å€™çš„æˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸æƒ³ï¼Œåœ¨ä¸€èµ·å°±æ˜¯æœ€å¼€å¿ƒçš„äº‹æƒ…ã€‚ æœ‰ç‚¹å°æ€€å¿µå‘¢ã€‚ è¨€å½’æ­£ä¼ ï¼Œåˆ°è¾¾åŒ—æµ·å·²ç»ä¸‹åˆäº†ï¼Œç™½ç—´çš„ä½ åŠ ä¸Šç¬¨æ‹™çš„æˆ‘ï¼Œæ”¾ç€è½¦å­ä¸åï¼Œç¡¬æ˜¯ä»Žç«è½¦ç«™èµ°åˆ°äº†å¸‚åŒºï¼Œæµªæ¼«å§ï¼Ÿ æˆ‘ä»¬æœ€ä¸ç¼ºçš„å°±æ˜¯æµªæ¼«çš„åŽ‹é©¬è·¯ï¼Œä¸€æ¡åˆä¸€æ¡ï¼Œä¸€æ®µè·¯æŽ¥ç€ä¸€æ®µè·¯ï¼Œä¸€å¤„åˆä¸€å¤„çš„é£Žæ™¯ï¼Œéƒ½æŠŠæˆ‘ç»™æ™’é»‘äº†ã€‚ ä½ è¯´ï¼Œæ€Žä¹ˆåŠžã€‚]]></content>
      <categories>
        <category>é£˜</category>
      </categories>
      <tags>
        <tag>é£Ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é£Ž(ä¸€)]]></title>
    <url>%2F2017%2F09%2F01%2F%E9%A3%8E_%E4%B8%80%2F</url>
    <content type="text"><![CDATA[åº”è¯¥æ˜¯è®ºæˆ‘ä»¬èµ°äº†å¤šå°‘å…¬é‡Œçš„è·¯(à²¡Ï‰à²¡)hiahiahia å†™ç»™ä½ çš„ã€‚ ä¸çŸ¥ä»Žä½•æ—¶å¼€å§‹å·²ç»ä¸å†å–œæ¬¢ç”¨ä¹¦å†™æ–‡å­—çš„æ–¹å¼æ¥è¡¨è¾¾è‡ªå·±çš„å¿ƒæƒ…äº†ï¼Œæˆ–å¤šæˆ–å°‘æ˜¯å› ä¸ºå¹´çºªçš„å…³ç³»ï¼Œä¸è¿‡æƒ³ä¸€ä¸‹ï¼Œåº”è¯¥ä¸æ˜¯ï¼Œåªæ˜¯å¤ªæ‡’ç½¢äº†ï¼Œç»™è‡ªå·±æ‰¾çš„å€Ÿå£ã€‚ è®°å¾—ä½ ä»¥å‰æ€»è¯´ï¼Œæˆ‘å†™çš„æ–‡å­—é‡Œæ‰¾ä¸åˆ°å…³äºŽä½ çš„ä»»ä½•å½±å­ï¼Œä½ æ€»æ˜¯å‘Šè¯‰æˆ‘ï¼Œå†™ç‚¹ä»€ä¹ˆå§ã€‚ è€Œæˆ‘åªæ˜¯ç¬‘è€Œä¸åº”ã€‚ å¾ˆå¤šæ—¶å€™ï¼Œä¸æ˜¯ä¸æƒ³å†™ï¼Œæ›´å¤šçš„æ˜¯ä¸çŸ¥é“ä»Žä½•å†™èµ·ï¼Œç¬¨æ‹™å¦‚æˆ‘ï¼Œå†™å‡ºçš„æ–‡å­—å¤ªè¿‡å±€é™ï¼Œæ€•æ˜¯å†™ä¸å‡ºä¸ªæ‰€ä»¥ç„¶æ¥ã€‚ é‚£äº›å…³äºŽæˆ‘ä»¬çš„ç¾Žå¥½ï¼Œæ€•è¢«æˆ‘å†™å¾—ä¹±ä¸ƒå…«ç³Ÿï¼Œæ— ä»Žä¸‹ç¬”ã€‚ è€Œé‚£äº›å…³äºŽæˆ‘ä»¬ä¸å¼€å¿ƒçš„äº‹æƒ…ï¼Œæˆ‘æ ¹æœ¬ä¸æƒ³æåŠã€‚ æ‰€ä»¥ï¼Œæ¯æ¬¡ä¸‹ç¬”å´å˜å¾—ä¸çŸ¥é“è¦å†™äº›ä»€ä¹ˆã€‚ è¿™æ¬¡è¦æ˜¯å†ä¸å†™ç‚¹ä»€ä¹ˆï¼Œæ€•æ˜¯è¦çœŸçš„å†™ä¸å‡ºä»€ä¹ˆäº†ã€‚ å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ(à²¡Ï‰à²¡)hiahiahia å…ˆè¯´æ˜Žï¼Œæ­¤ç¯‡å‡Œä¹±æ¯«æ— ç« æ³•ï¼Œçœ‹ä¸æ‡‚æˆ‘ä¹Ÿæ²¡æœ‰åŠžæ³•äº†ã€‚ è¯·å¾€ä¸‹çœ‹ï¼Œ ä»Ž2017è¿½æº¯åˆ°2005ï¼Œè¿™ä¸­é—´æˆ‘ä»¬å…±äº«äº†å½¼æ­¤12å¹´çš„å…‰é˜´ã€‚ ä»Žè§å­—å¦‚â€é¢â€åˆ°â€ä¿¡â€æ‰‹æ‹ˆæ¥ï¼Œå¥½å¥‡åˆ°äº†è§£ï¼Œå§‹ç»ˆè¿˜æ˜¯å·®äº†ç‚¹ä»€ä¹ˆï¼Œå´åˆè¯´ä¸ä¸Šæ¥ã€‚ é‚£æ—¶çš„æˆ‘ï¼Œè¿˜æ˜¯æ‡µæ‡‚æ— çŸ¥çš„åˆä¸­ç”Ÿï¼Œä½ äº¦åªæ˜¯å†™å­—å¥½çœ‹çš„ç™½ç—´ç½¢äº†ã€‚ ä¸Žä½ çš„ç›¸è¯†ï¼Œåªä¸è¿‡æ˜¯ç¼˜äºŽåŒå­¦ä¹‹é—´çš„ä¹¦ä¿¡å¾€æ¥ã€‚ è€Œä½ å†™åœ¨åˆ«äººä¿¡ç¬ºèƒŒé¢çš„å­—ï¼Œåªä¸€çœ¼ï¼Œå°±æ³¨å®šäº†å¼€å§‹ï¼Œä»¥è‡³çŽ°åœ¨çš„ä¸‡åŠ«ä¸å¤ã€‚ æ•…äº‹çš„å¼€å§‹ï¼Œæˆ‘åªæ˜¯å¸Œæœ›ä½ æ˜¯ä¸€ä¸ªæ˜Žåªšè€Œä¸å¿§ä¼¤çš„ç¾Žå°‘å¥³ï¼Œæ— å¥ˆä½ å´æ˜¯æƒ…å•†è´Ÿå€¼äºŒç™¾äº”çš„ç™½ç—´å°‘å¹´ï¼Œè€Œæˆ‘ä¹Ÿåªä¸è¿‡æ˜¯ä¸­äºŒç—…æ™šæœŸçš„ç¬¨è›‹ç½¢äº†ã€‚ è™½ç„¶å¼€å§‹å¾—å¹¶ä¸é¡ºåˆ©ï¼Œç£•ç£•ç¢°ç¢°æ€»ç®—æ˜¯è®©å§å§ç»™æˆåŠŸæ‹¿ä¸‹äº†ï¼Œè™½ç„¶é‚£æ—¶å§å§è¿˜ä¸æ˜¯å§å§ï¼Œå§å§è¿˜æ˜¯ä¸ªç”·ç”Ÿã€‚ å—¯ï¼Œåœ¨ä¸‹æŽå¶æ¶›ï¼Œä¸çŸ¥æœ‰ä½•è´µå¹²ï¼Ÿ å®¹æˆ‘ç¬‘ä¸€ä¸‹ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ å¥½äº†ï¼Œå›žå½’æ­£é¢˜ï¼Œè¿™ä¸æ˜¯ä½ æƒ³è¦çš„æ–‡è‰ºç¯‡ï¼Œæ‰€ä»¥åˆ«ä¸€å‰¯ç”Ÿæ— å¯æ‹çš„æ ·å­ï¼Œå¥½ä¸å•¦ï¼Ÿ å†¥å†¥ä¸­çš„ç›¸é‡ï¼Œæ³¨å®šäº†ä¹‹åŽçš„ç§ç§ï¼Œé€šè¿‡ä¹¦ä¿¡ï¼Œæˆ‘ä»¬èµ°è¿›äº†å½¼æ­¤æƒ³è±¡çš„ä¸–ç•Œï¼Œå´èµ°ä¸è¿›å½¼æ­¤çŽ°å®žçš„ç”Ÿæ´»ã€‚ ä»Žæ­¤çš„æ¯å¤©ï¼Œéƒ½ç›¼ç€ä½ çš„æ¥ä¿¡ï¼Œå¿å¿‘çš„ï¼Œå¼€å¿ƒçš„å¿ƒæƒ…ï¼Œä¸è¨€è€Œå–»ã€‚ å­—é‡Œè¡Œé—´éƒ½æ˜¯ç®€å•çº¯çœŸçš„ç«¥è¶£ï¼Œè€Œæˆ‘æ¯æ¬¡è¯»ä½ çš„ä¿¡ï¼Œéƒ½ä¼šä¸€ä¸ªäººå‚»ç¬‘å¥½ä¹…ï¼Œå¥½ä¹…ã€‚ é‚£æ˜¯ä¸€ç§è¯¾å ‚ä¸Šæƒ³èµ·ä½ ï¼Œå˜´è§’å°±ä¸è‡ªè§‰ä¸Šæ‰¬çš„å¼€å¿ƒã€‚ åˆä¸­ç”Ÿæ´»ï¼Œæ‰¿è½½äº†ç¾Žå¥½çš„ä½ æˆ‘ï¼Œå´ç•™ä¸ä½çŸ­æš‚çš„æ—¶å…‰ï¼Œå›žå¤´å‘çŽ°å‰©ä¸‹æ¥çš„åªæœ‰å¾€æ¥çš„ä¹¦ä¿¡ï¼ŒåŽšåŽšä¸€æ²“ï¼Œä¹‹åŽäº†æ— éŸ³è®¯ã€‚ é«˜ä¸­ç”Ÿæ´»ï¼Œä¸ç´§ä¸æ…¢ï¼Œå´è¿˜æ˜¯è®©æˆ‘ä¸ç»æ„ä¼šæƒ³èµ·ä½ æ¥ï¼ŒåŽŸæ¥ï¼Œæœ‰äº›äººï¼Œä¸ç®¡åœ¨å“ªï¼Œéƒ½æ˜¯ä¼šæœ‰äººæƒ¦è®°çš„å‘¢ã€‚ åªæ˜¯ä½ ä¸çŸ¥é“ç½¢äº†ã€‚ æˆ‘å°è¯•ç€ç›²ç›®å†™ä¿¡ï¼Œå´ä¸æƒ³çœŸçš„å¾—åˆ°äº†å›žåº”ï¼ŒçŽ°åœ¨æƒ³æ¥å½“æ—¶å¤ªè¿‡å¼€å¿ƒï¼Œä»¥è‡³äºŽå¿˜è®°äº†å¯¹ä½ æå‡ºæŽ§è¯‰ï¼Œä¸ºä»€ä¹ˆï¼Œä½ åªå­—æœªæï¼Ÿ ä¹‹åŽï¼Œæˆ‘ä»¬è¿˜æ˜¯åƒä¸­å­¦é‚£èˆ¬å¥½ã€‚ å¯ä½ çš„ç‚¹åˆ°ä¸ºæ­¢ï¼Œè®©æˆ‘ä»¥ä¸ºåªæ˜¯æœ‹å‹çš„é‚£ç§å¥½ï¼ŒåŽæ¥çš„å‘å±•ï¼Œæ˜¯æˆ‘å§‹æ–™æœªåŠçš„ï¼Œæ…¢æ…¢æˆ‘ä»¬å¼€å§‹äº†ç–è¿œï¼Œåˆ°æœ€åŽï¼Œæ¸æ¸çš„æ²¡æœ‰äº†è”ç³»ã€‚ å¤§å­¦çš„ç”Ÿæ´»ï¼Œæž¯ç‡¥æ— å‘³ï¼Œè®©äººæä¸èµ·åŠç‚¹å…´è¶£ï¼Œè€Œå‘½è¿ä¹‹è½®åˆå¼€å§‹åœ¨æˆ‘ä»¬ä¹‹é—´è¿è½¬ã€‚ å½“æˆ‘é—®å‡ºé‚£å¥ï¼Œä½ å–œæ¬¢æˆ‘å—ï¼Ÿä»¿ä½›ç”¨å°½äº†æˆ‘æ‰€æœ‰çš„è¿æ°”ï¼Œæ‰å¾—æ¥äº†å¿ƒä¸­æƒ³è¦çš„å›žåº”ã€‚ é‚£ä¸€æ™šè¾—è½¬åä¾§ï¼Œå…´å¥‹å¾—ä¸èƒ½å…¥çœ ï¼Œå¿ƒé‡Œçš„æ¶Ÿæ¼ªæ³›èµ·ä¸€å±‚åˆä¸€å±‚ï¼Œæƒ…ä¸è‡ªç¦ï¼Œä¸èƒ½è‡ªå·²ã€‚ ä½ çœ‹ï¼Œä½ æ€»è¯´æˆ‘å­¦ä¸ä¼šä¸»åŠ¨ï¼Œå¯æ˜¯æˆ‘ä»¬ä¹‹é—´æœ€é‡è¦çš„ä¸‰æ¬¡éƒ½æ˜¯æˆ‘æ¡æœ‰çš„ä¸»åŠ¨æƒã€‚ ç¬¬ä¸€æ¬¡ï¼Œåˆä¸­ç›¸è¯†ï¼Œç¬¬äºŒæ¬¡ï¼Œé«˜ä¸­å†è§ï¼Œç¬¬ä¸‰æ¬¡ï¼Œå¤§å­¦åœ¨ä¸€èµ·ã€‚ æˆ‘ä»¬å¼€å¯äº†è‚†æ— å¿Œæƒ®çš„æ‹çˆ±æ¨¡å¼ï¼Œæ¯«æ— é¡¾å¿Œçš„æ ·å­ï¼Œç®€ç›´ä»¤äººå‘æŒ‡ã€‚ è™½ç„¶æœ‰è¨€äºŽè¿‡å®žçš„æˆåˆ†ã€‚ é‚£æ—¶çš„æˆ‘ä»¬ï¼Œå¼€å¿ƒå¹¶å¿«ä¹ç€ï¼Œä¸ä¼šåŽ»æƒ³å¤ªå¤šï¼Œå´è¿˜æ˜¯ä¼šäº‰åµï¼Œæˆ‘ä»¬çš„äº‰åµå°±åƒå°å­©å­ä¹‹é—´å‰ä¸€ç§’è¿˜åœ¨é—¹ï¼ŒåŽä¸€ç§’è½¬èº«å°±è¦å’Œå¥½ã€‚ ä½ çœ‹ä½ ï¼Œå¤šç¬¨å•Šã€‚ æˆ‘ä»¬ç¬¬ä¸€æ¬¡çš„çº¦ä¼šä½ è¿˜è®°å¾—å—ï¼Ÿæˆ‘ä¸€ä¸‹è½¦å°±çœ‹è§ä¸€ä¸ªç‰¹åˆ«äºŒçš„äººå¯¹ç€æˆ‘å‚»ç¬‘åŠå¤©ç„¶åŽè¯´ä»–é¥¿äº†è¦åŽ»åƒä¸œè¥¿ï¼Œè¿™å‰§æƒ…å±•å¼€ï¼Œä»¿ä½›æˆ‘èµ°é”™äº†ç‰‡åœºã€‚]]></content>
      <categories>
        <category>é£˜</category>
      </categories>
      <tags>
        <tag>é£Ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªç®€å•çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æž¶demo(æºç å·²ç»æ”¾åœ¨GitHub)]]></title>
    <url>%2F2017%2F08%2F27%2F%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%B8%B8%E6%88%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6demo(%E6%BA%90%E7%A0%81%E5%B7%B2%E7%BB%8F%E6%94%BE%E5%9C%A8GitHub)%2F</url>
    <content type="text"><![CDATA[GitHubGitHubåœ°å€ æ¡†æž¶ç®€ä»‹ä¸€ä¸ªç®€å•çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æž¶demo æ¡†æž¶æ¦‚è¦é‡‡ç”¨C++å¼€å‘ï¼Œä¾èµ– : booståº“ MySQLæ•°æ®åº“ google-glogæ—¥å¿—è®°å½•æ¡†æž¶ curlåº“ ä¸»è¦å¤„ç†æ¸¸æˆå®¢æˆ·ç«¯å’Œæ¸¸æˆæ•°æ®åº“çš„æ•°æ®äº¤æ¢ã€‚é€šä¿¡é‡‡ç”¨socketå‘é€åè®®åŒ…çš„æ–¹å¼ï¼ŒæœåŠ¡å™¨æ ¹æ®åè®®åŒ…å‘½ä»¤ç åŽ»åšç›¸åº”çš„é€»è¾‘å¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æžœè¿”å›žç»™æ¸¸æˆå®¢æˆ·ç«¯ï¼Œå³å®Œæˆäº†å‰åŽç«¯çš„æ•°æ®äº¤æ¢ã€‚ æ¡†æž¶å¤„ç†æµç¨‹ï¼šå®¢æˆ·ç«¯è¿žæŽ¥â†’ æœåŠ¡å™¨åˆ†é…çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¤„ç†â†’ çº¿ç¨‹å°†åè®®æ•°æ®é€’äº¤ç»™Worker â†’ Workerè°ƒç”¨ç»Ÿä¸€åè®®å¤„ç†é€»è¾‘Processå¼€å§‹å¤„ç†â†’ Processå¯¹åè®®å‘½ä»¤ç åˆ†ç±»ï¼Œå¹¶å°†åè®®åŒ…å†…å®¹é€’äº¤ç»™ç›¸åº”çš„ä¸šåŠ¡ç±»â†’ ä¸šåŠ¡ç±»å¤„ç†å®ŒæˆåŽè°ƒç”¨ç»Ÿä¸€å¤„ç†é€»è¾‘Processå¤„ç†å®Œæˆâ†’ Workerå°†è¿”å›žæ•°æ®é€’äº¤ç»™çº¿ç¨‹å¹¶è¿”å›žç»™å®¢æˆ·ç«¯ åè®®å¤„ç†æµç¨‹ï¼šå®¢æˆ·ç«¯åˆæ¬¡è¿žæŽ¥æœåŠ¡å™¨ï¼Œå‘é€å¿ƒè·³â†’ æœåŠ¡å™¨è¿”å›žè¿žæŽ¥æˆåŠŸçŠ¶æ€â†’ å®¢æˆ·ç«¯å‘èµ·æœ¬æ¬¡åè®®â†’ ä¸šåŠ¡ç±»å¤„ç†æ•°æ®åº“æ“ä½œå¹¶å°†æ•°æ®è¿”å›žç»™å®¢æˆ·ç«¯ ä»–æ—¥å°†æ”¹è¿›ä¹‹å¤„ é™ä½Žæ¨¡å—é—´è€¦åˆåº¦ æ–°ä¸šåŠ¡åè®®çš„æ·»åŠ ç•¥æ˜¾ç¹ç, businessæ¨¡å—å¯ä»¥éµå¾ªå¼€é—­åŽŸåˆ™æ¥é€‚å½“é‡æž„ ç¼–å†™ç»´æŠ¤å·¥å…· æ•°æ®ä¼ è¾“åè®®å¾…ä¼˜åŒ– ç¼–å†™æµ‹è¯•å·¥å…·]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>boost</tag>
        <tag>mysql</tag>
        <tag>glog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kbeæœåŠ¡ç«¯ç¬”è®°(äºŒ)]]></title>
    <url>%2F2017%2F07%2F29%2Fkbe%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%AC%94%E8%AE%B0(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[FixedMessagesï¼šFixedMessageså­˜å‚¨æ‰€æœ‰å›ºå®šæ¶ˆæ¯ï¼ˆæœ‰æ˜¾ç¤ºåˆ¶å®šidçš„æ¶ˆæ¯ï¼Œå½“ç„¶ï¼Œè¿™å¹¶ä¸è¡¨ç¤ºéžå›ºå®šæ¶ˆæ¯å°±æ²¡æœ‰idï¼Œä¹Ÿæ˜¯æœ‰çš„ï¼Œåªæ˜¯ä¸æ˜¯æ˜¾ç¤ºåˆ¶å®šçš„ï¼‰ã€‚ å®ƒçš„æž„é€ åœ°æ–¹å¦‚ä¸‹ï¼ˆlib/network/message_handler.cppï¼‰ï¼š123456789101112MessageHandlers::MessageHandlers():msgHandlers_(),msgID_(1),exposedMessages_()&#123; g_fm = Network::FixedMessages::getSingletonPtr(); if(g_fm == NULL) g_fm = newNetwork::FixedMessages; Network::FixedMessages::getSingleton().loadConfig(&quot;server/messages_fixed.xml&quot;); messageHandlers().push_back(this);&#125; æ„å³MessageHandlersæž„é€ çš„æ—¶å€™ï¼Œå¦‚æžœå®ƒè¿˜æ²¡æž„é€ ï¼Œé‚£å°±æž„é€ ã€‚å®ƒçš„åˆå§‹åŒ–ï¼ˆé…ç½®ï¼‰æ˜¯ç”±loadConfigæŽ¥å£æ¥å®Œæˆçš„ï¼Œä»£ç è§ä¸Šã€‚ loginapp Loginappç»„ä»¶ä¸»è¦ç”¨æ¥å¤„ç†è´¦æˆ·ç™»å½•/æ³¨å†Œçš„ä¸šåŠ¡ æ¶ˆæ¯ä¸Žhandleræ˜ å°„çš„å»ºç«‹ï¼šä¸¤æ¬¡åŒ…å«xxx_interface.hï¼Œå®žçŽ°å£°æ˜Žå’Œå®šä¹‰ï¼šæ¯ä¸ªappç»„ä»¶çš„æŽ¥å£å®šä¹‰éƒ½åœ¨xxxapp_interface.cppä¸­å¼€å§‹ï¼Œä»£ç å¦‚ä¸‹ï¼š123456789#include&quot;loginapp_interface.h&quot;#defineDEFINE_IN_INTERFACE#defineLOGINAPP#include&quot;loginapp_interface.h&quot;namespaceKBEngine&#123;namespaceLoginappInterface&#123;&#125;&#125; æ‰€æœ‰çš„æˆæ³•éƒ½æ˜¯é€šè¿‡åŒ…å«loginapp_interface.hå‰åŽå®šä¹‰äº†DEFINE_IN_INTERFACEå’ŒLOGINAPPæ¥å®Œæˆçš„ã€‚ç¬¬ä¸€æ¬¡çš„åŒ…å«å°±æ˜¯å„ç§å˜é‡ï¼Œç±»çš„å£°æ˜Žï¼ˆå½“ç„¶ä¹Ÿæœ‰ä¸€äº›ç±»æ˜¯å£°æ˜Žç±»æ—¶ä½¿ç”¨ç±»inlineå‡½æ•°å®šä¹‰å®Œæˆäº†ï¼Œæ¯”å¦‚MESSAGE_ARGS0/1/2â€¦â€¦ï¼‰ã€‚æˆ‘ä»¬çœ‹çœ‹loginapp_interface.hä¸­çš„ä»£ç ï¼š æ¶ˆæ¯ä¸Žhandlersçš„å­˜å‚¨é¦–å…ˆæ˜¯è¿™ä¸€å¥ï¼šNETWORK_INTERFACE_DECLARE_BEGIN(LoginappInterface)æ­¤å¥å±•å¼€çš„è¯å£°æ˜Žå’Œå®šä¹‰äº†Network::MessageHandlers messageHandlersï¼ˆè®°ä½å®ƒä»¬éƒ½åœ¨LoginappInterfaceå‘½åç©ºé—´å†…ï¼‰ï¼Œå±•å¼€å®ä¹‹åŽçš„ä»£ç çœ‹èµ·æ¥åƒè¿™æ ·ï¼ˆæ˜¯çš„ï¼Œä½ çš„çœ¼ç›æ˜¯å¥½çš„ï¼Œæ²¡æœ‰}é—­åˆï¼‰ï¼šå£°æ˜Žï¼š12345namespaceLoginappInterface &#123;extern Network::MessageHandlers messageHandlers;å®šä¹‰ï¼šnamespaceLoginappInterface &#123; Network::MessageHandlers messageHandlers; æ¶ˆæ¯ä¸Žhandleå»ºç«‹æ˜ å°„ç„¶åŽæ˜¯è¿™ä¸€å¥ï¼šLOGINAPP_MESSAGE_DECLARE_ARGS0(importClientMessages, NETWORK_FIXED_MESSAGE)æ­¤å¥å±•å¼€çš„è¯åˆ†æ˜Žå£°æ˜Žå’Œå®šä¹‰äº†ä¸€ä¸ªimportClientMessagesLoginappMessagehandler0çš„ç±»ï¼Œè¿™ä¸ªç±»ç»§æ‰¿è‡ªNetwork::MessageHandlerï¼Œè¿™é‡Œå°±æ˜¯å®žçŽ°äº†handleçš„è™šå‡½æ•°æŽ¥å£ï¼›å£°æ˜Žå’Œå®šä¹‰äº†importClientMessagesLoginappMessagehandler0çš„ä¸€ä¸ªåä¸ºimportClientMessagesçš„å…¨å±€å˜é‡ï¼›å£°æ˜Žå’Œå®šä¹‰äº†importClientMessagesArgs0çš„ç±»ï¼Œè¿™ä¸ªç±»ç»§æ‰¿è‡ªNetwork::MessageArgsã€‚æˆ‘ä»¬ä¸€ä¸ªä¸ªåœ°åˆ†æžä¸€ä¸‹ï¼šé¦–å…ˆå±•å¼€ä¸‹é¢çš„å®ï¼š1LOGINAPP_MESSAGE_DECLARE_ARGS0(importClientMessages, NETWORK_FIXED_MESSAGE) ä¹‹åŽæ˜¯è¿™æ ·ï¼š12345678910111213141516#defineLOGINAPP_MESSAGE_DECLARE_ARGS0(NAME, MSG_LENGTH) \LOGINAPP_MESSAGE_HANDLER_ARGS0(NAME) \NETWORK_MESSAGE_DECLARE_ARGS0(Loginapp, NAME, \ NAME##LoginappMessagehandler0, MSG_LENGTH)å±•å¼€LOGINAPP_MESSAGE_HANDLER_ARGS0(NAME)ä¹‹åŽåˆ†åˆ«å¾—åˆ°importClientMessagesLoginappMessagehandler0çš„å£°æ˜Žå’Œå®šä¹‰ï¼šå£°æ˜Žï¼šclassimportClientMessagesLoginappMessagehandler0 : public Network::MessageHandler&#123;public:virtualvoidhandle(Network::Channel* pChannel, KBEngine::MemoryStream&amp;s);&#125;;å®šä¹‰ï¼švoidimportClientMessagesLoginappMessagehandler0::handle(Network::Channel* pChannel, KBEngine::MemoryStream&amp;s)&#123; KBEngine::Loginapp::getSingleton().importClientMessages(pChannel);&#125; ï¼ˆhandle/handlerï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚ã€‚ã€‚è¿™é‡Œçš„handleæ˜¯xxxAppä¸­çœŸæ­£ç”¨æ¥å¤„ç†è¿™ä¸ªæ¶ˆæ¯çš„æŽ¥å£ï¼Œè€Œè¿™é‡Œçš„handleræä¾›ä¸€ä¸ªä¸­é—´å±‚çš„ä½œç”¨ï¼Œé›†ä¸­å¤„ç†ä¸€äº›é€šç”¨çš„å·¥ä½œï¼Œå¯ä»¥å°†è€¦åˆå‡å°‘ä¸€ç‚¹ï¼‰ä¸Šé¢å®Œæˆäº†ç›¸å½“äºŽæ˜¯importClientMessagesæ¶ˆæ¯çš„handlerçš„å£°æ˜Žå’Œå®šä¹‰ï¼Œä¸‹é¢åˆ™å°†è¿™ä¸ªç±»å®žä¾‹åŒ–ä¹‹åŽæ·»åŠ åˆ°messageHandlersï¼š12345#defineNETWORK_MESSAGE_DECLARE_ARGS0(DOMAIN, NAME, MSGHANDLER, \ MSG_LENGTH) \ NETWORK_MESSAGE_HANDLER(DOMAIN, NAME, MSGHANDLER, MSG_LENGTH, 0)\ MESSAGE_ARGS0(NAME) \ å±•å¼€NETWORK_MESSAGE_HANDLER(DOMAIN, NAME, MSGHANDLER, MSG_LENGTH, 0)ä¹‹åŽå¾—åˆ°importClientMessagesçš„handlerç±»ï¼ˆimportClientMessagesLoginappMessagehandler0ï¼‰çš„åä¸ºimportClientMessagesçš„å…¨å±€å˜é‡ï¼ˆä¸è¿‡æ¬£æ…°çš„æ˜¯ä»–ä»¬éƒ½åœ¨å„è‡ªçš„XXXInterfaceå‘½åç©ºé—´å†…ï¼‰ã€‚å£°æ˜Žï¼šexternconstimportClientMessagesLoginappMessagehandler0&amp;importClientMessages; å®šä¹‰ï¼š12importClientMessagesLoginappMessagehandler0* pimportClientMessages = static_cast&lt;importClientMessagesLoginappMessagehandler0*&gt;(messageHandlers.add(&quot;Loginapp::importClientMessages&quot;,new importClientMessagesArgs0, NETWORK_FIXED_MESSAGE, newimportClientMessagesLoginappMessagehandler0);constimportClientMessagesLoginappMessagehandler0&amp;importClientMessages = *pimportClientMessages; ä¸‹é¢çš„MESSAGE_ARGS0(NAME)å±•å¼€åŽå¯¹importClientMessagesArgs0è¿›è¡Œäº†å£°æ˜Žå’Œå®šä¹‰ï¼ˆå…¶ä»–å®ƒå£°æ˜Žçš„æ—¶å€™å°±å·²ç»å®Œæˆäº†å…¨éƒ¨çš„å®šä¹‰ï¼‰ï¼Œå£°æ˜Žçš„æ—¶å€™å°±æ˜¯ä¸ªç©ºè¯­å¥ï¼šå£°æ˜Žå…¼å®šä¹‰ï¼š1234567891011121314151617181920212223classimportClientMessagesArgs0 : public Network::MessageArgs&#123;public:importClientMessagesArgs0() :Network::MessageArgs() &#123;&#125; ~importClientMessagesArgs0() &#123;&#125;staticvoidstaticAddToBundle(Network::Bundle&amp;s) &#123; &#125;staticvoidstaticAddToStream(MemoryStream&amp;s) &#123; &#125;virtual int32 dataSize(void) &#123;return 0; &#125;virtualvoidaddToStream(MemoryStream&amp;s) &#123; &#125;virtualvoidcreateFromStream(MemoryStream&amp;s) &#123; &#125;&#125;; å”¯ä¸€éœ€è¦å°æ³¨æ„ä¸€ä¸‹çš„å°±æ˜¯importClientMessagesArgs0çš„å£°æ˜Žï¼ˆå…¼å®šä¹‰ï¼‰æ˜¯å’ŒimportClientMessagesLoginappMessagehandler0çš„å®žä¾‹çš„å£°æ˜Žå’Œå®šä¹‰æ˜¯é”™å¼€çš„ï¼Œå› ä¸ºåŽè€…å®žä¾‹åŒ–æ·»åŠ åˆ°messageHandlersçš„æ—¶å€™éœ€è¦newä¸€ä¸ªimportClientMessagesArgs0çš„å®žä¾‹ã€‚ æµç¨‹çš„ä¼ªä»£ç ç¨å¾®æ•´ç†ä¸€ä¸‹ä¹‹åŽï¼Œä½¿ç”¨LOGINAPP_MESSAGE_HANDLER_ARGSnå»ºç«‹ä¸€ä¸ªæ¶ˆæ¯åˆ°handlerçš„æ˜ å°„çš„ä»£ç å¾ˆåƒæ˜¯è¿™æ ·ï¼š å£°æ˜Žï¼šï¼ˆç¬¬ä¸€æ¬¡åŒ…å«loginapp_interface.häº§ç”Ÿçš„ä»£ç ï¼‰ 12345678910111213141516171819202122232425262728293031classimportClientMessagesLoginappMessagehandler0 : public Network::MessageHandler&#123;public:virtualvoidhandle(Network::Channel* pChannel, KBEngine::MemoryStream&amp;s);&#125;;externconstimportClientMessagesLoginappMessagehandler0&amp;importClientMessages;classimportClientMessagesArgs0 : public Network::MessageArgs&#123;public:importClientMessagesArgs0() :Network::MessageArgs() &#123;&#125; ~importClientMessagesArgs0() &#123;&#125;staticvoidstaticAddToBundle(Network::Bundle&amp;s) &#123; &#125;staticvoidstaticAddToStream(MemoryStream&amp;s) &#123; &#125;virtual int32 dataSize(void) &#123;return 0; &#125;virtualvoidaddToStream(MemoryStream&amp;s) &#123; &#125;virtualvoidcreateFromStream(MemoryStream&amp;s) &#123; &#125;&#125;; å®šä¹‰ï¼šï¼ˆå®šä¹‰DEFINE_IN_INTERFACEå’ŒLOGINAPPä¹‹åŽç¬¬äºŒæ¬¡åŒ…å«loginapp_interface.häº§ç”Ÿçš„ä»£ç ï¼‰ 1234567891011voidimportClientMessagesLoginappMessagehandler0::handle(Network::Channel* pChannel, KBEngine::MemoryStream&amp;s)&#123; KBEngine::Loginapp::getSingleton().importClientMessages(pChannel);&#125;importClientMessagesLoginappMessagehandler0* pimportClientMessages = static_cast&lt;importClientMessagesLoginappMessagehandler0*&gt;(messageHandlers.add(&quot;Loginapp::importClientMessages&quot;,newimportClientMessagesArgs0, NETWORK_FIXED_MESSAGE,newimportClientMessagesLoginappMessagehandler0);constimportClientMessagesLoginappMessagehandler0&amp;importClientMessages = *pimportClientMessages; æ¶ˆæ¯idï¼šå›ºå®šæ¶ˆæ¯ä¸Žéžå›ºå®šæ¶ˆæ¯è¦æŽ¥ç€v0.0.3çš„åˆ†æžç»§ç»­å†™ï¼Œå›žè¿‡å¤´æ¥è¦çœ‹ä¹‹å‰å†™çš„ä¸œè¥¿è¯´å®žè¯è‡ªå·±éƒ½æœ‰ç‚¹éš¾ä»¥ç†è§£ã€‚ã€‚ã€‚ä¸è¿‡å‡ºäºŽå¹¸è¿æˆ–è€…åŠªåŠ›ï¼Œæ€»ç®—æ˜¯çœ‹æ‡‚äº†;-(ï¼Œè¯»æºä»£ç ï¼ˆæ„Ÿè§‰ç‰¹åˆ«æ˜¯C++ï¼‰æœ¬æ¥å°±ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹ï¼Œæ‰€ä»¥è¯»æºä»£ç ä¸€å®šè¦åšå¥½é•¿æœŸæˆ˜æ–—çš„å‡†å¤‡ã€‚ä¸Šé¢æˆ‘ä»¬åˆ†æžåˆ°äº†ï¼Œå…¶å®žä¸€ä¸ªæ¶ˆæ¯ï¼Œå°±æ˜¯ç”±è¿™æ ·ä¸€ä¸ªå®æ¥å’Œå®ƒçš„handleå»ºç«‹é“¾æŽ¥çš„ï¼šLOGINAPP_MESSAGE_DECLARE_ARGS0(importClientMessages, NETWORK_FIXED_MESSAGE)é€šè¿‡ä¸Šé¢çš„åˆ†æžï¼Œæˆ‘ä»¬å¾—çŸ¥ï¼Œå®žé™…ä¸Šå»ºç«‹æ¶ˆæ¯å’Œhandleæ˜ å°„ï¼Œèµ·åˆ°æ ¸å¿ƒä½œç”¨çš„æŽ¥å£æ˜¯messageHandlers.add(xxx, xxxx)ï¼Œæ‰€ä»¥æˆ‘ä»¬è·Ÿè¿›åŽ»çœ‹çœ‹ï¼ˆlib/network/message_handler.cppï¼‰ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869MessageHandler* MessageHandlers::add(std::stringihName, MessageArgs* args, int32msgLen, MessageHandler* msgHandler)&#123; if(msgID_ == 1) &#123; //printf(&quot;\n------------------------------------------------------------------\n&quot;); //printf(&quot;KBEMessage_handlers begin:\n&quot;); &#125; //bool isfixedMsg = false; FixedMessages::MSGInfo* msgInfo = FixedMessages::getSingleton().isFixed(ihName.c_str()); if(msgInfo == NULL) &#123; while(true) &#123; if(FixedMessages::getSingleton().isFixed(msgID_)) &#123; msgID_++; //isfixedMsg = true; &#125; else &#123; break; &#125; &#125;; msgHandler-&gt;msgID = msgID_++; &#125; else &#123; msgHandler-&gt;msgID = msgInfo-&gt;msgid; &#125; msgHandler-&gt;name = ihName; msgHandler-&gt;pArgs = args; msgHandler-&gt;msgLen = msgLen; msgHandler-&gt;exposed = false; msgHandler-&gt;pMessageHandlers = this; msgHandler-&gt;onInstall(); msgHandlers_[msgHandler-&gt;msgID] = msgHandler; if(msgLen == NETWORK_VARIABLE_MESSAGE) &#123; //printf(&quot;\tMessageHandlers::add(%d): name=%s, msgID=%d, size=Variable.\n&quot;, // (int32)msgHandlers_.size(), ihName.c_str(), msgHandler-&gt;msgID); &#125; else &#123; if(msgLen == 0) &#123; msgHandler-&gt;msgLen = args-&gt;dataSize(); if(msgHandler-&gt;type() == NETWORK_MESSAGE_TYPE_ENTITY) &#123; msgHandler-&gt;msgLen += sizeof(ENTITY_ID); &#125; &#125; //printf(&quot;\tMessageHandlers::add(%d): name=%s, msgID=%d, size=Fixed(%d).\n&quot;, // (int32)msgHandlers_.size(), ihName.c_str(), msgHandler-&gt;msgID, msgHandler-&gt;msgLen); &#125; //if(isfixedMsg) // printf(&quot;\t\t!!!message is fixed.!!!\n&quot;); returnmsgHandler;&#125; å¤§æ„å¯ä»¥ç†è§£ä¸ºï¼Œé¦–å…ˆçœ‹çœ‹æ¶ˆæ¯åç§°æ˜¯ä¸æ˜¯ä¸€ä¸ªå›ºå®šæ¶ˆæ¯ï¼Œæˆ‘ä»¬è·Ÿè¿›åŽ»çœ‹çœ‹ï¼ˆlib/network/fixed_messages.cppï¼‰ï¼š123456789101112131415161718192021222324252627FixedMessages::MSGInfo* FixedMessages::isFixed(constchar* msgName)&#123; MSGINFO_MAP::iteratoriter = _infomap.find(msgName); if(iter != _infomap.end()) &#123; MSGInfo* infos = &amp;iter-&gt;second; returninfos; &#125; returnNULL;&#125;//-------------------------------------------------------------------------------------boolFixedMessages::isFixed(MessageIDmsgid)&#123; MSGINFO_MAP::iteratoriter = _infomap.begin(); while (iter != _infomap.end()) &#123; FixedMessages::MSGInfo&amp;infos = iter-&gt;second; if(infos.msgid == msgid) returntrue; ++iter; &#125; returnfalse;&#125; å›ºå®šæ¶ˆæ¯é€šè¿‡é€šè¯»FixedMessagesï¼ˆfixed_message.h/.cppï¼‰å¯ä»¥çœ‹åˆ°è¿™ä¸ª_infomapæ˜¯åœ¨loadConfigä¸­å»ºç«‹çš„ï¼Œè¿™ä¸ª_infomapå°±æ˜¯æ‰€è°“çš„å›ºå®šæ¶ˆæ¯ï¼ˆfixed messageï¼‰ä¸Žå…¶idçš„æ˜ å°„è¡¨ã€‚loadConfigå°±æ˜¯æ£€è§†server/messages_fixed.xmlï¼Œå°†å…¶ä¸­çš„æ¶ˆæ¯åç§°ä¸Žå…¶idå…³è”å»ºç«‹è¿™ä¸ªæ˜ å°„è¡¨ã€‚æˆ‘ä»¬ç»§ç»­æŽ¥ç€çœ‹MessageHandlers::addæŽ¥å£ã€‚ éžå›ºå®šæ¶ˆæ¯å¯¹äºŽisFixedä¸ºå‡çš„æ¶ˆæ¯ï¼ˆéžå›ºå®šæ¶ˆæ¯ï¼‰ï¼Œåˆ™ä¸ºå…¶ç”Ÿæˆä¸€ä¸ªidï¼ˆéšç€è°ƒç”¨addçš„æ¬¡åºä¾æ¬¡é€’å¢žï¼‰ï¼Œè¿™ä¸ªidæ˜¯åœ¨MessageHandlersç±»ä¸­å”¯ä¸€çš„ï¼Œè€Œæ¯ä¸ªç»„ä»¶çš„MessageHandlersåˆæ˜¯å¤„äºŽè‡ªå·±çš„å‘½åç©ºé—´å†…ï¼Œæ‰€ä»¥å½“å‡ºçŽ°æŸä¸ªç»„ä»¶çš„éžå›ºå®šæ¶ˆæ¯æ—¶ï¼Œåˆ™ä¼šä¸ºå…¶ç”Ÿæˆå•ä¸€ç»„ä»¶å†…å”¯ä¸€çš„idï¼ˆä½†è¿™ä¸ªidå¹¶ä¸æ˜¯æ‰€æœ‰ç»„ä»¶å†…å”¯ä¸€çš„ï¼‰ã€‚äºŽæ˜¯å¯èƒ½å‡ºçŽ°è¿™ç§æƒ…å†µï¼ŒLoginapp::xxxxä¸ŽDbmgr::yyyyéƒ½æ˜¯éžå›ºå®šæ¶ˆæ¯ï¼Œä½†ä»–ä»¬å´æœ‰ç€åŒæ ·çš„æ¶ˆæ¯idï¼Œæ­¤æ—¶è‹¥æœ‰å…¶ä»–ç»„ä»¶å‘é€å…¶ä¸­ä»»ä¸€æ¶ˆæ¯ç»™å…¶ä»–ç»„ä»¶ï¼ŒæŽ¥å—æ¶ˆæ¯çš„ç»„ä»¶å°†æ— æ³•è¯†åˆ«åˆ°åº•æ˜¯Loginapp::xxxxæˆ–è€…æ˜¯Dbmgr::yyyyã€‚å½“ç„¶ï¼Œåªè¦æˆ‘ä»¬å°†éžå›ºå®šæ¶ˆæ¯å‘é€ç»™æ‰€å±žçš„ç»„ä»¶ï¼Œåˆ™ä¸ä¼šæœ‰é—®é¢˜ï¼ˆä¸Šä¾‹ä¸­ä»»ä½•ç»„ä»¶å°†Loginapp::xxxxå‘é€ç»™loginappéƒ½æ˜¯ä¸ä¼šå‡ºä¹±å­çš„ï¼‰ã€‚ dbmgr dbmgrç»„ä»¶ä¸»è¦è´Ÿè´£æ•°æ®åº“ç›¸å…³çš„äº‹åŠ¡ï¼Œæ¯”å¦‚ï¼šè´¦æˆ·ç™»å½•/æ³¨å†Œäº‹åŠ¡ï¼›è´¦æˆ·å……å€¼]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>kbe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNPï¼ˆUNIXç½‘ç»œç¼–ç¨‹ï¼‰13ç« åˆ°31ç« ç¬”è®°æ•´ç†ï¼ˆç»“åˆTLPIå’ŒAPUEä¸¤ä¹¦çš„ç¬”è®°æ•´ç†ï¼‰(äºŒ)]]></title>
    <url>%2F2017%2F07%2F29%2F%E9%87%8D%E8%AF%BBUNP%EF%BC%88UNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%8913%E7%AB%A0%E5%88%B031%E7%AB%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%88%E7%BB%93%E5%90%88TLPI%E5%92%8CAPUE%E4%B8%A4%E4%B9%A6%E7%9A%84%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%89(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[16ç«  16.3èŠ‚ ï¼š éžé˜»å¡žconnect æœ‰ä¸‰ä¸ªç”¨é€”ï¼š æˆ‘ä»¬æƒ³åœ¨connectçš„æ—¶å€™å¤„ç†å…¶ä»–äº‹æƒ… å¯ä»¥åŒæ—¶å»ºç«‹å¤šä¸ªè¿žæŽ¥ å¯ä»¥é€šè¿‡selectè®¾ç½®ä¸€ä¸ªæ›´çŸ­ä¸€ç‚¹çš„è¶…æ—¶æ—¶é—´ å®žçŽ°æ­¥éª¤ï¼š ç”¨fcntlæŠŠå¥—æŽ¥å­—è®¾ç½®ä¸ºéžé˜»å¡ž å¤„ç†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½åœ¨åŒä¸€ä¸»æœºä¸Šçš„æƒ…å†µ ä½¿ç”¨selectè®¾ç½®è¶…æ—¶ï¼Œå¹¶å¤„ç†è¶…æ—¶æƒ…å†µ å¤„ç†å½“è¿žæŽ¥å»ºç«‹çš„æ—¶å€™ï¼Œæè¿°ç¬¦å˜ä¸ºå¯å†™ï¼›ä»¥åŠå½“è¿žæŽ¥å»ºç«‹é‡åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œ æè¿°ç¬¦å˜ä¸ºå¯å†™å¹¶å¯è¯»çš„æƒ…å†µ 16.6èŠ‚ ï¼š éžé˜»å¡žacceptï¼Œ ç”¨äºŽè§£å†³ä¸‹é¢é—®é¢˜ï¼š â€œç”¨selectæ£€æµ‹socketçŠ¶æ€ï¼Œå¦‚æžœæœ‰è¿žæŽ¥å°±è°ƒç”¨acceptï¼Œè¿™æ ·å¦‚æžœåœ¨selectæ£€æµ‹åˆ°ç”±è¿žæŽ¥è¯·æ±‚ï¼Œåœ¨è°ƒç”¨acceptä¹‹å‰ï¼Œè¿™ä¸ªè¯·æ±‚æ–­å¼€äº†ï¼Œç„¶åŽè°ƒç”¨acceptçš„æ—¶å€™å°±ä¼šé˜»å¡žåœ¨å“ªé‡Œï¼Œé™¤éžè¿™æ—¶æœ‰å¦å¤–ä¸€ä¸ªè¿žæŽ¥è¯·æ±‚ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œåˆ™ä¸€ç›´è¢«é˜»å¡žåœ¨é‚£é‡Œã€‚â€ è§£å†³æ–¹æ¡ˆï¼š ä½¿ç”¨selectåœ¨ä¸€ä¸ªç›‘å¬å¥—æŽ¥å­—å‡†å¤‡å¥½è¦è¢«acceptæ—¶æ€»æ˜¯æŠŠå¥—æŽ¥å­—è®¾ç½®ä¸ºéžé˜»å¡ž 26ç« å’Œ30ç« ä»‹ç»äº†çº¿ç¨‹å’Œå¹¶å‘/å¹¶è¡Œçš„æœåŠ¡å™¨è®¾è®¡èŒƒå¼ï¼Œç­‰ä¸‹ç¯‡TLPI/APUEçš„ç¬”è®°ä¸€èµ·æ•´ç†å§]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNPï¼ˆUNIXç½‘ç»œç¼–ç¨‹ï¼‰13ç« åˆ°31ç« ç¬”è®°æ•´ç†ï¼ˆç»“åˆTLPIå’ŒAPUEä¸¤ä¹¦çš„ç¬”è®°æ•´ç†ï¼‰(ä¸€)]]></title>
    <url>%2F2017%2F07%2F28%2F%E9%87%8D%E8%AF%BBUNP%EF%BC%88UNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%8913%E7%AB%A0%E5%88%B031%E7%AB%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%88%E7%BB%93%E5%90%88TLPI%E5%92%8CAPUE%E4%B8%A4%E4%B9%A6%E7%9A%84%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%89(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[å› ä¸ºUNPç¬¬ä¸‰éƒ¨åˆ†ï¼ˆç¬¬ä¸‰ç‰ˆ13-31ç« ï¼‰çš„å†…å®¹ç»“åˆAPUEï¼ˆUNIXçŽ¯å¢ƒé«˜çº§ç¼–ç¨‹ï¼‰å’ŒTLPIï¼ˆThe Linux Programming Interfaceï¼‰æ¥çœ‹æ‰èƒ½æ¯”è¾ƒæ¸…æ™°ï¼Œæ‰€ä»¥ç¬”è®°æ•´ç†ä¼šç©¿æ’å¾ˆå¤šè¿™ä¸¤æœ¬ä¹¦çš„å†…å®¹ 13ç« å¼•ç”³çŸ¥è¯†ï¼Œä½œä¸šæŽ§åˆ¶ä»¥åŠç›¸å…³å‘½ä»¤ï¼š å¦æ³¨ï¼š æ³¨ï¼šä½†æ˜¯å¦‚ä¸Šæ–¹åˆ°åŽå°æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå…¶çˆ¶è¿›ç¨‹è¿˜æ˜¯å½“å‰ç»ˆç«¯shellçš„è¿›ç¨‹ï¼Œè€Œä¸€æ—¦çˆ¶è¿›ç¨‹é€€å‡ºï¼Œåˆ™ä¼šå‘é€hangupä¿¡å·ç»™æ‰€æœ‰å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹æ”¶åˆ°hangupä»¥åŽä¹Ÿä¼šé€€å‡ºã€‚ 13.4èŠ‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªdaemon_initå‡½æ•°ï¼Œæ¶‰åŠåˆ°çŸ¥è¯†ç‚¹ä¸ºâ€œå¦‚ä½•åˆ›å»ºä¸€ä¸ªdaemonï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰â€ï¼Œå®žçŽ°æ­¥éª¤å¦‚ä¸‹ï¼š forkä¹‹åŽæ€æŽ‰çˆ¶è¿›ç¨‹ï¼ˆæ­¤æ—¶å­è¿›ç¨‹è¢«initæ”¶å…»ï¼‰è¿™æ˜¯ä¸ºäº†ä¸ºä¸‹ä¸€æ­¥setsidåšå‡†å¤‡ï¼Œå› ä¸ºåªæœ‰ä¸æ˜¯è¿›ç¨‹ç»„é¦–è¿›ç¨‹çš„è¿›ç¨‹æ‰èƒ½è°ƒç”¨setsidï¼Œ setsidï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯å¹¶æ–­å¼€ä¸Žä¹‹å‰çš„æŽ§åˆ¶ç»ˆç«¯çš„å…³ç³»ï¼Œ å†æ¬¡forkå¹¶æ€æŽ‰é¦–è¿›ç¨‹ï¼Œ è¿™æ ·å°±ç¡®ä¿äº†å­è¿›ç¨‹ä¸æ˜¯ä¸€ä¸ªä¼šè¯é¦–è¿›ç¨‹ï¼Œ æ ¹æ®linuxä¸­èŽ·å–ç»ˆç«¯çš„è§„åˆ™ï¼ˆåªæœ‰ä¼šè¯é¦–è¿›ç¨‹æ‰èƒ½è¯·æ±‚ä¸€ä¸ªæŽ§åˆ¶ç»ˆç«¯ï¼‰ï¼Œ è¿™æ ·è¿›ç¨‹æ°¸è¿œä¸ä¼šé‡æ–°è¯·æ±‚ä¸€ä¸ªæŽ§åˆ¶ç»ˆç«¯ æ¸…æ¥šè¿›ç¨‹çš„umaskï¼Œç¡®ä¿daemonåˆ›å»ºæ–‡ä»¶å’Œç›®å½•æ—¶æ‹¥æœ‰ç›¸åº”çš„æƒé™ ä¿®æ”¹è¿›ç¨‹çš„å½“å‰å·¥ä½œç›®å½•ï¼Œ é€šå¸¸ä¿®æ”¹åˆ°/ç›®å½• å…³é—­è¿›ç¨‹æ‰€æœ‰ä¸å†éœ€è¦çš„æ–‡ä»¶æè¿°ç¬¦ æ‰“å¼€/dev/nullä½¿æ–‡ä»¶æè¿°ç¬¦0ã€1ã€2æŒ‡å‘è¿™ä¸ªè®¾å¤‡ï¼Œ ä»¥é˜²æ­¢daemonè°ƒç”¨åœ¨è¿™äº›æè¿°ç¬¦ä¸ŠåšI/Oæ“ä½œçš„åº“å‡½æ•°è€Œä¸ä¼šæ„å¤–çš„å¤±è´¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &quot;unp.h&quot;#include &lt;syslog.h&gt;#define MAXFD 64extern int daemon_proc; /* defined in error.c */intdaemon_init(const char *pname, int facility)&#123; int i; pid_t pid; if ( (pid = Fork()) &lt; 0) return (-1); else if (pid) _exit(0); /* parent terminates */ /* child 1 continues... */ if (setsid() &lt; 0) /* become session leader */ return (-1); Signal(SIGHUP, SIG_IGN); if ( (pid = Fork()) &lt; 0) return (-1); else if (pid) _exit(0); /* child 1 terminates */ /* child 2 continues... */ daemon_proc = 1; /* for err_XXX() functions */ chdir(&quot;/&quot;); /* change working directory */ /* close off file descriptors */ for (i = 0; i &lt; MAXFD; i++) close(i); /* redirect stdin, stdout, and stderr to /dev/null */ open(&quot;/dev/null&quot;, O_RDONLY); open(&quot;/dev/null&quot;, O_RDWR); open(&quot;/dev/null&quot;, O_RDWR); openlog(pname, LOG_PID, facility); return (0); /* success */&#125; nohupå’Œsetsidç”¨æ³• å¦‚æžœæˆ‘ä»¬è¦åœ¨é€€å‡ºshellçš„æ—¶å€™ç»§ç»­è¿è¡Œè¿›ç¨‹ï¼Œåˆ™éœ€è¦ä½¿ç”¨nohupå¿½ç•¥hangupä¿¡å·ï¼Œæˆ–è€…setsidå°†çˆ¶è¿›ç¨‹è®¾ä¸ºinitè¿›ç¨‹ï¼›1234567891011121314151617181920212223242526272829303132333435363738394041b@b-VirtualBox:~/my_temp_test$ nohup ./o_multi_thread_process &amp;[1] 3487b@b-VirtualBox:~/my_temp_test$ nohup: ignoring input and appending output to â€˜nohup.outâ€™^Cb@b-VirtualBox:~/my_temp_test$ jobs[1]+ Running nohup ./o_multi_thread_process &amp;b@b-VirtualBox:~/my_temp_test$ ps -ef | grep multib 3487 3004 0 20:05 pts/3 00:00:00 ./o_multi_thread_processb 3488 3487 0 20:05 pts/3 00:00:00 ./o_multi_thread_processb 3491 3004 0 20:05 pts/3 00:00:00 grep --color=auto multib@b-VirtualBox:~/my_temp_test$ bg %1bash: bg: job 1 already in backgroundb@b-VirtualBox:~/my_temp_test$ fg %1nohup ./o_multi_thread_process^Z[1]+ Stopped nohup ./o_multi_thread_processb@b-VirtualBox:~/my_temp_test$ bg %1[1]+ nohup ./o_multi_thread_process &amp;b@b-VirtualBox:~/my_temp_test$ jobs -l[1]+ 3487 Running nohup ./o_multi_thread_process &amp;b@b-VirtualBox:~/my_temp_test$ fg %1nohup ./o_multi_thread_process^Cb@b-VirtualBox:~/my_temp_test$ jobsb@b-VirtualBox:~/my_temp_test$ ps -ef | grep multib 3499 3004 0 20:11 pts/3 00:00:00 grep --color=auto multib@b-VirtualBox:~/my_temp_test$ setsid ./o_multi_thread_process &amp;[1] 3502b@b-VirtualBox:~/my_temp_test$ ProcessA: 3503 step1ProcessA: 3503 thread 139947724490496 step2ProcessA: 3503 thread 139947724490496 step3ProcessB: 3504 step1ProcessB: 3504 step2ProcessB: 3504 step3^C[1]+ Done setsid ./o_multi_thread_processb@b-VirtualBox:~/my_temp_test$ ps -ef | grep multib 3503 1256 0 20:12 ? 00:00:00 ./o_multi_thread_processb 3504 3503 0 20:12 ? 00:00:00 ./o_multi_thread_processb 3507 3004 0 20:12 pts/3 00:00:00 grep --color=auto multib@b-VirtualBox:~/my_temp_test$ jobs disownç”¨æ³• é‚£ä¹ˆå¯¹äºŽå·²ç»åœ¨åŽå°è¿è¡Œçš„è¿›ç¨‹ï¼Œè¯¥æ€Žä¹ˆåŠžå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨disownå‘½ä»¤1234567891011121314b@b-VirtualBox:~/my_temp_test$ ./o_multi_thread_process &amp;[1] 3523b@b-VirtualBox:~/my_temp_test$ ProcessA: 3523 step1ProcessA: 3523 thread 140501901821696 step2ProcessA: 3523 thread 140501901821696 step3ProcessB: 3524 step1ProcessB: 3524 step2ProcessB: 3524 step3^Cb@b-VirtualBox:~/my_temp_test$ jobs -l[1]+ 3523 Running ./o_multi_thread_process &amp;b@b-VirtualBox:~/my_temp_test$ disown -h %1b@b-VirtualBox:~/my_temp_test$ jobs[1]+ Running ./o_multi_thread_process &amp;]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[crontabç¬”è®°æ•´ç†]]></title>
    <url>%2F2017%2F07%2F09%2Fcrontab%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[crontabå‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸Žwindowsä¸‹çš„è®¡åˆ’ä»»åŠ¡ç±»ä¼¼ï¼Œå½“å®‰è£…å®Œæˆæ“ä½œç³»ç»ŸåŽï¼Œé»˜è®¤ä¼šå®‰è£…æ­¤æœåŠ¡å·¥å…·ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å¯åŠ¨crondè¿›ç¨‹ï¼Œcrondè¿›ç¨‹æ¯åˆ†é’Ÿä¼šå®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æžœæœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆ™è‡ªåŠ¨æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚ -eï¼šç¼–è¾‘è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -lï¼šåˆ—å‡ºè¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -rï¼šåˆ é™¤è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ï¼› -u&lt;ç”¨æˆ·åç§°&gt;ï¼šæŒ‡å®šè¦è®¾å®šè®¡æ—¶å™¨çš„ç”¨æˆ·åç§° m h dom mon dow commandåˆ† æ—¶ æ—¥ æœˆ å‘¨ å‘½ä»¤ æ˜Ÿå·ï¼ˆ*ï¼‰ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚monthå­—æ®µå¦‚æžœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åŽæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œ é€—å·ï¼ˆ,ï¼‰ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼Œâ€œ1,2,5,7,8,9â€ ä¸­æ ï¼ˆ-ï¼‰ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚â€œ2-6â€è¡¨ç¤ºâ€œ2,3,4,5,6â€ æ­£æ–œçº¿ï¼ˆ/ï¼‰ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘çŽ‡ï¼Œä¾‹å¦‚â€œ0-23/2â€è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚*/10ï¼Œå¦‚æžœç”¨åœ¨minuteå­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚ ä¾‹å­ */1 * * * * sed -i &#39;$a\nani&#39; /home/b/my_temp_test/practice.cppæ¯éš”ä¸€åˆ†é’Ÿå°±åœ¨practice.cppæ–‡ä»¶çš„æœ€åŽä¸€è¡Œæ’å…¥å­—ç¬¦ä¸²â€œnaniâ€ 3,15 8-11/2 * 12 0 sed -i &#39;$a\nani&#39; /home/b/my_temp_test/practice.cpp12æœˆçš„å‘¨æ—¥çš„8-11æ—¶çš„æ—¶é—´æ®µæ¯éš”ä¸¤ä¸ªå°æ—¶å°±åœ¨ç¬¬3åˆ†é’Ÿå’Œç¬¬15åˆ†é’Ÿçš„æ—¶å€™ï¼Œåœ¨practice.cppæ–‡ä»¶çš„æœ€åŽä¸€è¡Œæ’å…¥å­—ç¬¦ä¸²â€œnaniâ€]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>crontab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNIXç½‘ç»œç¼–ç¨‹ç¬¬ä¸‰ç« åˆ°ç¬¬åä¸€ç« ç¬”è®°æ•´ç†(äºŒ)]]></title>
    <url>%2F2017%2F07%2F03%2F%E9%87%8D%E8%AF%BBUNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%88%B0%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸ƒç«  7.5èŠ‚ ï¼š é€šç”¨å¥—æŽ¥å­—é€‰é¡¹ï¼Œ å¸¸ç”¨çš„æœ‰ SO_KEEPALIVE SO_REVBUF SO_SNDBUF SO_REUSEADDR 7.9èŠ‚ ï¼š tcpå¥—æŽ¥å­—é€‰é¡¹ï¼Œ å¸¸ç”¨çš„æœ‰ TCP_NODELAY TCP_MAXSEG 7.11èŠ‚ ï¼šfcntlå‡½æ•°ï¼Œå¸¸ç”¨çš„ç”¨æ³•æ˜¯ä½¿ç”¨F_SETFLå‘½ä»¤è®¾ç½®O_NOBLOCKæ–‡ä»¶çŠ¶æ€æ ‡å¿—ï¼Œ æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªå¥—æŽ¥å­—è®¾ç½®ä¸ºéžé˜»å¡žåž‹ã€‚ ç¬¬å…«ç«  8.11èŠ‚ ï¼š UDPçš„connectå‡½æ•°ï¼Œå¯ä»¥èŽ·å¾—æ€§èƒ½æå‡ï¼Œå› ä¸ºæœªè¿žæŽ¥çš„udpæ¯æ¬¡sendtoå‘é€æ•°æ®æŠ¥çš„æ—¶å€™éƒ½è¦è¿žæŽ¥ç„¶åŽå‘é€ç„¶åŽæ–­å¼€ï¼Œ ä¹‹åŽç¬¬äºŒä¸ªæ•°æ®æŠ¥åˆè¦é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè€Œè¿žæŽ¥åŽçš„udpå¥—æŽ¥å­—åªéœ€è¦è¿žæŽ¥ç„¶åŽå‘é€ç¬¬ä¸€ä¸ªæ•°æ®æŠ¥ç„¶åŽå‘é€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå°±è¡Œäº†]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNIXç½‘ç»œç¼–ç¨‹ç¬¬ä¸‰ç« åˆ°ç¬¬åä¸€ç« ç¬”è®°æ•´ç†(ä¸€)]]></title>
    <url>%2F2017%2F07%2F02%2F%E9%87%8D%E8%AF%BBUNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%88%B0%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[å› ä¸ºç¬¬äºŒç« ä¹‹åŽåŸºæœ¬éƒ½æ˜¯çº¯Socket APIçš„å†…å®¹ï¼Œ ç¬¬ä¸‰ç« åˆ°ç¬¬åä¸€ç« çš„ç¬”è®°æ•´ç†åˆå¹¶åˆ°ä¸€èµ·ã€‚ ç¬¬ä¸‰ç«  3.4 ï¼šå­—èŠ‚æŽ’åºå‡½æ•°ï¼Œæ¶‰åŠåˆ°å¤§å°ç«¯ï¼Œå¤„ç†ç½‘ç»œå­—èŠ‚åºå’Œä¸»æœºå­—èŠ‚åºçš„è½¬æ¢ 3.6 ï¼š åœ°å€è½¬æ¢å‡½æ•°ï¼Œå¹åœ¨ASCIIå­—ç¬¦ä¸²ä¸Žç½‘ç»œå­—èŠ‚åºçš„äºŒè¿›åˆ¶å€¼ä¹‹é—´è½¬æ¢ç½‘é™…åœ°å€ç¬¬å››ç«  4.9èŠ‚ï¼šcloseå‡½æ•°ï¼Œ æ¶‰åŠåˆ°æè¿°ç¬¦å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹å¹¶å‘æœåŠ¡å™¨æ‰å¯ä»¥å…±äº«å·²è¿žæŽ¥å¥—æŽ¥å­—ï¼Œå› ä¸ºçˆ¶è¿›ç¨‹è°ƒç”¨closeå‡½æ•°çŸ¥è¯†æŠŠè¯¥å¥—æŽ¥å­—æ ‡è®°æˆå·²å…³é—­å¹¶å¯¼è‡´è¯¥å¥—æŽ¥å­—æè¿°ç¬¦å‡1ã€‚åªè¦å¼•ç”¨è®¡æ•°çš„å€¼ä»å¤§äºŽ0ï¼Œå°±ä¸ä¼šå¼•å‘tcpçš„å››åˆ†ç»„è¿žæŽ¥ç»ˆæ­¢åºåˆ— ç¬¬äº”ç«  5.9èŠ‚ï¼šå¤„ç†SIGCHLDä¿¡å·ï¼Œ æ¶‰åŠåˆ°åƒµæ­»è¿›ç¨‹ï¼ˆå­è¿›ç¨‹ç»ˆæ­¢æ—¶ç»™çˆ¶è¿›ç¨‹å‘é€äº†ä¸€ä¸ªSIGCHLDä¿¡å·ï¼Œè‹¥çˆ¶è¿›ç¨‹æœªåŠ å¤„ç†ï¼Œåˆ™å­è¿›ç¨‹è¿›å…¥åƒµæ­»çŠ¶æ€ï¼‰ï¼Œæ‰€ä»¥è¦å»ºç«‹è¯¥ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°ä¸­è°ƒç”¨waitpidæ¥å¤„ç† 5.10èŠ‚ ï¼šä½¿ç”¨waitæˆ–è€…waitpidæ¥å¤„ç†å·²ç»ˆæ­¢çš„å­è¿›ç¨‹ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨waitpidå¹¶æŒ‡å®šWNOHANGé€‰é¡¹ï¼Œæ¥å‘ŠçŸ¥waitpidåœ¨æœ‰å°šæœªç»ˆæ­¢çš„å­è¿›ç¨‹åœ¨è¿è¡Œæ—¶ä¸è¦é˜»å¡žã€‚ ç¬¬å…­ç«  åŒæ­¥I/Oæ“ä½œï¼šå¯¼è‡´è¯·æ±‚è¿›ç¨‹é˜»å¡žï¼ŒçŸ¥é“I/Oæ“ä½œå®Œæˆ å¼‚æ­¥I/Oæ“ä½œï¼šä¸å¯¼è‡´è¯·æ±‚è¿›ç¨‹é˜»å¡ž 6.3èŠ‚ ï¼š selectå‡½æ•°ï¼Œå¿…é¡»å¾—æ¸…æ¥šselectè·Ÿlinuxç‰¹æœ‰çš„epollçš„åŒºåˆ«ï¼Œ æœ‰ä¸‰ç‚¹ï¼š æ•°é‡é™åˆ¶ ï¼š selecté»˜è®¤åªæ”¯æŒ1024ä¸ªï¼›epollå¹¶æ²¡æœ‰æœ€å¤§æ•°ç›®é™åˆ¶ å†…å­˜æ‹·è´ ï¼š selectéœ€è¦æŠŠfd_setæ•°æ®ç»“æž„ä»Žç”¨æˆ·æ€åˆ°å†…æ ¸æ€æ¥å›žæ‹·è´ï¼› è€Œepollæ˜¯åŸºäºŽmmapæŠ€æœ¯ç”¨åŒä¸€å—å†…å­˜å®žçŽ°çš„ æ•ˆçŽ‡ ï¼š selectæ¯æ¬¡éƒ½è¦éåŽ†æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œ é›†åˆè¶Šå¤§é€Ÿåº¦è¶Šæ…¢ï¼›è€Œepollç»´æŠ¤ç€ä¸€ä¸ªå°±ç»ªåˆ—è¡¨ï¼Œ æ¯æ¬¡åªéœ€è¦ç®€å•çš„ä»Žåˆ—è¡¨é‡Œå–å‡ºå°±è¡Œäº†ï¼Œåªæœ‰æ´»è·ƒçš„socketæ‰ä¼šè§¦å‘ç›¸å…³callback 6.6èŠ‚ ï¼š shutdownå‡½æ•°ï¼Œshutdownå¯ä»¥ä¸ç”¨ç®¡å¼•ç”¨è®¡æ•°å°±æ¿€å‘tcpçš„æ­£å¸¸è¿žæŽ¥ç»ˆæ­¢åºåˆ—ã€‚å½“å…³é—­è¿žæŽ¥çš„å†™è¿™ä¸€åŠï¼Œå¯¹äºŽtcpè¿žæŽ¥ï¼Œ è¿™ç§°ä¸ºåŠå…³é—­ï¼ˆhalf-closeï¼‰]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNIXç½‘ç»œç¼–ç¨‹ç¬¬äºŒç« ç¬”è®°ä¿®æ­£ï¼ˆç»“åˆTLPIå’ŒAPUEä¸¤ä¹¦çš„ç¬”è®°æ•´ç†ï¼‰]]></title>
    <url>%2F2017%2F06%2F05%2F%E9%87%8D%E8%AF%BBUNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%94%E8%AE%B0%E4%BF%AE%E6%AD%A3%EF%BC%88%E7%BB%93%E5%90%88TLPI%E5%92%8CAPUE%E4%B8%A4%E4%B9%A6%E7%9A%84%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä¸ºåŠ æ·±ç†è§£, æ•…æœ¬ç« è€ç¬”è®°å†…å®¹å¤§å¹…åˆ å‡é‡å†™.ç¬¬äºŒç« é‡ç‚¹å¦‚ä¸‹ : TCP (Transmission Control Protocol)ä¼ è¾“æŽ§åˆ¶åè®®. ç‰¹æ€§å¦‚ä¸‹ : é¢å‘è¿žæŽ¥ å…¨åŒå·¥ å¯é , å…³å¿ƒç¡®è®¤/è¶…æ—¶/é‡ä¼ ç­‰, ä¿è¯é¡ºåº æµé‡æŽ§åˆ¶ å­—èŠ‚æµ, æ²¡æœ‰ä»»ä½•è®°å½•è¾¹ç•Œ UDP (User Datagram Protocol)ç”¨æˆ·æ•°æ®æŠ¥åè®®. ç‰¹æ€§å¦‚ä¸‹ : æ— è¿žæŽ¥ ä¸å¯é , ä¸ä¿è¯é¡ºåº/æ˜¯å¦åˆ°è¾¾/æ˜¯å¦é‡å¤ æ¯ä¸ªæ•°æ®æŠ¥éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ TCPä¸‰è·¯æ¡æ‰‹(three-way handshake) TCPé€‰é¡¹ : MSSé€‰é¡¹ å‘é€SYNçš„TCPä¸€ç«¯ä½¿ç”¨æœ¬é€‰é¡¹é€šå‘Šå¯¹ç«¯ä»–çš„æœ€å¤§åˆ†èŠ‚å¤§å°(maximum segment size) çª—å£è§„æ¨¡é€‰é¡¹ æ—¶é—´æˆ³é€‰é¡¹, å¯¹äºŽé«˜é€Ÿç½‘ç»œè¿žæŽ¥æ˜¯å¿…è¦çš„. TCPè¿žæŽ¥ç»ˆæ­¢ : TCPçŠ¶æ€è½¬æ¢å›¾ TCPè¿žæŽ¥çš„åˆ†ç»„äº¤æ¢ TIME_WAITçŠ¶æ€å­˜åœ¨çš„ç†ç”± : å¯é åœ°å®žçŽ°TCPå…¨åŒå·¥è¿žæŽ¥çš„ç»ˆæ­¢ å…è®¸è€çš„é‡å¤åˆ†èŠ‚åœ¨ç½‘ç»œä¸­æ¶ˆé€ åˆ†èŠ‚æ˜¯TCPä¼ é€’ç»™IPçš„æ•°æ®å•å…ƒ Linuxä¸‹é¢ä¸€å…±æœ‰65535ä¸ªç«¯å£ å…¶ä¸­1â€“1023æ˜¯ç³»ç»Ÿä¿ç•™çš„ï¼Œ 1024â€“65535æ˜¯ä¾›ç”¨æˆ·ä½¿ç”¨çš„ã€‚ 0åˆ°1024æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ç«¯å£ï¼ˆçŸ¥åç«¯å£ï¼Œå¸¸ç”¨äºŽç³»ç»ŸæœåŠ¡ç­‰ï¼Œä¾‹å¦‚httpæœåŠ¡çš„ç«¯å£å·æ˜¯80)ã€‚ä¸ªäººå†™çš„åº”ç”¨ç¨‹åºï¼Œå°½é‡ä¸è¦ä½¿ç”¨0åˆ°1024ä¹‹é—´çš„ç«¯å£å·ã€‚ å¥—æŽ¥å­—å¯¹æ˜¯ä¸€ä¸ªå®šä¹‰è¯¥è¿žæŽ¥çš„ä¸¤ä¸ªç«¯ç‚¹çš„å››å…ƒç»„: æœ¬åœ°IPåœ°å€ æœ¬åœ°TCPç«¯å£å· å¤–åœ°IPåœ°å€ å¤–åœ°TCPç«¯å£å· ç¼“å†²åŒºå¤§å°åŠé™åˆ¶ IPv4æ•°æ®æŠ¥çš„æœ€å¤§å¤§å°ä¸º65535å­—èŠ‚, å› ä¸ºå…¶æ€»é•¿åº¦å­—æ®µå æ®16ä½ ä»¥å¤ªç½‘çš„MTUæ˜¯1500å­—èŠ‚, IPv4è¦æ±‚çš„æœ€å°é“¾è·¯MTUæ˜¯68å­—èŠ‚, è¿™å…è®¸æœ€å¤§çš„IPv4é¦–éƒ¨(åŒ…æ‹¬20å­—èŠ‚çš„å›ºå®šé•¿åº¦éƒ¨åˆ†å’Œæœ€å¤š40å­—èŠ‚çš„é€‰é¡¹éƒ¨åˆ†)æ‹¼æŽ¥æœ€å°çš„ç‰‡æ®µ åœ¨ä¸¤ä¸ªä¸»æœºä¹‹é—´çš„è·¯å¾„ä¸­æœ€å°çš„MTUæˆä¸ºè·¯å¾„MTU å½“ä¸€ä¸ªIPæ•°æ®æŠ¥å°†ä»ŽæŸä¸ªæŽ¥å£é€å‡ºæ—¶, å¦‚æžœä»–çš„å¤§å°è¶…è¿‡ç›¸åº”é“¾è·¯çš„MTU, IPv4å’ŒIPv6éƒ½å°†æ‰§è¡Œåˆ†ç‰‡ IPv4é¦–éƒ¨çš„â€ä¸åˆ†ç‰‡(donâ€™t fragment)â€ä½(å³DFä½)è‹¥è¢«è®¾ç½®, é‚£ä¹ˆä¸ç®¡æ˜¯å‘é€è¿™äº›æ•°æ®æŠ¥çš„ä¸»æœºè¿˜æ˜¯è½¬å‘ä»–ä»¬çš„è·¯ç”±å™¨, éƒ½ä¸å…è®¸å¯¹ä»–ä»¬åˆ†ç‰‡ IPv4å’ŒIPv6éƒ½å®šä¹‰äº†æœ€å°é‡ç»„ç¼“å†²åŒºå¤§å°(minimum reassembly buffersize), IPv4çš„ä¸»æœºè¦æ±‚ä¸èƒ½è¶…è¿‡576å­—èŠ‚çš„æ•°æ®ï¼Œ æ‰€ä»¥å¾ˆå¤šä½¿ç”¨UDPçš„IPv4åº”ç”¨ï¼ˆå¦‚DNSï¼‰éƒ½é¿å…äº§ç”Ÿå¤§äºŽè¿™ä¸ªå¤§å°çš„æ•°æ®æŠ¥ MSS : TCPæœ€å¤§åˆ†èŠ‚å¤§å°ï¼Œ åœ¨ä»¥å¤ªç½‘ä¸­ä½¿ç”¨IPv4çš„MSSå€¼ä¸º1460ï¼ˆä»¥å¤ªç½‘çš„MTU - IPv4é¦–éƒ¨ - TCPé¦–éƒ¨ = 1500 - 20 - 20ï¼‰ TCPè¾“å‡ºç¤ºæ„å›¾ : UDPè¾“å‡ºç¤ºæ„å›¾ (å› ä¸ºUDPæ˜¯ä¸å¯é çš„, ä»–ä¸å¿…ä¿å­˜åº”ç”¨è¿›ç¨‹æ•°æ®çš„ä¸€ä¸ªå‰¯æœ¬, å› æ­¤æ— éœ€ä¸€ä¸ªçœŸæ­£çš„å‘é€ç¼“å†²åŒº, æ‰€ä»¥ä¸ºè™šçº¿æ¡†): å¸¸è§å› ç‰¹ç½‘åº”ç”¨æ‰€ä½¿ç”¨çš„åè®® ping ï¼š ICMP DNS ï¼š UDPã€TCP DHCP : UDP SSH : TCP FTP : TCP HTTP : TCP]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡è¯»UNIXç½‘ç»œç¼–ç¨‹ç¬¬ä¸€ç« ç¬”è®°ä¿®æ­£]]></title>
    <url>%2F2017%2F06%2F02%2F%E9%87%8D%E8%AF%BBUNIX%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%94%E8%AE%B0%E4%BF%AE%E6%AD%A3%2F</url>
    <content type="text"><![CDATA[åˆå‡†å¤‡ä»Žå¤´çœ‹ä¸€éunp, æŠŠä¸€äº›è€ç¬”è®°æ”¾åˆ°åšå®¢é‡Œæ¥å°±å½“ç½‘ç›˜å§, é¡ºä¾¿ä¿®æ­£ä»¥åŠåˆ å‡ä¸€äº›ä¹‹å‰ä¸å¤Ÿç²¾ç‚¼çš„è€ç¬”è®°å†…å®¹. ç¬¬ä¸€ç« é‡ç‚¹å¦‚ä¸‹ : OSI (open systems interconnection), å³è®¡ç®—æœºé€šä¿¡å¼€æ”¾ç³»ç»Ÿäº’è”æ¨¡åž‹ OSIåˆ†ä¸ºä¸ƒå±‚, ä»Žä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸º åº”ç”¨å±‚ è¡¨çŽ°å±‚ ä¼šè¯å±‚ ä¼ è¾“å±‚ ç½‘ç»œå±‚ æ•°æ®é“¾è·¯å±‚ ç‰©ç†å±‚ å¯¹äºŽç½‘é™…ç½‘åè®®æ—, OSIé¡¶ä¸Šä¸‰å±‚åˆå¹¶ä¸ºä¸€å±‚, ç§°ä¸ºåº”ç”¨å±‚. ä¼ è¾“å±‚å¯¹åº”ç€tcp/udpç­‰, ç½‘ç»œå±‚å¯¹åº”ç€IPv4/IPv6, OSIçš„æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚æ˜¯éšç³»ç»Ÿæä¾›çš„è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œç½‘ç»œç¡¬ä»¶ å¥—æŽ¥å­—ç¼–ç¨‹æŽ¥å£æ˜¯ä»ŽOSIé¡¶ä¸Šä¸‰å±‚(ç½‘é™…åè®®çš„åº”ç”¨å±‚)è¿›å…¥ä¼ è¾“å±‚çš„æŽ¥å£. ä¸ºä½•å¥—æŽ¥å­—è¦è®¾è®¡ä¸ºé¡¶ä¸Šä¸‰å±‚è¿›å…¥ä¼ è¾“å±‚çš„æŽ¥å£??å› ä¸ºOSIé¡¶ä¸Šä¸‰å±‚å¤„ç†å…·ä½“ç½‘ç»œåº”ç”¨çš„æ‰€æœ‰ç»†èŠ‚å´å¯¹é€šä¿¡ç»†èŠ‚äº†è§£å¾ˆå°‘;åº•ä¸‹å››å±‚å¯¹å…·ä½“ç½‘ç»œåº”ç”¨äº†è§£ä¸å¤š, å´å¤„ç†æ‰€æœ‰çš„é€šä¿¡ç»†èŠ‚.]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kbeæœåŠ¡ç«¯ç¬”è®°(ä¸€)]]></title>
    <url>%2F2017%2F04%2F01%2Fkbe%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%AC%94%E8%AE%B0(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[mainçœ‹èµ·æ¥ä¼¼ä¹Žæ‰€æœ‰çš„ç»„ä»¶éƒ½æœ‰ä¸€ä¸ªè¿™æ ·çš„å®(KBENGINE_MAIN)æ¥åŒ…è£¹mainå‡½æ•°123456intKBENGINE_MAIN(intargc, char* argv[])&#123; ENGINE_COMPONENT_INFO&amp;info = g_kbeSrvConfig.getXXX(); returnkbeMainT&lt;XXX&gt;(argc, argv, YYY, info.externalPorts_min, info.externalPorts_max, info.externalInterface, 0, info.internalInterface);&#125; è¿™ä¸ªå®å±•å¼€æ˜¯è¿™æ ·å­ï¼š123456789101112131415kbeMain(intargc, char* argv[]); \intmain(intargc, char* argv[]) \&#123; \ loadConfig(); \ g_componentID = genUUID64(); \ parseMainCommandArgs(argc, argv); \ char dumpname[MAX_BUF] = &#123;0&#125;; \ kbe_snprintf(dumpname, MAX_BUF, &quot;%&quot;PRAppID, g_componentID); \ KBEngine::exception::installCrashHandler(1, dumpname); \ intretcode = -1; \ THREAD_TRY_EXECUTION; \ retcode = kbeMain(argc, argv); \ THREAD_HANDLE_CRASH; \ returnretcode; \&#125; \ ç¨å¾®æ•´ç†ä¸€ä¸‹ä¹‹åŽmainå‡½æ•°çœ‹èµ·æ¥å¾ˆåƒæ˜¯è¿™ä¸ªæ ·å­ï¼š1234567891011121314151617181920intkbeMain(intargc, char* argv[]);intmain(intargc, char* argv[])&#123; loadConfig(); g_componentID = genUUID64(); parseMainCommandArgs(argc, argv);chardumpname[MAX_BUF] = &#123;0&#125;; kbe_snprintf(dumpname, MAX_BUF, &quot;%&quot;PRAppID, g_componentID); KBEngine::exception::installCrashHandler(1, dumpname);intretcode = -1; THREAD_TRY_EXECUTION;retcode = kbeMain(argc, argv); THREAD_HANDLE_CRASH;return (retcode);&#125;intkbeMain(intargc, char* argv[])&#123; ENGINE_COMPONENT_INFO&amp;info = g_kbeSrvConfig.getXXX(); return kbeMainT&lt;XXX&gt;(argc, argv, YYY, info.externalPorts_min, info.externalPorts_max, info.externalInterface, 0, info.internalInterface);&#125; åŸºæœ¬å¯ä»¥ç†è§£ä¸ºæ¯ä¸ªç»„ä»¶çš„mainå‡½æ•°æµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨ç‰¹åŒ–kbeMainTæ—¶æ‰€ç»™å‚æ•°ä¸ä¸€æ ·ã€‚ ServerConfigï¼šServerConfigæ¶‰åŠåˆ°æœåŠ¡ç«¯æ¯ä¸ªç»„ä»¶çš„å„ç§é…ç½®é€‰é¡¹ï¼Œæ¯”å¦‚æ•°æ®åº“è®¿é—®ã€‚å®ƒçš„æž„é€ åœ¨ç»„ä»¶å.cppä¸­ï¼Œæ¯”å¦‚loginappå°±åœ¨loginapp.cppï¼Œmachineå°±åœ¨machine.cppä¸­ï¼Œloginappçš„å¦‚ä¸‹ï¼ˆserver/loginapp/loginapp.cppï¼‰ï¼š12ServerConfigg_serverConfig;KBE_SINGLETON_INIT(Loginapp); å®ƒçš„åˆå§‹åŒ–ï¼ˆé…ç½®ï¼‰å·¥ä½œä¸»è¦ç”±loadConfigæŽ¥å£å®Œæˆï¼Œå¦‚ä¸‹ï¼ˆlib/server/kbemain.hï¼‰ï¼š12345678910inlinevoidloadConfig()&#123; Resmgr::getSingleton().initialize(); // &quot;../../res/server/kbengine_defs.xml&quot; g_kbeSrvConfig.loadConfig(&quot;server/kbengine_defs.xml&quot;); // &quot;../../../assets/res/server/kbengine.xml&quot; g_kbeSrvConfig.loadConfig(&quot;server/kbengine.xml&quot;);&#125; Resmgrï¼šResmgrè´Ÿè´£ç®¡ç†kbeçš„æ‰€æœ‰èµ„æºç®¡ç†ï¼Œæ¯”å¦‚èµ„æºè·¯å¾„ï¼ŒçŽ¯å¢ƒå˜é‡ã€‚Resmgrçš„æž„é€ åœ°æ–¹å¦‚ä¸‹ï¼ˆlib/network/fixed_messages.cppï¼‰ï¼š1234567FixedMessages::FixedMessages():_infomap(),_loaded(false)&#123; newResmgr(); Resmgr::getSingleton().initialize();&#125; æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºFixedMessagesæž„é€ çš„æ—¶å€™Resmgrå°±æž„é€ äº†ã€‚ Resmgrçš„åˆå§‹åŒ–ï¼ˆé…ç½®ï¼‰å·¥ä½œä¸»è¦ç”±initializeæŽ¥å£å®Œæˆï¼Œä»£ç å¦‚ä¸Šã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>kbe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kbeçš„UE4çš„demoå¤§ä½“è§£è¯»]]></title>
    <url>%2F2017%2F03%2F11%2Fkbe%E7%9A%84UE4%E7%9A%84demo%E5%A4%A7%E4%BD%93%E8%A7%A3%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[å†™åˆ°ä¸€åŠå‘çŽ°è®ºå›çš„çƒ­é—¨å¸–å­é‡Œå®˜æ–¹å†™äº†ä¸ªu3dçš„demoæºç è§£æž, å†…å®¹å‡ ä¹Žé‡å¤, u3dè·Ÿue4çš„demoæ¡†æž¶æµç¨‹å‡ ä¹Žéƒ½æ˜¯å·®ä¸å¤šçš„, ç›´æŽ¥ç»™å‡ºå®˜æ–¹å¸–å­çš„é“¾æŽ¥å¥½äº†, å°´å°¬:http://bbs.kbengine.org/forum.php?mod=viewthread&amp;tid=166]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>kbe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kbeä¹‹ubuntuä¸‹çš„ç¼–è¯‘]]></title>
    <url>%2F2017%2F02%2F10%2Fkbe%E4%B9%8Bubuntu%E4%B8%8B%E7%9A%84%E7%BC%96%E8%AF%91%2F</url>
    <content type="text"><![CDATA[æ„Ÿè§‰ä¹‹å‰çš„åšå®¢å·²ç»æ•´ç†äº†å¤§å¤šæ•°ä¹‹å‰çš„å…³äºŽåŸºç¡€çš„ç§äººç¬”è®°, çŽ°åœ¨åº”è¯¥å¯ä»¥è®¨è®ºä¸€ä¸‹å®žæ“çš„ä¸œè¥¿äº†.å…ˆæ¥ä¸€å‘ä¹‹å‰çš„kbeåœ¨ubuntuä¸‹çš„ç¼–è¯‘ç¬”è®°å§, å› ä¸ºå®˜æ–¹å¯¹äºŽubuntuä¸‹çš„kbeç¼–è¯‘æ–‡æ¡£æ˜¯æœ‰é—®é¢˜çš„. ç¼–è¯‘æ­¥éª¤ å®‰è£…openssl : sudo apt-get install libssl-dev å®‰è£…mysql : sudo apt-get install libmysqld-dev sudo apt-get install mysql-server ç¼–è¯‘kbe : cd kbengine/kbe/src chmod -R 755 . make]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>kbe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kbeä¹‹1åˆ†é’Ÿå®Œæˆå®‰è£…]]></title>
    <url>%2F2017%2F02%2F09%2Fkbe%E4%B9%8B1%E5%88%86%E9%92%9F%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[å®˜æ–¹æ˜¯æœ‰è‡ªåŠ¨åŒ–çš„å®‰è£…pyè„šæœ¬çš„, ä¸è¿‡è¿˜æ˜¯æœ‰å¾ˆå¤šå°å‘çš„.ä¸è¿‡å…¶å®žè„šæœ¬ä¸»è¦ä¹Ÿå°±æ˜¯åªåšä¸¤ä»¶äº‹, å…¶ä»–éƒ½æ˜¯å¯é€‰çš„: é…ç½®çŽ¯å¢ƒå˜é‡ å®‰è£…mysql å®‰è£…æ­¥éª¤ å®‰è£…kbeä¹‹å‰è¯·æå‰åœ¨mysqlé‡Œ å»ºä¸€ä¸ªæ•°æ®åº“(æ¯”å¦‚å»ºä¸€ä¸ªæ•°æ®åº“kbe_database) ä¸€ä¸ªè‡³å°‘æ‹¥æœ‰select,insert,update,delete,create,dropæƒé™çš„ç”¨æˆ·(æ¯”å¦‚è¿™ä¸ªç”¨æˆ·æ˜¯kbe_user) (å…·ä½“è¯¦æƒ…è¯·è°·æ­Œ, æœ¬ç¯‡æ–‡ç« æ˜¯è®²kbeçš„å®‰è£…çš„, ä¸è®¨è®ºmysql, å¼„å®Œmysqlä¹‹åŽå°±å¯ä»¥å¼€å§‹ä¸‹é¢çš„1åˆ†é’Ÿkbeå®‰è£…æ•™ç¨‹å•¦) æ‰¾åˆ°ä½ çš„kbeæ ¹ç›®å½•, ç„¶åŽè¿›å…¥æ ¹ç›®å½•, æ¯”å¦‚ä½ çš„kbeæ ¹ç›®å½•æ˜¯kbengine, åˆ™ : cd kbengine sudo python kbengine/kbe/tools/server/install/installer.py install ç„¶åŽå®ƒå°±ä¼šé—®ä½  :Install KBEngine to Linux-account(No input is kbe): ä¸ºäº†ç®€å•èµ·è§, å»ºè®®ç›´æŽ¥å¡«å†™ä½ å½“å‰çš„linuxç”¨æˆ·åç§°, æ¯”å¦‚æˆ‘çš„æ˜¯â€bâ€ ç„¶åŽå°±æ˜¯å¼€å§‹é…ç½®çŽ¯å¢ƒå˜é‡äº†, å®ƒå°±ä¼šæ˜¾ç¤º 12345678Check the dependences:- kbe_environment: checking...ERROR: KBE_ROOT: is error! The directory or file not found:KBE_ROOT//kbeKBE_ROOT=KBE_ROOT current: reset KBE_ROOT(No input is [/home/b/kbengine-0.9.18/]): ç›´æŽ¥æ•²å›žè½¦ ä»–ä¹‹åŽæ˜¾ç¤ºçš„éƒ½ç›´æŽ¥æ•²å›žè½¦, ç”¨é»˜è®¤çš„å°±å¯ä»¥, ç›´åˆ°ä»–å¼€å§‹é—®ä½ mysqlçš„ä¸œè¥¿, åˆ°mysqlä»–ä¼šé—® 12- mysql: checking...- MySQL is installed on the remote machine?[yes/no] è¿™é‡Œæˆ‘ä»¬ç›´æŽ¥å¡«yes, ç„¶åŽå°±ç›´æŽ¥å¡«æˆ‘ä»¬ä¹‹å‰å»ºç«‹å¥½çš„æ•°æ®åº“kbe_databaseå’Œç”¨æˆ·kbe_userå³å¯, å®ƒä¼šæ˜¾ç¤º : 12345678- Enter mysql ip-address:127.0.0.1- Enter mysql ip-port:3306- Enter mysql-account:kbe_user- Enter mysql-password:123456- Enter mysql-databaseName:kbe_database- mysql: yesModified: /home/b/kbengine-0.9.18//kbe/res/server/kbengine_defs.xmlKBEngine has been successfully installed! æ˜¯å¦å®‰è£…æˆåŠŸ æ‰¾åˆ°ä½ çš„kbeæ ¹ç›®å½•, ç„¶åŽè¿›å…¥æ ¹ç›®å½•, æ¯”å¦‚ä½ çš„kbeæ ¹ç›®å½•æ˜¯kbengine, åˆ™1. è¿›å…¥kbeæ ¹ç›®å½•ä¸‹çš„assetsç›®å½• : cd kbengine/assets 2. è¿è¡Œå¯åŠ¨è„šæœ¬ : sh ./start_server.sh ç”¨psæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰ä»¥ä¸‹è¿›ç¨‹å†è·‘ : 12345678910b@b-VirtualBox:~/kbengine-0.9.18/assets$ ps -ef | grep -v grep | grep -i kbeb 15504 1372 0 04:28 pts/1 00:00:01 /home/b/kbengine-0.9.18/kbe/bin/server//machine --cid=2129652375332859700 --gus=1b 15505 1372 0 04:28 pts/1 00:00:05 /home/b/kbengine-0.9.18/kbe/bin/server//logger --cid=1129653375331859700 --gus=2b 15506 1372 0 04:28 pts/1 00:00:02 /home/b/kbengine-0.9.18/kbe/bin/server//interfaces --cid=1129652375332859700 --gus=3b 15507 1372 0 04:28 pts/1 00:00:06 /home/b/kbengine-0.9.18/kbe/bin/server//dbmgr --cid=3129652375332859700 --gus=4b 15508 1372 0 04:28 pts/1 00:00:07 /home/b/kbengine-0.9.18/kbe/bin/server//baseappmgr --cid=4129652375332859700 --gus=5b 15509 1372 0 04:28 pts/1 00:00:07 /home/b/kbengine-0.9.18/kbe/bin/server//cellappmgr --cid=5129652375332859700 --gus=6b 15510 1372 0 04:28 pts/1 00:00:03 /home/b/kbengine-0.9.18/kbe/bin/server//baseapp --cid=6129652375332859700 --gus=7b 15511 1372 0 04:28 pts/1 00:00:03 /home/b/kbengine-0.9.18/kbe/bin/server//cellapp --cid=7129652375332859700 --gus=8b 15512 1372 0 04:28 pts/1 00:00:06 /home/b/kbengine-0.9.18/kbe/bin/server//loginapp --cid=8129652375332859700 --gus=9 æ£€æŸ¥æˆ‘ä»¬mysqlä¸­çš„kbe_databaseæ•°æ®åº“é‡Œæ˜¯å¦å¤šäº†å‡ ä¸ªè¡¨ : 1234567891011mysql&gt; show tables;+---------------------------+| Tables_in_b_test_database |+---------------------------+| kbe_accountinfos || kbe_email_verification || kbe_entitylog || kbe_serverlog || tbl_Account |+---------------------------+5 rows in set (0.00 sec) å¥½, å¦‚æžœéƒ½æœ‰åŸºæœ¬å®‰è£…å®Œæˆ!]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>kbe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPCè¿›ç¨‹é—´é€šä¿¡]]></title>
    <url>%2F2017%2F01%2F27%2FIPC%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%2F</url>
    <content type="text"><![CDATA[IPCè¿›ç¨‹é—´é€šä¿¡ 1.åŒ¿åç®¡é“( pipe )ï¼šåŒ¿åç®¡é“æ˜¯ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œé€šå¸¸æ˜¯åœ¨çˆ¶å­è¿›ç¨‹é—´ä½¿ç”¨ã€‚ 2.å‘½åç®¡é“ (named pipe) ï¼šå‘½åç®¡é“ä¹Ÿæ˜¯åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œä½†æ˜¯å®ƒå…è®¸æ— äº²ç¼˜å…³ç³»è¿›ç¨‹é—´çš„é€šä¿¡ã€‚ 3.ä¿¡å·é‡( semophore ) ï¼šä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå¯ä»¥ç”¨æ¥æŽ§åˆ¶å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«èµ„æºçš„è®¿é—®ã€‚å®ƒå¸¸ä½œä¸ºä¸€ç§é”æœºåˆ¶ï¼Œé˜²æ­¢æŸè¿›ç¨‹æ­£åœ¨è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå…¶ä»–è¿›ç¨‹ä¹Ÿè®¿é—®è¯¥èµ„æºã€‚å› æ­¤ï¼Œä¸»è¦ä½œä¸ºè¿›ç¨‹é—´ä»¥åŠåŒä¸€è¿›ç¨‹å†…ä¸åŒçº¿ç¨‹ä¹‹é—´çš„åŒæ­¥æ‰‹æ®µã€‚ 4.æ¶ˆæ¯é˜Ÿåˆ—( message queue ) ï¼šæ¶ˆæ¯é˜Ÿåˆ—æ˜¯æ¶ˆæ¯çš„é“¾è¡¨ï¼Œå­˜æ”¾åœ¨å†…æ ¸ä¸­å¹¶ç”±æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦æ ‡è¯†ã€‚æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·ä¼ é€’ä¿¡æ¯å°‘ã€ç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºç‚¹ã€‚ 5.ä¿¡å· ( sinal ) ï¼šä¿¡å·æ˜¯ä¸€ç§æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œç”¨äºŽé€šçŸ¥æŽ¥æ”¶è¿›ç¨‹æŸä¸ªäº‹ä»¶å·²ç»å‘ç”Ÿã€‚ 6.å…±äº«å†…å­˜( shared memory ) ï¼šå…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®ã€‚å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ IPC æ–¹å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹å…¶ä»–è¿›ç¨‹é—´é€šä¿¡æ–¹å¼è¿è¡Œæ•ˆçŽ‡ä½Žè€Œä¸“é—¨è®¾è®¡çš„ã€‚å®ƒå¾€å¾€ä¸Žå…¶ä»–é€šä¿¡æœºåˆ¶ï¼Œå¦‚ä¿¡å·é‡ï¼Œé…åˆä½¿ç”¨ï¼Œæ¥å®žçŽ°è¿›ç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€‚ 7.å¥—æŽ¥å­—( socket ) ï¼šå¥—æŽ¥å­—ä¹Ÿæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œä¸Žå…¶ä»–é€šä¿¡æœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ç”¨äºŽä¸åŒè¿›ç¨‹é—´çš„è¿›ç¨‹é€šä¿¡ã€‚]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>IPC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5åˆ†é’Ÿä¸Šæ‰‹boost.asio]]></title>
    <url>%2F2017%2F01%2F12%2F5%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8Bboost.asio%2F</url>
    <content type="text"><![CDATA[Boost.Asioå…¥é—¨é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯Boost.Asioï¼Ÿæ€Žä¹ˆç¼–è¯‘å®ƒï¼Ÿ linuxä¸‹ç›´æŽ¥ : sudo apt-get install libboost-all-dev ä»€ä¹ˆæ˜¯Boost.Asioç®€å•æ¥è¯´ï¼ŒBoost.Asioæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„ã€ä¸»è¦ç”¨äºŽç½‘ç»œå’Œå…¶ä»–ä¸€äº›åº•å±‚è¾“å…¥/è¾“å‡ºç¼–ç¨‹çš„C++åº“ã€‚ å¼‚æ­¥VSåŒæ­¥ é¦–å…ˆï¼Œå¼‚æ­¥ç¼–ç¨‹å’ŒåŒæ­¥ç¼–ç¨‹æ˜¯éžå¸¸ä¸åŒçš„ã€‚ åœ¨åŒæ­¥ç¼–ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œæ¯”å¦‚ä»Žsocketä¸­è¯»å–ï¼ˆè¯·æ±‚ï¼‰ï¼Œç„¶åŽå†™å…¥ï¼ˆå›žåº”ï¼‰åˆ°socketä¸­ã€‚ æ¯ä¸€ä¸ªæ“ä½œéƒ½æ˜¯é˜»å¡žçš„ã€‚ å› ä¸ºæ“ä½œæ˜¯é˜»å¡žçš„ï¼Œæ‰€ä»¥ä¸ºäº†ä¸å½±å“ä¸»ç¨‹åºï¼Œå½“åœ¨socketä¸Šè¯»å†™æ—¶ï¼Œé€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹æ¥å¤„ç†socketçš„è¾“å…¥/è¾“å‡ºã€‚ å› æ­¤ï¼ŒåŒæ­¥çš„æœåŠ¡ç«¯/å®¢æˆ·ç«¯é€šå¸¸æ˜¯å¤šçº¿ç¨‹çš„ã€‚ ç›¸åçš„ï¼Œå¼‚æ­¥ç¼–ç¨‹æ˜¯äº‹ä»¶é©±åŠ¨çš„ã€‚ è™½ç„¶å¯åŠ¨äº†ä¸€ä¸ªæ“ä½œï¼Œä½†æ˜¯ä½ ä¸çŸ¥é“å®ƒä½•æ—¶ä¼šç»“æŸï¼›å®ƒåªæ˜¯æä¾›ä¸€ä¸ªå›žè°ƒç»™ä½ ï¼Œå½“æ“ä½œç»“æŸæ—¶ï¼Œå®ƒä¼šè°ƒç”¨è¿™ä¸ªAPIï¼Œå¹¶è¿”å›žæ“ä½œç»“æžœã€‚ å¯¹äºŽæœ‰ç€ä¸°å¯Œç»éªŒçš„QTï¼ˆè¯ºåŸºäºšç”¨æ¥åˆ›å»ºè·¨å¹³å°å›¾å½¢ç”¨æˆ·ç•Œé¢åº”ç”¨ç¨‹åºçš„åº“ï¼‰ç¨‹åºå‘˜æ¥è¯´ï¼Œè¿™å°±æ˜¯ä»–ä»¬çš„ç¬¬äºŒå¤©æ€§ã€‚ å› æ­¤ï¼Œåœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œä½ åªéœ€è¦ä¸€ä¸ªçº¿ç¨‹ã€‚ å› ä¸ºä¸­é€”åšæ”¹å˜ä¼šéžå¸¸å›°éš¾è€Œä¸”å®¹æ˜“å‡ºé”™ï¼Œæ‰€ä»¥ä½ åœ¨é¡¹ç›®åˆæœŸï¼ˆæœ€å¥½æ˜¯ä¸€å¼€å§‹ï¼‰å°±å¾—å†³å®šç”¨åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„æ–¹å¼å®žçŽ°ç½‘ç»œé€šä¿¡ã€‚ ä¸ä»…APIæœ‰æžå¤§çš„ä¸åŒï¼Œä½ ç¨‹åºçš„è¯­æ„ä¹Ÿä¼šå®Œå…¨æ”¹å˜ï¼ˆå¼‚æ­¥ç½‘ç»œé€šä¿¡é€šå¸¸æ¯”åŒæ­¥ç½‘ç»œé€šä¿¡æ›´åŠ éš¾ä»¥æµ‹è¯•å’Œè°ƒè¯•ï¼‰ã€‚ ä½ éœ€è¦è€ƒè™‘æ˜¯é‡‡ç”¨é˜»å¡žè°ƒç”¨å’Œå¤šçº¿ç¨‹çš„æ–¹å¼ï¼ˆåŒæ­¥ï¼Œé€šå¸¸æ¯”è¾ƒç®€å•ï¼‰ï¼Œæˆ–è€…æ˜¯æ›´å°‘çš„çº¿ç¨‹å’Œäº‹ä»¶é©±åŠ¨ï¼ˆå¼‚æ­¥ï¼Œé€šå¸¸æ›´å¤æ‚ï¼‰ã€‚ åŒæ­¥ä¾‹å­åŒæ­¥å®¢æˆ·ç«¯ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºç¡€çš„åŒæ­¥å®¢æˆ·ç«¯ä¾‹å­ï¼š 12345using boost::asio;io_service service;ip::tcp::endpoint ep( ip::address::from_string(&quot;127.0.0.1&quot;), 2001);ip::tcp::socket sock(service);sock.connect(ep); é¦–å…ˆï¼Œä½ çš„ç¨‹åºè‡³å°‘éœ€è¦ä¸€ä¸ªio_serviceå®žä¾‹ã€‚ Boost.Asioä½¿ç”¨io_serviceåŒæ“ä½œç³»ç»Ÿçš„è¾“å…¥/è¾“å‡ºæœåŠ¡è¿›è¡Œäº¤äº’ã€‚ é€šå¸¸ä¸€ä¸ªio_serviceçš„å®žä¾‹å°±è¶³å¤Ÿäº†ã€‚ ç„¶åŽï¼Œåˆ›å»ºä½ æƒ³è¦è¿žæŽ¥çš„åœ°å€å’Œç«¯å£ï¼Œå†å»ºç«‹socketã€‚ æŠŠsocketè¿žæŽ¥åˆ°ä½ åˆ›å»ºçš„åœ°å€å’Œç«¯å£ã€‚ åŒæ­¥æœåŠ¡ç«¯ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„åŒæ­¥Boost.Asioçš„æœåŠ¡ç«¯ï¼š1234567891011121314151617typedef boost::shared_ptr&lt;ip::tcp::socket&gt; socket_ptr;io_service service;ip::tcp::endpoint ep( ip::tcp::v4(), 2001)); // listen on 2001ip::tcp::acceptor acc(service, ep);while ( true) &#123; socket_ptr sock(new ip::tcp::socket(service)); acc.accept(*sock); boost::thread( boost::bind(client_session, sock));&#125;void client_session(socket_ptr sock) &#123; while ( true) &#123; char data[512]; size_t len = sock-&gt;read_some(buffer(data)); if ( len &gt; 0) write(*sock, buffer(&quot;ok&quot;, 2)); &#125;&#125; é¦–å…ˆï¼ŒåŒæ ·æ˜¯è‡³å°‘éœ€è¦ä¸€ä¸ªio_serviceå®žä¾‹ã€‚ ç„¶åŽä½ æŒ‡å®šä½ æƒ³è¦ç›‘å¬çš„ç«¯å£ï¼Œå†åˆ›å»ºä¸€ä¸ªæŽ¥æ”¶å™¨â€”â€”ä¸€ä¸ªç”¨æ¥æŽ¥æ”¶å®¢æˆ·ç«¯è¿žæŽ¥çš„å¯¹è±¡ã€‚ åœ¨æŽ¥ä¸‹æ¥çš„å¾ªçŽ¯ä¸­ï¼Œä½ åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„socketæ¥ç­‰å¾…å®¢æˆ·ç«¯çš„è¿žæŽ¥ã€‚ ç„¶åŽå½“ä¸€ä¸ªè¿žæŽ¥è¢«å»ºç«‹æ—¶ï¼Œä½ åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªè¿žæŽ¥ã€‚ åœ¨client_sessionçº¿ç¨‹ä¸­æ¥è¯»å–ä¸€ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¿›è¡Œè§£æžï¼Œç„¶åŽè¿”å›žç»“æžœã€‚ å¼‚æ­¥ä¾‹å­å¼‚æ­¥å®¢æˆ·ç«¯è€Œåˆ›å»ºä¸€ä¸ªå¼‚æ­¥çš„å®¢æˆ·ç«¯ï¼Œä½ éœ€è¦åšå¦‚ä¸‹çš„äº‹æƒ…ï¼š 123456789using boost::asio;io_service service;ip::tcp::endpoint ep( ip::address::from_string(&quot;127.0.0.1&quot;), 2001);ip::tcp::socket sock(service);sock.async_connect(ep, connect_handler);service.run();void connect_handler(const boost::system::error_code &amp; ec) &#123; // å¦‚æžœecè¿”å›žæˆåŠŸæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“è¿žæŽ¥æˆåŠŸäº†&#125; åœ¨ç¨‹åºä¸­ä½ éœ€è¦åˆ›å»ºè‡³å°‘ä¸€ä¸ªio_serviceå®žä¾‹ã€‚ ä½ éœ€è¦æŒ‡å®šè¿žæŽ¥çš„åœ°å€ä»¥åŠåˆ›å»ºsocketã€‚ å½“è¿žæŽ¥å®Œæˆæ—¶ï¼ˆå…¶å®Œæˆå¤„ç†ç¨‹åºï¼‰ä½ å°±å¼‚æ­¥åœ°è¿žæŽ¥åˆ°äº†æŒ‡å®šçš„åœ°å€å’Œç«¯å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œconnect_handlerè¢«è°ƒç”¨äº†ã€‚ å½“connect_handlerè¢«è°ƒç”¨æ—¶ï¼Œæ£€æŸ¥é”™è¯¯ä»£ç ï¼ˆecï¼‰ï¼Œå¦‚æžœæˆåŠŸï¼Œä½ å°±å¯ä»¥å‘æœåŠ¡ç«¯è¿›è¡Œå¼‚æ­¥çš„å†™å…¥ã€‚ æ³¨æ„ï¼šåªè¦è¿˜æœ‰å¾…å¤„ç†çš„å¼‚æ­¥æ“ä½œï¼Œservece.run()å¾ªçŽ¯å°±ä¼šä¸€ç›´è¿è¡Œã€‚ åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œåªæ‰§è¡Œäº†ä¸€ä¸ªè¿™æ ·çš„æ“ä½œï¼Œå°±æ˜¯socketçš„async_connectã€‚ åœ¨è¿™ä¹‹åŽï¼Œservice.run()å°±é€€å‡ºäº†ã€‚ æ¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œéƒ½æœ‰ä¸€ä¸ªå®Œæˆå¤„ç†ç¨‹åºâ€”â€”ä¸€ä¸ªæ“ä½œå®Œæˆä¹‹åŽè¢«è°ƒç”¨çš„å‡½æ•°ã€‚ å¼‚æ­¥æœåŠ¡ç«¯ ä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªåŸºæœ¬çš„å¼‚æ­¥æœåŠ¡ç«¯ 123456789101112131415161718using boost::asio;typedef boost::shared_ptr&lt;ip::tcp::socket&gt; socket_ptr;io_service service;ip::tcp::endpoint ep( ip::tcp::v4(), 2001)); // ç›‘å¬ç«¯å£2001ip::tcp::acceptor acc(service, ep);socket_ptr sock(new ip::tcp::socket(service));start_accept(sock);service.run();void start_accept(socket_ptr sock) &#123; acc.async_accept(*sock, boost::bind( handle_accept, sock, _1) );&#125;void handle_accept(socket_ptr sock, const boost::system::error_code &amp;err) &#123; if ( err) return; // ä»Žè¿™é‡Œå¼€å§‹, ä½ å¯ä»¥ä»Žsocketè¯»å–æˆ–è€…å†™å…¥ socket_ptr sock(new ip::tcp::socket(service)); start_accept(sock);&#125; åœ¨ä¸Šè¿°ä»£ç ç‰‡æ®µä¸­ï¼Œé¦–å…ˆï¼Œä½ åˆ›å»ºä¸€ä¸ªio_serviceå®žä¾‹ï¼ŒæŒ‡å®šç›‘å¬çš„ç«¯å£ã€‚ ç„¶åŽï¼Œä½ åˆ›å»ºæŽ¥æ”¶å™¨accâ€”â€”ä¸€ä¸ªæŽ¥å—å®¢æˆ·ç«¯è¿žæŽ¥ï¼Œåˆ›å»ºè™šæ‹Ÿçš„socketï¼Œå¼‚æ­¥ç­‰å¾…å®¢æˆ·ç«¯è¿žæŽ¥çš„å¯¹è±¡ã€‚ æœ€åŽï¼Œè¿è¡Œå¼‚æ­¥service.run()å¾ªçŽ¯ã€‚ å½“æŽ¥æ”¶åˆ°å®¢æˆ·ç«¯è¿žæŽ¥æ—¶ï¼Œhandle_acceptè¢«è°ƒç”¨ï¼ˆè°ƒç”¨async_acceptçš„å®Œæˆå¤„ç†ç¨‹åºï¼‰ã€‚ å¦‚æžœæ²¡æœ‰é”™è¯¯ï¼Œè¿™ä¸ªsocketå°±å¯ä»¥ç”¨æ¥åšè¯»å†™æ“ä½œã€‚ åœ¨ä½¿ç”¨è¿™ä¸ªsocketä¹‹åŽï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„socketï¼Œç„¶åŽå†æ¬¡è°ƒç”¨start_accept()ï¼Œç”¨æ¥åˆ›å»ºå¦å¤–ä¸€ä¸ªâ€œç­‰å¾…å®¢æˆ·ç«¯è¿žæŽ¥â€çš„å¼‚æ­¥æ“ä½œï¼Œä»Žè€Œä½¿service.run()å¾ªçŽ¯ä¸€ç›´ä¿æŒå¿™ç¢ŒçŠ¶æ€ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>boost</tag>
        <tag>asio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼å…·ä½“å®žçŽ°é‡è¦ç»„ä»¶ä¹‹RPC]]></title>
    <url>%2F2017%2F01%2F10%2F%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6%E4%B9%8BRPC%2F</url>
    <content type="text"><![CDATA[RPC æ˜¯ä»€ä¹ˆï¼ŸRPC çš„å…¨ç§°æ˜¯ Remote Procedure Call æ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ã€‚å®ƒå…è®¸ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸æ˜¯å…±äº«ç½‘ç»œçš„å¦ä¸€å°æœºå™¨ä¸Šï¼‰çš„è¿‡ç¨‹æˆ–å‡½æ•°ï¼Œè€Œä¸ç”¨ç¨‹åºå‘˜æ˜¾å¼ç¼–ç è¿™ä¸ªè¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ã€‚å³ç¨‹åºå‘˜æ— è®ºæ˜¯è°ƒç”¨æœ¬åœ°çš„è¿˜æ˜¯è¿œç¨‹çš„ï¼Œæœ¬è´¨ä¸Šç¼–å†™çš„è°ƒç”¨ä»£ç åŸºæœ¬ç›¸åŒã€‚ åƒè…¾è®¯çš„phxrpcæ¡†æž¶æ˜¯ä½¿ç”¨Protobufä½œä¸ºIDLç”¨äºŽæè¿°RPCæŽ¥å£ä»¥åŠé€šä¿¡æ•°æ®ç»“æž„ å¼•ç”¨ä¸€ä¸ªå›¾ : c++ RPCçš„å®žçŽ° 1ã€ä¸€å¥—å®Œå–„çš„åºåˆ—åŒ–æ¡†æž¶ï¼›åœ¨ä¸åŒçš„è¿›ç¨‹é—´ä¼ è¾“æ•°æ®ï¼Œåºåˆ—åŒ–æ˜¯ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•å¯é ä¸”æ–¹ä¾¿åœ°å°†å¯¹è±¡è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼ˆæˆ–è€…å…¶ä»–æ ¼å¼ï¼‰ï¼Œåœ¨å¯¹ç«¯åˆ™æ˜¯å¦‚ä½•æ­£ç¡®ä¸”å®‰å…¨åœ°å°†å…¶ä»ŽäºŒè¿›åˆ¶æ¢å¤ä¸ºå¯¹è±¡ã€‚ 2ã€å®Œå–„çš„åº•å±‚é€šä¿¡åè®®ï¼›å…¶éœ€è¦æä¾›åˆé€‚çš„è¯­ä¹‰æŠ½è±¡ï¼šæœåŠ¡ç«¯æ”¯æŒæ€Žæ ·çš„å¹¶å‘ï¼Œæ˜¯å•å®¢æˆ·å•è®¿é—®ï¼Œè¿˜æ˜¯å¤šè®¿é—®ï¼›è€Œå®¢æˆ·ç«¯çš„å¹¶å‘æ¨¡åž‹ç”±æœåŠ¡ç«¯å†³å®šã€‚å½“ç„¶ï¼Œè¿˜éœ€è¦å¥å£®ä¸”è¶³å¤Ÿçš„æŽ¥å£æŠ½è±¡ï¼Œæ¯•ç«Ÿåˆ†å¸ƒå¼çŽ¯å¢ƒï¼Œâ€œä¸€åˆ‡çš†æœ‰å¯èƒ½â€ï¼Œéœ€è¦åº”å¯¹å„ç§é—®é¢˜ã€‚ 3ã€ä¸€ä¸ªå¯ç”¨çš„åå°„ç³»ç»Ÿã€‚æ˜¯çš„ï¼Œéœ€è¦åœ¨C++çŽ¯å¢ƒä¸‹å»ºç«‹ä¸€ä¸ªåå°„ç³»ç»Ÿã€‚è¿™ä¸€æ­¥æ˜¯æœ€ä¸ºå…³é”®çš„ï¼Œå…¶ç”±C++11æ”¯æŒã€‚å› ä¸ºï¼Œæˆ‘ä»¬éœ€è¦æ³¨å†Œä¸€ä¸ªç±»çš„å„ç§ä¿¡æ¯ï¼Œä»¥ä¾›RPCè°ƒç”¨ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
        <tag>rpc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿç¼–è¯‘æŠ€å·§]]></title>
    <url>%2F2016%2F11%2F01%2F%E5%BF%AB%E9%80%9F%E7%BC%96%E8%AF%91%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œæ¯æ¬¡éœ€è¦é‡æ–°ç¼–è¯‘æ•´ä¸ªé¡¹ç›®éƒ½æ˜¯ä¸€ä»¶å¾ˆæµªè´¹æ—¶é—´çš„äº‹æƒ…ã€‚Researchäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°ä»¥ä¸‹å¯ä»¥å¸®åŠ©æé«˜é€Ÿåº¦çš„æ–¹æ³•ï¼Œæ€»ç»“ä¸€ä¸‹ã€‚ tmpfs æœ‰äººè¯´åœ¨Windowsä¸‹ç”¨äº†RAMDiskæŠŠä¸€ä¸ªé¡¹ç›®ç¼–è¯‘æ—¶é—´ä»Ž4. 5å°æ—¶å‡å°‘åˆ°äº†5åˆ†é’Ÿï¼Œä¹Ÿè®¸è¿™ä¸ªæ•°å­—æ˜¯æœ‰ç‚¹å¤¸å¼ äº†ï¼Œä¸è¿‡ç²—æƒ³æƒ³ï¼ŒæŠŠæ–‡ä»¶æ”¾åˆ°å†…å­˜ä¸Šåšç¼–è¯‘åº”è¯¥æ˜¯æ¯”åœ¨ç£ç›˜ ä¸Šå¿«å¤šäº†å§ï¼Œå°¤å…¶å¦‚æžœç¼–è¯‘å™¨éœ€è¦ç”Ÿæˆå¾ˆå¤šä¸´æ—¶æ–‡ä»¶çš„è¯ã€‚ è¿™ä¸ªåšæ³•çš„å®žçŽ°æˆæœ¬æœ€ä½Žï¼Œåœ¨Linuxä¸­ï¼Œç›´æŽ¥mountä¸€ä¸ªtmpfså°±å¯ä»¥äº†ã€‚è€Œä¸”å¯¹æ‰€ç¼–è¯‘çš„å·¥ç¨‹æ²¡æœ‰ä»»ä½•è¦æ±‚ï¼Œä¹Ÿä¸ç”¨æ”¹åŠ¨ç¼–è¯‘çŽ¯å¢ƒã€‚ mount -t tmpfs tmpfs ~/build -o size=1G ç”¨2.6.32.2çš„Linux Kernelæ¥æµ‹è¯•ä¸€ä¸‹ç¼–è¯‘é€Ÿåº¦ï¼š ç”¨ç‰©ç†ç£ç›˜ï¼š40åˆ†16ç§’ ç”¨tmpfsï¼š39åˆ†56ç§’ å‘ƒâ€¦â€¦æ²¡ä»€ä¹ˆå˜åŒ–ã€‚çœ‹æ¥ç¼–è¯‘æ…¢å¾ˆå¤§ç¨‹åº¦ä¸Šç“¶é¢ˆå¹¶ä¸åœ¨IOä¸Šé¢ã€‚ä½†å¯¹äºŽä¸€ä¸ªå®žé™…é¡¹ç›®æ¥è¯´ï¼Œ ç¼–è¯‘è¿‡ç¨‹ä¸­å¯èƒ½è¿˜ä¼šæœ‰æ‰“åŒ…ç­‰IOå¯†é›†çš„æ“ä½œï¼Œæ‰€ä»¥åªè¦å¯èƒ½ï¼Œç”¨tmpfsæ˜¯æœ‰ ç›Šæ— å®³çš„ã€‚ å½“ç„¶å¯¹äºŽå¤§é¡¹ç›®æ¥è¯´ï¼Œä½ éœ€è¦æœ‰è¶³å¤Ÿçš„å†…å­˜æ‰èƒ½è´Ÿæ‹…å¾—èµ·è¿™ä¸ªtmpfsçš„å¼€é”€ã€‚ make -j æ—¢ç„¶IOä¸æ˜¯ç“¶é¢ˆï¼Œé‚£CPUå°±åº”è¯¥æ˜¯ä¸€ä¸ªå½±å“ç¼–è¯‘é€Ÿåº¦çš„é‡è¦å› ç´ äº†ã€‚ ç”¨make -jå¸¦ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æŠŠé¡¹ç›®åœ¨è¿›è¡Œå¹¶è¡Œç¼–è¯‘ï¼Œæ¯”å¦‚åœ¨ä¸€å°åŒæ ¸çš„æœºå™¨ä¸Šï¼Œå®Œå…¨å¯ä»¥ç”¨make -j4ï¼Œè®©makeæœ€å¤šå…è®¸4ä¸ªç¼–è¯‘å‘½ä»¤åŒæ—¶æ‰§è¡Œï¼Œè¿™æ ·å¯ä»¥æ›´æœ‰æ•ˆçš„åˆ©ç”¨CPUèµ„æºã€‚ è¿˜æ˜¯ç”¨Kernelæ¥æµ‹è¯•ï¼š ç”¨makeï¼š 40åˆ†16ç§’ ç”¨make -j4ï¼š23åˆ†16ç§’ ç”¨make -j8ï¼š22åˆ†59ç§’ ç”±æ­¤çœ‹æ¥ï¼Œåœ¨å¤šæ ¸CPUä¸Šï¼Œé€‚å½“çš„è¿›è¡Œå¹¶è¡Œç¼–è¯‘è¿˜æ˜¯å¯ä»¥æ˜Žæ˜¾æé«˜ç¼–è¯‘é€Ÿåº¦çš„ã€‚ä½†å¹¶è¡Œçš„ä»»åŠ¡ä¸å®œå¤ªå¤šï¼Œä¸€èˆ¬æ˜¯ä»¥CPUçš„æ ¸å¿ƒæ•°ç›®çš„ä¸¤å€ä¸ºå®œã€‚ ä¸è¿‡è¿™ä¸ªæ–¹æ¡ˆä¸æ˜¯å®Œå…¨æ²¡æœ‰costçš„ï¼Œå¦‚æžœé¡¹ç›®çš„Makefileä¸è§„èŒƒï¼Œæ²¡æœ‰æ­£ç¡®çš„è®¾ç½®å¥½ä¾èµ–å…³ç³»ï¼Œå¹¶è¡Œç¼–è¯‘çš„ç»“æžœå°±æ˜¯ç¼–è¯‘ä¸èƒ½æ­£å¸¸è¿›è¡Œã€‚å¦‚æžœä¾èµ–å…³ç³»è®¾ç½®è¿‡äºŽä¿å®ˆï¼Œåˆ™å¯èƒ½æœ¬èº«ç¼–è¯‘çš„å¯å¹¶è¡Œåº¦å°±ä¸‹é™äº†ï¼Œä¹Ÿä¸èƒ½å–å¾—æœ€ä½³çš„æ•ˆæžœã€‚ ccache ccacheç”¨äºŽæŠŠç¼–è¯‘çš„ä¸­é—´ç»“æžœè¿›è¡Œç¼“å­˜ï¼Œä»¥ä¾¿åœ¨å†æ¬¡ç¼–è¯‘çš„æ—¶å€™å¯ä»¥èŠ‚çœæ—¶é—´ã€‚è¿™å¯¹äºŽçŽ©Kernelæ¥è¯´å®žåœ¨æ˜¯å†å¥½ä¸è¿‡äº†ï¼Œå› ä¸ºç»å¸¸éœ€è¦ä¿®æ”¹ä¸€äº›Kernelçš„ä»£ç ï¼Œç„¶åŽå†é‡æ–°ç¼–è¯‘ï¼Œè€Œè¿™ä¸¤æ¬¡ç¼–è¯‘å¤§éƒ¨åˆ†ä¸œè¥¿å¯èƒ½éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚å¯¹äºŽå¹³æ—¶å¼€å‘é¡¹ç›®æ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€æ ·ã€‚ä¸ºä»€ä¹ˆä¸æ˜¯ç›´æŽ¥ç”¨makeæ‰€æ”¯æŒçš„å¢žé‡ç¼–è¯‘å‘¢ï¼Ÿè¿˜æ˜¯å› ä¸ºçŽ°å®žä¸­ï¼Œå› ä¸ºMakefileçš„ä¸è§„èŒƒï¼Œå¾ˆå¯èƒ½è¿™ç§â€œèªæ˜Žâ€çš„æ–¹æ¡ˆæ ¹æœ¬ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Œåªæœ‰æ¯æ¬¡make cleanå†makeæ‰è¡Œã€‚ å®‰è£…å®ŒccacheåŽï¼Œå¯ä»¥åœ¨/usr/local/binä¸‹å»ºç«‹gccï¼Œg++ï¼Œc++ï¼Œccçš„symboliclinkï¼Œé“¾åˆ°/usr/bin/ccacheä¸Šã€‚æ€»ä¹‹ç¡®è®¤ç³»ç»Ÿåœ¨è°ƒç”¨gccç­‰å‘½ä»¤æ—¶ä¼šè°ƒç”¨åˆ°ccacheå°±å¯ä»¥äº†ï¼ˆé€šå¸¸æƒ…å†µä¸‹/usr/local/binä¼šåœ¨PATHä¸­æŽ’åœ¨/usr/binå‰é¢ï¼‰ã€‚ ç»§ç»­æµ‹è¯•ï¼š ç”¨ccacheçš„ç¬¬ä¸€æ¬¡ç¼–è¯‘(make -j4)ï¼š23åˆ†38ç§’ ç”¨ccacheçš„ç¬¬äºŒæ¬¡ç¼–è¯‘(make -j4)ï¼š8åˆ†48ç§’ ç”¨ccacheçš„ç¬¬ä¸‰æ¬¡ç¼–è¯‘(ä¿®æ”¹è‹¥å¹²é…ç½®ï¼Œmake -j4)ï¼š23åˆ†48ç§’ çœ‹æ¥ä¿®æ”¹é…ç½®ï¼ˆæˆ‘æ”¹äº†CPUç±»åž‹â€¦ï¼‰å¯¹ccacheçš„å½±å“æ˜¯å¾ˆå¤§çš„ï¼Œå› ä¸ºåŸºæœ¬å¤´æ–‡ä»¶å‘ç”Ÿå˜åŒ–åŽï¼Œå°±å¯¼è‡´æ‰€æœ‰ç¼“å­˜æ•°æ®éƒ½æ— æ•ˆäº†ï¼Œå¿…é¡»é‡å¤´æ¥åšã€‚ä½†å¦‚æžœåªæ˜¯ä¿®æ”¹ä¸€äº›.cæ–‡ä»¶çš„ä»£ç ï¼Œccacheçš„æ•ˆæžœè¿˜æ˜¯ç›¸å½“æ˜Žæ˜¾çš„ã€‚è€Œä¸”ä½¿ç”¨ccacheå¯¹é¡¹ç›®æ²¡æœ‰ç‰¹åˆ«çš„ä¾èµ–ï¼Œå¸ƒç½²æˆæœ¬å¾ˆä½Žï¼Œè¿™åœ¨æ—¥å¸¸å·¥ä½œä¸­å¾ˆå®žç”¨ã€‚ å¯ä»¥ç”¨ccache -sæ¥æŸ¥çœ‹cacheçš„ä½¿ç”¨å’Œå‘½ä¸­æƒ…å†µï¼š cache directory /home/lifanxi/.ccache cache hit 7165 cache miss 14283 called for link 71 not a C/C++ file 120 no input file 3045 files in cache 28566 cache size 81.7 Mbytes max cache size 976.6 Mbytes å¯ä»¥çœ‹åˆ°ï¼Œæ˜¾ç„¶åªæœ‰ç¬¬äºŒç¼–æ¬¡è¯‘æ—¶cacheå‘½ä¸­äº†ï¼Œcache missæ˜¯ç¬¬ä¸€æ¬¡å’Œç¬¬ä¸‰æ¬¡ç¼–è¯‘å¸¦æ¥çš„ã€‚ä¸¤æ¬¡cacheå ç”¨äº†81.7Mçš„ç£ç›˜ï¼Œè¿˜æ˜¯å®Œå…¨å¯ä»¥æŽ¥å—çš„ã€‚ distcc ä¸€å°æœºå™¨çš„èƒ½åŠ›æœ‰é™ï¼Œå¯ä»¥è”åˆå¤šå°ç”µè„‘ä¸€èµ·æ¥ç¼–è¯‘ã€‚è¿™åœ¨å…¬å¸çš„æ—¥å¸¸å¼€å‘ä¸­ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºå¯èƒ½æ¯ä¸ªå¼€å‘äººå‘˜éƒ½æœ‰è‡ªå·±çš„å¼€å‘ç¼–è¯‘çŽ¯å¢ƒï¼Œå®ƒä»¬çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸€èˆ¬æ˜¯ä¸€è‡´çš„ï¼Œå…¬å¸çš„ç½‘ç»œä¹Ÿé€šå¸¸å…·æœ‰è¾ƒå¥½çš„æ€§èƒ½ã€‚è¿™æ—¶å°±æ˜¯distccå¤§æ˜¾èº«æ‰‹çš„æ—¶å€™äº†ã€‚ ä½¿ç”¨distccï¼Œå¹¶ä¸åƒæƒ³è±¡ä¸­é‚£æ ·è¦æ±‚æ¯å°ç”µè„‘éƒ½å…·æœ‰å®Œå…¨ä¸€è‡´çš„çŽ¯å¢ƒï¼Œå®ƒåªè¦æ±‚æºä»£ç å¯ä»¥ç”¨make -jå¹¶è¡Œç¼–è¯‘ï¼Œå¹¶ä¸”å‚ä¸Žåˆ†å¸ƒå¼ç¼–è¯‘çš„ç”µè„‘ç³»ç»Ÿä¸­å…·æœ‰ç›¸åŒçš„ç¼–è¯‘å™¨ã€‚å› ä¸ºå®ƒçš„åŽŸç†åªæ˜¯æŠŠé¢„å¤„ç†å¥½çš„æºæ–‡ä»¶åˆ†å‘åˆ°å¤šå°è®¡ç®—æœºä¸Šï¼Œé¢„å¤„ç†ã€ç¼–è¯‘åŽçš„ç›®æ ‡æ–‡ä»¶çš„é“¾æŽ¥å’Œå…¶å®ƒé™¤ç¼–è¯‘ä»¥å¤–çš„å·¥ä½œä»ç„¶æ˜¯åœ¨å‘èµ·ç¼–è¯‘çš„ä¸»æŽ§ç”µè„‘ä¸Šå®Œæˆï¼Œæ‰€ä»¥åªè¦æ±‚å‘èµ·ç¼–è¯‘çš„é‚£å°æœºå™¨å…·å¤‡ä¸€å¥—å®Œæ•´çš„ç¼–è¯‘çŽ¯å¢ƒå°±å¯ä»¥äº†ã€‚ distccå®‰è£…åŽï¼Œå¯ä»¥å¯åŠ¨ä¸€ä¸‹å®ƒçš„æœåŠ¡ï¼š /usr/bin/distccd â€“daemon â€“allow 10.64.0.0/16 é»˜è®¤çš„3632ç«¯å£å…è®¸æ¥è‡ªåŒä¸€ä¸ªç½‘ç»œçš„distccè¿žæŽ¥ã€‚ ç„¶åŽè®¾ç½®ä¸€ä¸‹DISTCC_HOSTSçŽ¯å¢ƒå˜é‡ï¼Œè®¾ç½®å¯ä»¥å‚ä¸Žç¼–è¯‘çš„æœºå™¨åˆ—è¡¨ã€‚ é€šå¸¸localhostä¹Ÿå‚ä¸Žç¼–è¯‘ï¼Œä½†å¦‚æžœå¯ä»¥å‚ä¸Žç¼–è¯‘çš„æœºå™¨å¾ˆå¤šï¼Œåˆ™å¯ä»¥æŠŠlocalhostä»Žè¿™ä¸ªåˆ—è¡¨ ä¸­åŽ»æŽ‰ï¼Œè¿™æ ·æœ¬æœºå°±å®Œå…¨åªæ˜¯è¿›è¡Œé¢„å¤„ç†ã€åˆ†å‘å’Œé“¾æŽ¥äº†ï¼Œç¼–è¯‘éƒ½åœ¨åˆ«çš„æœºå™¨ä¸Šå®Œæˆã€‚ å› ä¸ºæœºå™¨å¾ˆå¤šæ—¶ï¼Œlocalhostçš„å¤„ç†è´Ÿæ‹…å¾ˆé‡ï¼Œæ‰€ä»¥å®ƒå°±ä¸å†â€œå…¼èŒâ€ç¼–è¯‘äº†ã€‚ export DISTCC_HOSTS=&quot;localhost 10.64.25.1 10.64.25.2 10.64.25.3&quot; ç„¶åŽä¸Žccacheç±»ä¼¼æŠŠg++ï¼Œgccç­‰å¸¸ç”¨çš„å‘½ä»¤é“¾æŽ¥åˆ°/usr/bin/distccä¸Šå°±å¯ä»¥äº†ã€‚ åœ¨makeçš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»ç”¨-jå‚æ•°ï¼Œä¸€èˆ¬æ˜¯å‚æ•°å¯ä»¥ç”¨æ‰€æœ‰å‚ç”¨ç¼–è¯‘çš„è®¡ç®—æœºCPUå†…æ ¸æ€»æ•°çš„ä¸¤å€åšä¸ºå¹¶è¡Œçš„ä»»åŠ¡æ•°ã€‚ åŒæ ·æµ‹è¯•ä¸€ä¸‹ï¼š ä¸€å°åŒæ ¸è®¡ç®—æœºï¼Œmake -j4ï¼š23åˆ†16ç§’ ä¸¤å°åŒæ ¸è®¡ç®—æœºï¼Œmake -j4ï¼š16åˆ†40ç§’ ä¸¤å°åŒæ ¸è®¡ç®—æœºï¼Œmake -j8ï¼š15åˆ†49ç§’ è·Ÿæœ€å¼€å§‹ç”¨ä¸€å°åŒæ ¸æ—¶çš„23åˆ†é’Ÿç›¸æ¯”ï¼Œè¿˜æ˜¯å¿«äº†ä¸å°‘çš„ã€‚å¦‚æžœæœ‰æ›´å¤šçš„è®¡ç®—æœºåŠ å…¥ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°æ›´å¥½çš„æ•ˆæžœã€‚ åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¯ä»¥ç”¨distccmon-textæ¥æŸ¥çœ‹ç¼–è¯‘ä»»åŠ¡çš„åˆ†é…æƒ…å†µã€‚distccä¹Ÿå¯ä»¥ä¸ŽccacheåŒæ—¶ä½¿ç”¨ï¼Œé€šè¿‡è®¾ç½®ä¸€ä¸ªçŽ¯å¢ƒå˜é‡å°±å¯ä»¥åšåˆ°ï¼Œéžå¸¸æ–¹ä¾¿ã€‚ æ€»ç»“ tmpfsï¼š è§£å†³IOç“¶é¢ˆï¼Œå……åˆ†åˆ©ç”¨æœ¬æœºå†…å­˜èµ„æº make -jï¼š å……åˆ†åˆ©ç”¨æœ¬æœºè®¡ç®—èµ„æº distccï¼š åˆ©ç”¨å¤šå°è®¡ç®—æœºèµ„æº ccacheï¼š å‡å°‘é‡å¤ç¼–è¯‘ç›¸åŒä»£ç çš„æ—¶é—´ è¿™äº›å·¥å…·çš„å¥½å¤„éƒ½åœ¨äºŽå¸ƒç½²çš„æˆæœ¬ç›¸å¯¹è¾ƒä½Žï¼Œç»¼åˆåˆ©ç”¨è¿™äº›å·¥å…·ï¼Œå°±å¯ä»¥è½»è½»æ¾æ¾çš„èŠ‚çœç›¸å½“å¯è§‚çš„æ—¶é—´ã€‚ ä¸Šé¢ä»‹ç»çš„éƒ½æ˜¯è¿™äº›å·¥å…·æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œæ›´å¤šçš„ç”¨æ³•å¯ä»¥å‚è€ƒå®ƒä»¬å„è‡ªçš„man pageã€‚]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ç¼–è¯‘</tag>
        <tag>make</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªç¾¤èš(é±¼ç¾¤)AIæ’ä»¶åŸºäºŽè™šå¹»4(æœ‰çŽ°æˆæ‰“åŒ…å¥½çš„è¯•çŽ©demo, æºç åœ¨GitHub)]]></title>
    <url>%2F2016%2F10%2F18%2F%E4%B8%80%E4%B8%AA%E7%BE%A4%E8%81%9A(%E9%B1%BC%E7%BE%A4)AI%E6%8F%92%E4%BB%B6%E5%9F%BA%E4%BA%8E%E8%99%9A%E5%B9%BB4(%E6%9C%89%E7%8E%B0%E6%88%90%E6%89%93%E5%8C%85%E5%A5%BD%E7%9A%84%E8%AF%95%E7%8E%A9demo%2C%20%E6%BA%90%E7%A0%81%E5%9C%A8GitHub)%2F</url>
    <content type="text"><![CDATA[fishA fish flock AI Plugin for Unreal Engine 4 ä¸€ä¸ªåŸºäºŽè™šå¹»4çš„é±¼ç¾¤ AI æ’ä»¶ this Plugin version can Run 2000+ fishes at the same time è¿™ä¸ªæ’ä»¶ç‰ˆæœ¬å¯ä»¥åŒæ—¶è¿è¡Œ 2000+ æ¡é±¼å„¿ Video Preview Watch the Video Preview æŸ¥çœ‹ è§†é¢‘æ¼”ç¤º Download &amp; PlayDownload Download MyFish.exe (Win64) (This is packaged by an unoptimized version( check out branch old_demo)) ä¸‹è½½ MyFish.exe (Win64) çŽ©çŽ© è¿™ä¸ªåŒ…æ˜¯æ²¡æœ‰ç»è¿‡ä¼˜åŒ–è¿‡çš„ç‰ˆæœ¬æ‰“åŒ…å‡ºæ¥çš„(æ˜¯ç”¨old_demoåˆ†æ”¯çš„ç‰ˆæœ¬æ‰“åŒ…çš„) How to play VR : (My Device is HTC Vive) Motion Controller FaceButton1 =&gt; Move forward æ‰‹æŸ„åœ†ç›˜ä¸Šé”® =&gt; å¾€å‰ç§»åŠ¨ PCâ€™s KeyBoard Arrow UP and Down =&gt; Move faster or slower ç”µè„‘é”®ç›˜çš„ä¸Šä¸‹ç®­å¤´é”® =&gt; è°ƒæ•´ç§»åŠ¨é€Ÿåº¦ Hold Motion Controller Trigger Down =&gt; Attract fishes æŒ‰ä½æ‰‹æŸ„æ‰³æœºé”® =&gt; å¸å¼•é±¼ç¾¤ PC : EQ =&gt; Up &amp; Down EQ é”® =&gt; ä¸Šä¸‹ WASD =&gt; Basic movement WASD é”® =&gt; åŸºæœ¬çš„ç§»åŠ¨æŒ‡ä»¤(å‰åŽå·¦å³) Hold Left Mouse Button Down =&gt; Attract fishes æŒ‰ä½é¼ æ ‡å·¦é”® =&gt; å¸å¼•é±¼ç¾¤ Arrow UP and Down =&gt; Move faster or slower ä¸Šä¸‹ç®­å¤´é”® =&gt; è°ƒæ•´ç§»åŠ¨é€Ÿåº¦ How to useplace Plugins folder in your project root directory, then just like æŠŠPluginsæ–‡ä»¶å¤¹æ”¾åœ¨ä½ é¡¹ç›®çš„æ ¹ç›®å½•, æŽ¥ä¸‹æ¥å¦‚å›¾ About This Unreal Engine Version 4.15 Read Craig Reynoldsâ€™s thesis æŸ¥çœ‹ Craig Reynoldsçš„è®ºæ–‡ This project implements a new flocking Ai algorithm, with 3 components : ç®—æ³•ç®€è¦ Separation : every fish will try to steer away from their neighbors åˆ†ç¦»æ€§ ï¼šæ¯æ¡é±¼éƒ½ä¼šä¸Žå‘¨å›´çš„é±¼ä¿æŒè·ç¦» Following the leader : every fish will try to follow its leader è·Ÿéšä¸€ä¸ªé¢†å¤´è€… ï¼š æ¯æ¡é±¼éƒ½ä¼šè·Ÿéšä¸€ä¸ªé¢†å¤´è€… Avoiding enemies. èº²é¿æ•Œäºº]]></content>
      <categories>
        <category>UE4</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>UE4</tag>
        <tag>AI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XXTEAçš„pythonå®žçŽ°]]></title>
    <url>%2F2016%2F09%2F13%2FXXTEA%E7%9A%84python%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[åœ¨æ•°æ®çš„åŠ è§£å¯†é¢†åŸŸï¼Œç®—æ³•åˆ†ä¸ºå¯¹ç§°å¯†é’¥ä¸Žéžå¯¹ç§°å¯†é’¥ä¸¤ç§ã€‚ å¯¹ç§°å¯†é’¥ä¸Žéžå¯¹ç§°å¯†é’¥ç”±äºŽå„è‡ªçš„ç‰¹ç‚¹ï¼Œæ‰€åº”ç”¨çš„é¢†åŸŸæ˜¯ä¸å°½ç›¸åŒçš„ã€‚ å¯¹ç§°å¯†é’¥åŠ å¯†ç®—æ³•ç”±äºŽå…¶é€Ÿåº¦å¿«ï¼Œä¸€èˆ¬ç”¨äºŽæ•´ä½“æ•°æ®çš„åŠ å¯†ï¼Œè€Œéžå¯¹ç§°å¯†é’¥åŠ å¯†ç®—æ³•çš„å®‰å…¨æ€§èƒ½ä½³ï¼Œåœ¨æ•°å­—ç­¾åé¢†åŸŸå¾—åˆ°å¹¿æ³›çš„åº”ç”¨ã€‚ å¾®åž‹åŠ å¯†ç®—æ³•ï¼ˆTEAï¼‰åŠå…¶ç›¸å…³å˜ç§ï¼ˆXTEAï¼ŒBlock TEAï¼ŒXXTEAï¼‰ éƒ½æ˜¯åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå®ƒä»¬å¾ˆå®¹æ˜“è¢«æè¿°ï¼Œå®žçŽ°ä¹Ÿå¾ˆç®€å•ï¼ˆå…¸åž‹çš„å‡ è¡Œä»£ç ï¼‰ã€‚ TEAæ˜¯Tiny Encryption Algorithmçš„ç¼©å†™ï¼Œä»¥åŠ å¯†è§£å¯†é€Ÿåº¦å¿«ï¼Œå®žçŽ°ç®€å•è‘—ç§°ã€‚ TEA ç®—æ³•æœ€åˆæ˜¯ç”±å‰‘æ¡¥è®¡ç®—æœºå®žéªŒå®¤çš„ David Wheeler å’Œ Roger Needham åœ¨ 1994 å¹´è®¾è®¡çš„ã€‚ è¯¥ç®—æ³•ä½¿ç”¨ 128 ä½çš„å¯†é’¥ä¸º 64 ä½çš„ä¿¡æ¯å—è¿›è¡ŒåŠ å¯†ï¼Œå®ƒéœ€è¦è¿›è¡Œ 64 è½®è¿­ä»£ï¼Œå°½ç®¡ä½œè€…è®¤ä¸º 32 è½®å·²ç»è¶³å¤Ÿäº†ã€‚ è¯¥ç®—æ³•ä½¿ç”¨äº†ä¸€ä¸ªç¥žç§˜å¸¸æ•°Î´ä½œä¸ºå€æ•°ï¼Œå®ƒæ¥æºäºŽé»„é‡‘æ¯”çŽ‡ï¼Œä»¥ä¿è¯æ¯ä¸€è½®åŠ å¯†éƒ½ä¸ç›¸åŒã€‚ ä½†Î´çš„ç²¾ç¡®å€¼ä¼¼ä¹Žå¹¶ä¸é‡è¦ï¼Œè¿™é‡Œ TEA æŠŠå®ƒå®šä¹‰ä¸º Î´=ã€Œ(âˆš5 - 1)231ã€ï¼ˆä¹Ÿå°±æ˜¯ç¨‹åºä¸­çš„ 0Ã—9E3779B9ï¼‰ã€‚ ä¹‹åŽ TEA ç®—æ³•è¢«å‘çŽ°å­˜åœ¨ç¼ºé™·ï¼Œä½œä¸ºå›žåº”ï¼Œè®¾è®¡è€…æå‡ºäº†ä¸€ä¸ª TEA çš„å‡çº§ç‰ˆæœ¬â€”â€”XTEAï¼ˆæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºâ€œteanâ€ï¼‰ã€‚ XTEA è·Ÿ TEA ä½¿ç”¨äº†ç›¸åŒçš„ç®€å•è¿ç®—ï¼Œä½†å®ƒé‡‡ç”¨äº†æˆªç„¶ä¸åŒçš„é¡ºåºï¼Œä¸ºäº†é˜»æ­¢å¯†é’¥è¡¨æ”»å‡»ï¼Œå››ä¸ªå­å¯†é’¥ï¼ˆåœ¨åŠ å¯†è¿‡ç¨‹ä¸­ï¼ŒåŽŸ 128 ä½çš„å¯†é’¥è¢«æ‹†åˆ†ä¸º 4 ä¸ª 32 ä½çš„å­å¯†é’¥ï¼‰é‡‡ç”¨äº†ä¸€ç§ä¸å¤ªæ­£è§„çš„æ–¹å¼è¿›è¡Œæ··åˆï¼Œä½†é€Ÿåº¦æ›´æ…¢äº†ã€‚ åœ¨è·Ÿæè¿° XTEA ç®—æ³•çš„åŒä¸€ä»½æŠ¥å‘Šä¸­ï¼Œè¿˜ä»‹ç»äº†å¦å¤–ä¸€ç§è¢«ç§°ä¸º Block TEA ç®—æ³•çš„å˜ç§ï¼Œå®ƒå¯ä»¥å¯¹ 32 ä½å¤§å°ä»»æ„å€æ•°çš„å˜é‡å—è¿›è¡Œæ“ä½œã€‚ è¯¥ç®—æ³•å°† XTEA è½®å¾ªå‡½æ•°ä¾æ¬¡åº”ç”¨äºŽå—ä¸­çš„æ¯ä¸ªå­—ï¼Œå¹¶ä¸”å°†å®ƒé™„åŠ äºŽå®ƒçš„é‚»å­—ã€‚ è¯¥æ“ä½œé‡å¤å¤šå°‘è½®ä¾èµ–äºŽå—çš„å¤§å°ï¼Œä½†è‡³å°‘éœ€è¦ 6 è½®ã€‚ è¯¥æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºŽå®ƒæ— éœ€æ“ä½œæ¨¡å¼ï¼ˆCBCï¼ŒOFBï¼ŒCFB ç­‰ï¼‰ï¼Œå¯†é’¥å¯ç›´æŽ¥ç”¨äºŽä¿¡æ¯ã€‚ å¯¹äºŽé•¿çš„ä¿¡æ¯å®ƒå¯èƒ½æ¯” XTEA æ›´æœ‰æ•ˆçŽ‡ã€‚ åœ¨ 1998 å¹´ï¼ŒMarkku-Juhani Saarinen ç»™å‡ºäº†ä¸€ä¸ªå¯æœ‰æ•ˆæ”»å‡» Block TEA ç®—æ³•çš„ä»£ç ï¼Œä½†ä¹‹åŽå¾ˆå¿« David J. Wheeler å’Œ Roger M. Needham å°±ç»™å‡ºäº† Block TEA ç®—æ³•çš„ä¿®è®¢ç‰ˆï¼Œè¿™ä¸ªç®—æ³•è¢«ç§°ä¸º XXTEAã€‚ XXTEA ä½¿ç”¨è·Ÿ Block TEA ç›¸ä¼¼çš„ç»“æž„ï¼Œä½†åœ¨å¤„ç†å—ä¸­æ¯ä¸ªå­—æ—¶åˆ©ç”¨äº†ç›¸é‚»å­—ã€‚ å®ƒåˆ©ç”¨ä¸€ä¸ªæ›´å¤æ‚çš„ MX å‡½æ•°ä»£æ›¿äº† XTEA è½®å¾ªå‡½æ•°ï¼ŒMX ä½¿ç”¨ 2 ä¸ªè¾“å…¥é‡ã€‚ XXTEA ç®—æ³•å¾ˆå®‰å…¨ï¼Œè€Œä¸”éžå¸¸å¿«é€Ÿï¼Œéžå¸¸é€‚åˆåº”ç”¨äºŽ Web å¼€å‘ä¸­ã€‚ TEAç®—æ³•æ˜¯ç”±å‰‘æ¡¥å¤§å­¦è®¡ç®—æœºå®žéªŒå®¤çš„David Wheelerå’ŒRoger NeedhamäºŽ1994å¹´å‘æ˜Žï¼Œ TEAæ˜¯Tiny Encryption Algorithmçš„ç¼©å†™ï¼Œä»¥åŠ å¯†è§£å¯†é€Ÿåº¦å¿«ï¼Œå®žçŽ°ç®€å•è‘—ç§°ã€‚ TEAç®—æ³•æ¯ä¸€æ¬¡å¯ä»¥æ“ä½œ64bit(8byte)ï¼Œé‡‡ç”¨128bit(16byte)ä½œä¸ºkeyï¼Œç®—æ³•é‡‡ç”¨è¿­ä»£çš„å½¢å¼ï¼ŒæŽ¨èçš„è¿­ä»£è½®æ•°æ˜¯64è½®ï¼Œæœ€å°‘32è½®ã€‚ ä¸ºè§£å†³TEAç®—æ³•å¯†é’¥è¡¨æ”»å‡»çš„é—®é¢˜ï¼ŒTEAç®—æ³•å…ˆåŽç»åŽ†äº†å‡ æ¬¡æ”¹è¿›ï¼Œä»ŽXTEAåˆ°BLOCK TEAï¼Œç›´è‡³æœ€æ–°çš„XXTEAã€‚ XTEAä¹Ÿç§°åšTEANï¼Œå®ƒä½¿ç”¨ä¸ŽTEAç›¸åŒçš„ç®€å•è¿ç®—ï¼Œä½†å››ä¸ªå­å¯†é’¥é‡‡å–ä¸æ­£è§„çš„æ–¹å¼è¿›è¡Œæ··åˆä»¥é˜»æ­¢å¯†é’¥è¡¨æ”»å‡»ã€‚ Block TEAç®—æ³•å¯ä»¥å¯¹32ä½çš„ä»»æ„æ•´æ•°å€é•¿åº¦çš„å˜é‡å—è¿›è¡ŒåŠ è§£å¯†çš„æ“ä½œï¼Œè¯¥ç®—æ³•å°†XTEAè½®å¾ªå‡½æ•°ä¾æ¬¡åº”ç”¨äºŽå—ä¸­çš„æ¯ä¸ªå­—ï¼Œå¹¶ä¸”å°†å®ƒé™„åŠ äºŽè¢«åº”ç”¨å­—çš„é‚»å­—ã€‚ XXTEAä½¿ç”¨è·ŸBlock TEAç›¸ä¼¼çš„ç»“æž„ï¼Œä½†åœ¨å¤„ç†å—ä¸­æ¯ä¸ªå­—æ—¶åˆ©ç”¨äº†ç›¸é‚»å­—ï¼Œä¸”ç”¨æ‹¥æœ‰ä¸¤ä¸ªè¾“å…¥é‡çš„MXå‡½æ•°ä»£æ›¿äº†XTEAè½®å¾ªå‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667import struct _DELTA = 0x9E3779B9 def _long2str(v, w): n = (len(v) - 1) &lt;&lt; 2 if w: m = v[-1] if (m &lt; n - 3) or (m &gt; n): return &apos;&apos; n = m s = struct.pack(&apos;&lt;%iL&apos; % len(v), *v) return s[0:n] if w else s def _str2long(s, w): n = len(s) m = (4 - (n &amp; 3) &amp; 3) + n s = s.ljust(m, &quot;\0&quot;) v = list(struct.unpack(&apos;&lt;%iL&apos; % (m &gt;&gt; 2), s)) if w: v.append(n) return v def encrypt(str, key): if str == &apos;&apos;: return str v = _str2long(str, True) k = _str2long(key.ljust(16, &quot;\0&quot;), False) n = len(v) - 1 z = v[n] y = v[0] sum = 0 q = 6 + 52 // (n + 1) while q &gt; 0: sum = (sum + _DELTA) &amp; 0xffffffff e = sum &gt;&gt; 2 &amp; 3 for p in xrange(n): y = v[p + 1] v[p] = (v[p] + ((z &gt;&gt; 5 ^ y &lt;&lt; 2) + (y &gt;&gt; 3 ^ z &lt;&lt; 4) ^ (sum ^ y) + (k[p &amp; 3 ^ e] ^ z))) &amp; 0xffffffff z = v[p] y = v[0] v[n] = (v[n] + ((z &gt;&gt; 5 ^ y &lt;&lt; 2) + (y &gt;&gt; 3 ^ z &lt;&lt; 4) ^ (sum ^ y) + (k[n &amp; 3 ^ e] ^ z))) &amp; 0xffffffff z = v[n] q -= 1 return _long2str(v, False) def decrypt(str, key): if str == &apos;&apos;: return str v = _str2long(str, False) k = _str2long(key.ljust(16, &quot;\0&quot;), False) n = len(v) - 1 z = v[n] y = v[0] q = 6 + 52 // (n + 1) sum = (q * _DELTA) &amp; 0xffffffff while (sum != 0): e = sum &gt;&gt; 2 &amp; 3 for p in xrange(n, 0, -1): z = v[p - 1] v[p] = (v[p] - ((z &gt;&gt; 5 ^ y &lt;&lt; 2) + (y &gt;&gt; 3 ^ z &lt;&lt; 4) ^ (sum ^ y) + (k[p &amp; 3 ^ e] ^ z))) &amp; 0xffffffff y = v[p] z = v[n] v[0] = (v[0] - ((z &gt;&gt; 5 ^ y &lt;&lt; 2) + (y &gt;&gt; 3 ^ z &lt;&lt; 4) ^ (sum ^ y) + (k[0 &amp; 3 ^ e] ^ z))) &amp; 0xffffffff y = v[0] sum = (sum - _DELTA) &amp; 0xffffffff return _long2str(v, True) if __name__ == &quot;__main__&quot;: print decrypt(encrypt(&apos;Hello XXTEA!&apos;, &apos;16bytelongstring&apos;), &apos;16bytelongstring&apos;)]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>xxtea</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†…é›¶å¤´å’Œå¤–é›¶å¤´]]></title>
    <url>%2F2016%2F09%2F12%2F%E5%86%85%E9%9B%B6%E5%A4%B4%E5%92%8C%E5%A4%96%E9%9B%B6%E5%A4%B4%2F</url>
    <content type="text"><![CDATA[é—®é¢˜:åœ¨å†…å­˜ç®¡ç†ä¸­ï¼Œâ€œå†…é›¶å¤´â€å’Œâ€œå¤–é›¶å¤´â€ä¸ªæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿåœ¨å›ºå®šå¼åˆ†åŒºåˆ†é…ã€å¯å˜å¼åˆ†åŒºåˆ†é…ã€é¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿã€æ®µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå„ä¼šå­˜åœ¨ä½•ç§é›¶å¤´ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ è§£ç­”ï¼š åœ¨å­˜å‚¨ç®¡ç†ä¸­ï¼Œ å†…é›¶å¤´æ˜¯æŒ‡åˆ†é…ç»™ä½œä¸šçš„å­˜å‚¨ç©ºé—´ä¸­æœªè¢«åˆ©ç”¨çš„éƒ¨åˆ†ï¼Œ å¤–é›¶å¤´æ˜¯æŒ‡ç³»ç»Ÿä¸­æ— æ³•åˆ©ç”¨çš„å°å­˜å‚¨å—ã€‚ åœ¨å›ºå®šå¼åˆ†åŒºåˆ†é…ä¸­ï¼Œä¸ºå°†ä¸€ä¸ªç”¨æˆ·ä½œä¸šè£…å…¥å†…å­˜ï¼Œå†…å­˜åˆ†é…ç¨‹åºä»Žç³»ç»Ÿåˆ†åŒºè¡¨ä¸­æ‰¾å‡ºä¸€ä¸ªèƒ½æ»¡è¶³ä½œä¸šè¦æ±‚çš„ç©ºé—²åˆ†åŒºåˆ†é…ç»™ä½œä¸šï¼Œç”±äºŽä¸€ä¸ªä½œä¸šçš„å¤§å°å¹¶ä¸ä¸€å®šä¸Žåˆ†åŒºå¤§å°ç›¸ç­‰ï¼Œå› æ­¤ï¼Œåˆ†åŒºä¸­æœ‰ä¸€éƒ¨åˆ†å­˜å‚¨ç©ºé—´æµªè´¹æŽ‰äº†ã€‚ ç”±æ­¤å¯çŸ¥ï¼Œå›ºå®šå¼åˆ†åŒºåˆ†é…ä¸­å­˜åœ¨å†…é›¶å¤´ã€‚ åœ¨å¯å˜å¼åˆ†åŒºåˆ†é…ä¸­ï¼Œä¸ºæŠŠä¸€ä¸ªä½œä¸šè£…å…¥å†…å­˜ï¼Œåº”æŒ‰ç…§ä¸€å®šçš„åˆ†é…ç®—æ³•ä»Žç³»ç»Ÿä¸­æ‰¾å‡ºä¸€ä¸ªèƒ½æ»¡è¶³ä½œä¸šéœ€æ±‚çš„ç©ºé—²åˆ†åŒºåˆ†é…ç»™ä½œä¸šï¼Œå¦‚æžœè¿™ä¸ªç©ºé—²åˆ†åŒºçš„å®¹é‡æ¯”ä½œä¸šç”³ è¯·çš„ç©ºé—´å®¹é‡è¦å¤§ï¼Œåˆ™å°†è¯¥åˆ†åŒºä¸€åˆ†ä¸ºäºŒï¼Œä¸€éƒ¨åˆ†åˆ†é…ç»™ä½œä¸šï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä»ç„¶ç•™ä½œç³»ç»Ÿçš„ç©ºé—²åˆ†åŒºã€‚ ç”±æ­¤å¯çŸ¥ï¼Œå¯å˜å¼åˆ†åŒºåˆ†é…ä¸­å­˜åœ¨å¤–é›¶å¤´ã€‚ åœ¨é¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·ä½œä¸šçš„åœ°å€ç©ºé—´è¢«åˆ’åˆ†æˆè‹¥å¹²å¤§å°ç›¸ç­‰çš„é¡µé¢ï¼Œå­˜å‚¨ç©ºé—´ä¹Ÿåˆ†æˆä¹Ÿé¡µå¤§å°ç›¸ç­‰çš„ç‰©ç†å—ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½œä¸šçš„å¤§å°ä¸å¯èƒ½éƒ½æ˜¯ç‰©ç†å—å¤§å°çš„æ•´æ•°å€ï¼Œå› æ­¤ä½œä¸šçš„æœ€åŽä¸€é¡µä¸­ä»æœ‰éƒ¨åˆ†ç©ºé—´è¢«æµªè´¹æŽ‰äº†ã€‚ ç”±æ­¤å¯çŸ¥ï¼Œé¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­å­˜åœ¨å†…é›¶å¤´ã€‚ åœ¨æ®µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­ï¼Œä½œä¸šçš„åœ°å€ç©ºé—´ç”±è‹¥å¹²ä¸ªé€»è¾‘åˆ†æ®µç»„æˆï¼Œæ¯æ®µåˆ†é…ä¸€ä¸ªè¿žç»­çš„å†…å­˜åŒºï¼Œä½†å„æ®µä¹‹é—´ä¸è¦æ±‚è¿žç»­ï¼Œå…¶å†…å­˜çš„åˆ†é…æ–¹å¼ç±»ä¼¼äºŽåŠ¨æ€åˆ†åŒºåˆ†é…ã€‚ ç”±æ­¤å¯çŸ¥ï¼Œæ®µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­å­˜åœ¨å¤–é›¶å¤´ã€‚ è¯¦ç»†è§£é‡Š æ“ä½œç³»ç»Ÿåœ¨åˆ†é…å†…å­˜æ—¶ï¼Œæœ‰æ—¶å€™ä¼šäº§ç”Ÿä¸€äº›ç©ºé—²ä½†æ˜¯æ— æ³•è¢«æ­£å¸¸ä½¿ç”¨çš„å†…å­˜åŒºåŸŸï¼Œè¿™äº›å°±æ˜¯å†…å­˜ç¢Žç‰‡ï¼Œæˆ–è€…ç§°ä¸ºå†…å­˜é›¶å¤´ï¼Œè¿™äº›å†…å­˜é›¶å¤´ä¸€å…±åˆ†ä¸ºä¸¤ç±»ï¼šå†…é›¶å¤´å’Œå¤–é›¶å¤´ã€‚ å†…é›¶å¤´æ˜¯æŒ‡è¿›ç¨‹åœ¨å‘æ“ä½œç³»ç»Ÿè¯·æ±‚å†…å­˜åˆ†é…æ—¶ï¼Œç³»ç»Ÿæ»¡è¶³äº†è¿›ç¨‹æ‰€éœ€è¦çš„å†…å­˜éœ€æ±‚åŽï¼Œè¿˜é¢å¤–è¿˜å¤šåˆ†äº†ä¸€äº›å†…å­˜ç»™è¯¥è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´é¢å¤–å¤šå‡ºæ¥çš„è¿™éƒ¨åˆ†å†…å­˜å½’è¯¥è¿›ç¨‹æ‰€æœ‰ï¼Œå…¶ä»–è¿›ç¨‹æ˜¯æ— æ³•è®¿é—®çš„ã€‚ å¤–é›¶å¤´æ˜¯æŒ‡å†…å­˜ä¸­å­˜åœ¨ç€ä¸€äº›ç©ºé—²çš„å†…å­˜åŒºåŸŸï¼Œè¿™äº›å†…å­˜åŒºåŸŸè™½ç„¶ä¸å½’ä»»ä½•è¿›ç¨‹æ‰€æœ‰ï¼Œä½†æ˜¯å› ä¸ºå†…å­˜åŒºåŸŸå¤ªå°ï¼Œæ— æ³•æ»¡è¶³å…¶ä»–è¿›ç¨‹æ‰€ç”³è¯·çš„å†…å­˜å¤§å°è€Œå½¢æˆçš„å†…å­˜é›¶å¤´ã€‚ é¡µå¼å­˜å‚¨ç®¡ç†çš„æƒ…å†µé¡µå¼å­˜å‚¨ç®¡ç†æ˜¯ä»¥é¡µä¸ºå•ä½ï¼ˆé¡µé¢çš„å¤§å°ç”±ç³»ç»Ÿç¡®å®šï¼Œä¸”å¤§å°æ˜¯å›ºå®šçš„ï¼‰å‘è¿›ç¨‹åˆ†é…å†…å­˜çš„ï¼Œ ä¾‹å¦‚ï¼šå‡è®¾å†…å­˜æ€»å…±æœ‰100K,åˆ†ä¸º10é¡µï¼Œæ¯é¡µå¤§å°ä¸º10Kã€‚çŽ°åœ¨è¿›ç¨‹Aæå‡ºç”³è¯·56Kå†…å­˜ï¼Œå› ä¸ºé¡µå¼å­˜å‚¨ç®¡ç†æ˜¯ä»¥é¡µä¸ºå•ä½è¿›ç¨‹å†…å­˜åˆ†é…çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿä¼šå‘è¿›ç¨‹Aæä¾›6ä¸ªé¡µé¢ï¼Œä¹Ÿå°±æ˜¯60Kçš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆåœ¨æœ€åŽä¸€é¡µä¸­è¿›ç¨‹åªä½¿ç”¨äº†6Kï¼Œä»Žè€Œå¤šå‡ºäº†4Kçš„å†…å­˜ç¢Žç‰‡ï¼Œä½†æ˜¯è¿™4Kçš„å†…å­˜ç¢Žç‰‡ç³»ç»Ÿå·²ç»åˆ†é…ç»™è¿›ç¨‹Aäº†ï¼Œå…¶ä»–è¿›ç¨‹æ˜¯æ— æ³•å†è®¿é—®è¿™äº›å†…å­˜åŒºåŸŸçš„ï¼Œ è¿™ç§å†…å­˜ç¢Žç‰‡å°±æ˜¯å†…é›¶å¤´ã€‚ æ®µå¼å­˜å‚¨ç®¡ç†çš„æƒ…å†µæ®µå¼å­˜å‚¨ç®¡ç†æ˜¯æ®µï¼ˆæ®µçš„å¤§å°æ˜¯ç¨‹åºé€»è¾‘ç¡®å®šï¼Œä¸”å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼‰ä¸ºå•ä½å‘è¿›ç¨‹è¿›è¡Œå†…å­˜åˆ†é…çš„ï¼Œè¿›ç¨‹ç”³è¯·å¤šå°‘å†…å­˜ï¼Œç³»ç»Ÿå°±ç»™è¿›ç¨‹åˆ†é…å¤šå°‘å†…å­˜ï¼Œè¿™æ ·å°±ä¸ä¼šäº§ç”Ÿå†…é›¶å¤´ï¼Œä½†æ˜¯æ®µå¼åˆ†é…ä¼šäº§ç”Ÿå¤–é›¶å¤´ã€‚ ä¾‹å¦‚ï¼šå‡è®¾å†…å­˜æ€»çš„å¤§å°ä¸º100Kï¼ŒçŽ°åœ¨è¿›ç¨‹Aå‘ç³»ç»Ÿç”³è¯·60Kçš„å†…å­˜ï¼Œç³»ç»Ÿåœ¨æ»¡è¶³äº†è¿›ç¨‹Açš„å†…å­˜ç”³è¯·è¦æ±‚åŽï¼Œè¿˜å‰©ä¸‹40Kçš„ç©ºé—²å†…å­˜åŒºåŸŸï¼›è¿™æ—¶å¦‚æžœè¿›ç¨‹Bå‘ç³»ç»Ÿç”³è¯·50Kçš„å†…å­˜åŒºåŸŸï¼Œè€Œç³»ç»Ÿåªå‰©ä¸‹äº†40Kçš„å†…å­˜åŒºåŸŸï¼Œè™½ç„¶è¿™40Kçš„å†…å­˜åŒºåŸŸä¸å½’ä»»ä½•è¿›ç¨‹æ‰€æœ‰ï¼Œä½†æ˜¯å› ä¸ºå¤§å°æ— æ³•æ»¡è¶³è¿›ç¨‹Bçš„è¦æ±‚ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•åˆ†é…ç»™è¿›ç¨‹Bï¼Œè¿™æ ·å°±äº§ç”Ÿäº†å¤–é›¶å¤´ã€‚ è¯·æ±‚æ®µå¼å­˜å‚¨ç®¡ç†æ˜¯åœ¨æ®µå¼å­˜å‚¨ç®¡ç†çš„åŸºç¡€ä¸Šå¢žåŠ äº†è¯·æ±‚è°ƒæ®µåŠŸèƒ½å’Œæ®µç½®æ¢åŠŸèƒ½ã€‚æ‰€ä»¥æ®µå¼å’Œè¯·æ±‚æ®µå¼å­˜å‚¨ç®¡ç†ä¼šäº§ç”Ÿå¤–é›¶å¤´ ç»ƒä¹ é¢˜ä¸‹é¢çš„å†…å­˜ç®¡ç†æ¨¡å¼ä¸­ï¼Œä¼šäº§ç”Ÿå¤–é›¶å¤´çš„æ˜¯(æ­£ç¡®ç­”æ¡ˆB, D) Aã€é¡µå¼Bã€æ®µå¼Cã€è¯·æ±‚é¡µå¼Dã€è¯·æ±‚æ®µå¼]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>å†…é›¶å¤´</tag>
        <tag>å¤–é›¶å¤´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHPçš„é­”æœ¯]]></title>
    <url>%2F2016%2F09%2F01%2FPHP%E7%9A%84%E9%AD%94%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[PHP å°†æ‰€æœ‰ä»¥ ï¼ˆä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰å¼€å¤´çš„ç±»æ–¹æ³•ä¿ç•™ä¸ºé­”æœ¯æ–¹æ³•ã€‚æ‰€ä»¥åœ¨å®šä¹‰ç±»æ–¹æ³•æ—¶ï¼Œé™¤äº†ä¸Šè¿°é­”æœ¯æ–¹æ³•ï¼Œå»ºè®®ä¸è¦ä»¥ ä¸ºå‰ç¼€ã€‚ PHPé­”å¹»ï¼ˆæœ¯ï¼‰å˜é‡1234567- __LINE__ æ–‡ä»¶ä¸­çš„å½“å‰è¡Œå·ã€‚- __FILE__ æ–‡ä»¶çš„å®Œæ•´è·¯å¾„å’Œæ–‡ä»¶åã€‚å¦‚æžœç”¨åœ¨è¢«åŒ…å«æ–‡ä»¶ä¸­ï¼Œåˆ™è¿”å›žè¢«åŒ…å«çš„æ–‡ä»¶åã€‚- __DIR__ æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚å¦‚æžœç”¨åœ¨è¢«åŒ…æ‹¬æ–‡ä»¶ä¸­ï¼Œåˆ™è¿”å›žè¢«åŒ…æ‹¬çš„æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚ å®ƒç­‰ä»·äºŽ dirname(__FILE__)ã€‚- __FUNCTION__ æœ¬å¸¸é‡è¿”å›žè¯¥å‡½æ•°è¢«å®šä¹‰æ—¶çš„åå­—ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰- __CLASS__ æœ¬å¸¸é‡è¿”å›žè¯¥ç±»è¢«å®šä¹‰æ—¶çš„åå­—ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ PHPé­”å¹»ï¼ˆæœ¯ï¼‰æ–¹æ³• __construct() å®žä¾‹åŒ–ç±»æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚ __destruct() ç±»å¯¹è±¡ä½¿ç”¨ç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚ __set() åœ¨ç»™æœªå®šä¹‰çš„å±žæ€§èµ‹å€¼çš„æ—¶å€™è°ƒç”¨ã€‚ __get() è°ƒç”¨æœªå®šä¹‰çš„å±žæ€§æ—¶å€™è°ƒç”¨ã€‚ __isset() ä½¿ç”¨isset()æˆ–empty()å‡½æ•°æ—¶å€™ä¼šè°ƒç”¨ã€‚ __unset() ä½¿ç”¨unset()æ—¶å€™ä¼šè°ƒç”¨ã€‚ __sleep() ä½¿ç”¨serializeåºåˆ—åŒ–æ—¶å€™è°ƒç”¨ã€‚ __wakeup() ä½¿ç”¨unserializeååºåˆ—åŒ–çš„æ—¶å€™è°ƒç”¨ã€‚ __call() è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•çš„æ—¶å€™è°ƒç”¨ã€‚ __callStatic()è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„é™æ€æ–¹æ³•æ˜¯è°ƒç”¨ã€‚ __toString() æŠŠå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ—¶å€™ä¼šè°ƒç”¨ã€‚æ¯”å¦‚ echoã€‚ __invoke() å½“å°è¯•æŠŠå¯¹è±¡å½“æ–¹æ³•è°ƒç”¨æ—¶è°ƒç”¨ã€‚ __set_state() å½“ä½¿ç”¨var_export()å‡½æ•°æ—¶å€™è°ƒç”¨ã€‚æŽ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°ã€‚ __clone() å½“ä½¿ç”¨cloneå¤åˆ¶ä¸€ä¸ªå¯¹è±¡æ—¶å€™è°ƒç”¨ã€‚]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹æ­å»ºä¸€å°ç®€æ˜“linuxæœåŠ¡å™¨(ä¸‰)]]></title>
    <url>%2F2016%2F08%2F27%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E4%B8%80%E5%8F%B0%E7%AE%80%E6%98%93linux%E6%9C%8D%E5%8A%A1%E5%99%A8(%E4%B8%89)%2F</url>
    <content type="text"><![CDATA[å®‰è£…MySQLæ‰§è¡Œå‘½ä»¤å®‰è£…MySQLï¼šsudo apt-get install mysql-serverå®‰è£…çš„æ—¶å€™ä¼šæç¤ºå¡«å…¥ä¸€ä¸ªrootçš„åˆå§‹å¯†ç ï¼Œå…ˆè¾“å…¥ä¸ª8åšåˆå§‹å¯†ç å§ #å¯¼å…¥å®¢æˆ·æ•°æ®åº“base_accountmysql -uroot -p &lt; *.sql(æŸä¸ªsqlæ–‡ä»¶) å®‰è£…svnå¹¶checkoutä¸€ä¸ªsvnæœåŠ¡å™¨ä¸Šçš„ç›®å½• è¿›å…¥ /data/wwwç›®å½•ä¸‹ ï¼šcd /data/www æ‰§è¡Œå‘½ä»¤å®‰è£…ï¼šsudo apt-get install subversion checkoutä¸€ä¸ªç›®å½•ï¼ˆæ¯”å¦‚svn://112.124.26.188/myapp/td/01CServer_PHP/errorMsgï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šsvn checkout svn://112.124.26.188/myapp/td/01CServer_PHP/errorMsg ï¼ˆæˆ–è€… svn co svn://112.124.26.188/myapp/td/01CServer_PHP/errorMsgï¼‰ æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®å¹¶å°†ç›¸åº”æ•°æ®ä¼ å…¥æ•°æ®åº“ä¸­è®¿é—® localhost/errorMsg/ErrorMsg.php?data=3_2&amp;error_msg=zhangnimashuaiç„¶åŽæŸ¥çœ‹æ•°æ®åº“ç›¸åº”è¡¨é‡Œæ˜¯å¦å¢žåŠ äº†æ•°æ® ##è¯ä¹¦ç™»é™† (å¯é€‰)#å¯¹dev å°†id_rsaç§é’¥å’Œid_rsa.pubå…¬é’¥ä»¥åŠauthorized_keysæŽˆæƒæ–‡ä»¶æ‹·è´è‡³~dev/.ssh/ç›®å½•chmod 600 id_rsa; chmod 644 id_rsa.pub; chmod 644 authorized_keys #SSH è¯ä¹¦ç™»é™†é…ç½®sudo vi /etc/ssh/sshd_configå–æ¶ˆæ³¨é‡Š : #AuthorizedKeysFile .ssh/authorized_keysä¿®æ”¹yes-&gt;no : PasswordAuthentication nosudo service ssh restart #é‡å¯æœåŠ¡ æµ‹è¯•ç™»é™†sudo service nginx restartsudo service php5-fpm restart #æµ‹è¯•æˆåŠŸåŽåŽ»é™¤devç”¨æˆ·çš„sudoæƒé™ ï¼ˆå¯é€‰ï¼‰sudo visudo åˆ é™¤ï¼šdev ALL=(ALL:ALL) ALL]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>vbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹æ­å»ºä¸€å°ç®€æ˜“linuxæœåŠ¡å™¨(äºŒ)]]></title>
    <url>%2F2016%2F08%2F25%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E4%B8%80%E5%8F%B0%E7%AE%80%E6%98%93linux%E6%9C%8D%E5%8A%A1%E5%99%A8(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[å®‰è£…nginx(å¦‚è‹¥æœ‰æœ‰ä¸æ˜Žç™½ï¼Œè¿˜å¯ä»¥å‰å¾€å‚è€ƒ wiki.ubuntu.org.cn/Nginx )æ‰§è¡Œå‘½ä»¤å®‰è£…nginxï¼šsudo apt-get install nginxæµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼šåœ¨æœ¬æœºçš„æµè§ˆå™¨é‡Œè®¿é—® localhost ;å¦‚æžœçŽ°å®žâ€Welcome to nginx!â€ï¼Œè¡¨æ˜Žä½ çš„ Nginx æœåŠ¡å™¨å®‰è£…æˆåŠŸï¼å¯åŠ¨ Nginxï¼šsudo /etc/init.d/nginx startå…³é—­ Nginxï¼šsudo /etc/init.d/nginx stopé‡å¯ nginxï¼šsudo /etc/init.d/nginx restart æˆ–è€… sudo service nginx restartsudo service apache2 stop (å¦‚æžœä¹‹å‰è£…äº†apache2åˆ™éœ€è¦sudo apt-get remove apache2 å¸è½½æŽ‰apache2ç„¶åŽæ‰§è¡Œè¿™ä¸ªstopå‘½ä»¤) ä¿®æ”¹nginxçš„serveré…ç½®æ–‡ä»¶ æ‰§è¡Œå‘½ä»¤ï¼šsudo vi /etc/nginx/sites-available/default ç„¶åŽå°†defaultæ–‡ä»¶é‡Œçš„å†…å®¹å…¨éƒ¨åˆ é™¤ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹ç²˜è´´è¿›åŽ»ï¼šserver {listen 80 default_server; root /data/www; #è¿™é‡Œè¡¨ç¤ºnginxæ ¹ç›®å½•index index.php index.html index.htm; server_name localhost;chunked_transfer_encoding off; location / {try_files $uri $uri/ =404;} error_page 404 /index.html; location ~ .php$ { #åŠ ä¸Šè¿™ä¸ªä»£ç å—å°±å¯ä»¥ç”¨phpè®¿é—®äº†ï¼Œè¿™ä¸ªä»£ç å—è¿˜æœ‰fastcgiçš„ç›¸å…³å†…å®¹try_files $uri =404;fastcgi_split_path_info ^(.+.php)(/.+)$;fastcgi_pass 127.0.0.1:9000;fastcgi_index index.php;include fastcgi_params;}} å®‰è£…ä»¥åŠå¯åŠ¨fastcgi æ‰§è¡Œå‘½ä»¤å®‰è£…ï¼šsudo apt-get install spawn-fcgi å¯åŠ¨fastcgi ï¼šspawn-fcgi -a 127.0.0.1 -p 9000 -C 10 -u www-data -f /usr/bin/php-cgi ä¸ºäº†è®©php-cgiå¼€æœºè‡ªå¯åŠ¨ï¼š Ubuntuå¼€æœºä¹‹åŽä¼šæ‰§è¡Œ/etc/rc.localæ–‡ä»¶ä¸­çš„è„šæœ¬ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æŽ¥åœ¨/etc/rc.localä¸­æ·»åŠ å¯åŠ¨è„šæœ¬ã€‚ å°† spawn-fcgi -a 127.0.0.1 -p 9000 -C 10 -u www-data -f /usr/bin/php-cgi æ·»åŠ åˆ°è¯­å¥ï¼šexit 0 å‰é¢æ‰è¡Œ å®‰è£…PHPæ‰§è¡Œå‘½ä»¤å®‰è£…PHPï¼šsudo apt-get install php5-cli php5-cgi php5-fpm php5-mcrypt php5-mysql phpè®¾ç½®sudo vi /etc/php5/fpm/php.ini #è®¾ç½®cgi.fix_pathinfo=0sudo service php5-fpm restart sudo vi /etc/php5/fpm/pool.d/www.conflisten.owner = www-datalisten.group = www-datalisten.mode = 0660 ï¼ˆåŽ»æŽ‰åŽŸwww.confé‡Œâ€œlisten.mode = 0660â€å‰çš„åˆ†å·ï¼Œé‚£ä¸ªåˆ†å·æ˜¯æ³¨é‡Šçš„æ„æ€ï¼‰sudo service php5-fpm restart æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—® åœ¨nginxæ ¹ç›®å½•ä¹Ÿå°±æ˜¯ ä¸Šé¢serveré…ç½®æ–‡ä»¶é‡Œçš„ /data/www(è‹¥æ²¡æœ‰è¿™ä¸ªç›®å½•å°±å»ºä¸€ä¸ªï¼Œå¹¶æ”¹å˜æƒé™ï¼Œæ‰§è¡Œsudo chown dev:dev data/)æ–‡ä»¶å¤¹é‡Œæ–°å»ºindex.htmlï¼ˆä¸å»ºæ­¤æ–‡ä»¶å°†ä¸èƒ½åœ¨æœ¬æœºè®¿é—®localhostï¼‰ å°†ä¸‹é¢çš„å†…å®¹ç²˜è´´åˆ°index.htmlæ–‡ä»¶é‡Œ Welcome to nginx!Welcome to nginx! ç¬¬1æ­¥å®ŒæˆåŽå°†å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—® http://localhost å†åœ¨ /data/wwwæ–‡ä»¶å¤¹é‡Œæ–°å»ºtest.phpå°†ä¸‹é¢çš„å†…å®¹ç²˜è´´åˆ°test.phpæ–‡ä»¶é‡Œ&lt;?php phpinfo(); ?&gt; ç¬¬3æ­¥å®ŒæˆåŽå°†å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—® http://localhost/test.phpï¼ˆæ³¨ï¼šå¦‚æžœæ²¡æœ‰å¯åŠ¨fastcgiï¼Œè®¿é—®ä¹‹åŽå°†ä¼šä¸‹è½½æ­¤phpæ–‡ä»¶ã€‚è‹¥å¯åŠ¨äº†fastcgiï¼Œåˆ™è®¿é—®phpinfoçš„ç½‘é¡µ;å¦‚æžœå‡ºçŽ°No input file specifiedå°±åœ¨ä¸Šé¢çš„serveré…ç½®æ–‡ä»¶é‡Œçš„ä¸‹è¿°åœ°æ–¹åŠ å…¥è¿™æ¡è¯­å¥ï¼šfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;å¦‚ä¸‹ï¼šlocation ~ .php$ {try_files $uri =404;fastcgi_split_path_info ^(.+.php)(/.+)$;fastcgi_pass 127.0.0.1:9000;fastcgi_index index.php;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;include fastcgi_params;} ï¼‰]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>vbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹æ­å»ºä¸€å°ç®€æ˜“linuxæœåŠ¡å™¨(ä¸€)]]></title>
    <url>%2F2016%2F08%2F23%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E4%B8%80%E5%8F%B0%E7%AE%80%E6%98%93linux%E6%9C%8D%E5%8A%A1%E5%99%A8(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[#virtualBoxç½‘ç»œè®¾ç½®åœ¨virtualBoxçš„ä½ çš„é‚£ä¸ªè™šæ‹Ÿæœºé‡Œçš„ç½‘ç»œè®¾ç½®é‡Œæ·»åŠ ä¸¤å¼ ç½‘å¡ï¼š1.â€œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰â€ï¼Œ ä¸æ˜¯é‚£ä¸ªâ€œNATç½‘ç»œâ€å™¢ï¼Œ è¿™å¼ ç½‘å¡æ˜¯ç”¨æ¥è®¿é—®å®¿ä¸»æœºå’Œå¤–ç½‘çš„ï¼Œ ä½†æ˜¯ä»…ä»…æœ‰è¿™å¼ ç½‘å¡å®¿ä¸»æœºæ˜¯ä¸èƒ½è®¿é—®ä½ çš„è¿™ä¸ªè™šæ‹Ÿæœºçš„ï¼Œ æ‰€ä»¥è¿˜éœ€è¦ä¸‹é¢è¿™ç¬¬2å¼ 2.â€œä»…ä¸»æœºï¼ˆHost-Olnyï¼‰ç½‘ç»œâ€ï¼Œ è¿™å¼ ç½‘å¡æ˜¯ç”¨æ¥è®©å®¿ä¸»æœºæ˜¯è®¿é—®ä½ çš„è¿™ä¸ªè™šæ‹Ÿæœºçš„ï¼Œ è¿™æ ·å°±èƒ½ç”¨sshå·¥å…·ä»Žå®¿ä¸»æœºè¿žåˆ°ä½ çš„è¿™ä¸ªè™šæ‹Ÿæœºäº† #åˆ›å»ºdevç”¨æˆ·sudo adduser dev #å¢žåŠ devæƒé™sudo visudo æ·»åŠ ï¼šdev ALL=(ALL:ALL) ALL å…³äºŽUbuntuçš„rootå¯†ç Ubuntuçš„é»˜è®¤rootå¯†ç æ˜¯éšæœºçš„ï¼Œå³æ¯æ¬¡å¼€æœºéƒ½æœ‰ä¸€ä¸ªæ–°çš„rootå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ sudo passwdï¼Œç„¶åŽè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œenterï¼Œç»ˆç«¯ä¼šæç¤ºæˆ‘ä»¬è¾“å…¥æ–°çš„å¯†ç å¹¶ç¡®è®¤ï¼Œæ­¤æ—¶çš„å¯†ç å°±æ˜¯rootæ–°å¯†ç ã€‚ä¿®æ”¹æˆåŠŸåŽï¼Œè¾“å…¥å‘½ä»¤ su rootï¼Œå†è¾“å…¥æ–°çš„å¯†ç å°±okäº†ã€‚ å®‰è£…sshæœåŠ¡ç«¯å…ˆæ›´æ¢æºï¼Œ ç„¶åŽæ‰§è¡Œsudo apt-get updateæ‰§è¡Œå‘½ä»¤ï¼šsudo apt-get install openssh-serveræµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼šssh localhost]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>vbox</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[boostä¹‹program_options]]></title>
    <url>%2F2016%2F08%2F15%2Fboost%E4%B9%8Bprogram_options%2F</url>
    <content type="text"><![CDATA[ä»‹ç»å‘½ä»¤è¡ŒæŽ¥å£æ˜¯æ™®é,åŸºç¡€çš„äººæœºäº¤äº’æŽ¥å£ï¼Œä»Žå‘½ä»¤è¡Œæå–ç¨‹åºçš„è¿è¡Œæ—¶é€‰é¡¹çš„æ–¹æ³•æœ‰å¾ˆå¤šã€‚ ä½ å¯ä»¥è‡ªå·±ç¼–å†™ç›¸å¯¹åº”çš„å®Œæ•´çš„è§£æžå‡½æ•°ï¼Œæˆ–è®¸ä½ æœ‰ä¸°å¯Œçš„Cè¯­è¨€ç¼–ç¨‹ç»éªŒï¼Œç†ŸçŸ¥getopt()å‡½æ•°çš„ç”¨æ³•ï¼Œåˆæˆ–è®¸ä½¿ç”¨Pythonçš„ä½ å·²ç»åœ¨ä½¿ç”¨optparseåº“æ¥ç®€åŒ–è¿™ä¸€å·¥ä½œã€‚ å¤§å®¶åœ¨å¹³æ—¶ä¸æ–­åœ°è°ˆåŠåˆ°â€œä¸è¦é‡å¤é€ è½®å­â€ï¼Œé‚£å°±éœ€è¦æŽŒæ¡ä¸€äº›é¡ºæ‰‹çš„åº“ï¼Œè¿™é‡Œä»‹ç»ä¸€ç§C++æ–¹å¼æ¥è§£æžå‘½ä»¤è¡Œé€‰é¡¹çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨Boost.Program_optionsåº“ã€‚ program_optionsæä¾›ç¨‹åºå‘˜ä¸€ç§æ–¹ä¾¿çš„å‘½ä»¤è¡Œå’Œé…ç½®æ–‡ä»¶è¿›è¡Œç¨‹åºé€‰é¡¹è®¾ç½®çš„æ–¹æ³•ã€‚ ä½¿ç”¨program_optionsåº“è€Œä¸æ˜¯ä½ è‡ªå·±åŠ¨æ‰‹å†™ç›¸å…³çš„è§£æžä»£ç ï¼Œå› ä¸ºå®ƒæ›´ç®€å•ï¼Œå£°æ˜Žç¨‹åºé€‰é¡¹çš„è¯­æ³•ç®€æ´ï¼Œå¹¶ä¸”åº“è‡ªèº«ä¹Ÿéžå¸¸å°ã€‚ å°†é€‰é¡¹å€¼è½¬æ¢ä¸ºé€‚åˆçš„ç±»åž‹å€¼çš„å·¥ä½œä¹Ÿéƒ½èƒ½è‡ªåŠ¨å®Œæˆã€‚ åº“æœ‰ç€å®Œå¤‡çš„é”™è¯¯æ£€æŸ¥æœºåˆ¶ï¼Œå¦‚æžœè‡ªå·±æ‰‹å†™è§£æžä»£ç æ—¶ï¼Œå°±å¯èƒ½ä¼šé”™è¿‡å¯¹ä¸€äº›å‡ºé”™æƒ…å†µçš„æ£€æŸ¥äº†ã€‚ æœ€åŽï¼Œé€‰é¡¹å€¼ä¸ä»…èƒ½ä»Žå‘½ä»¤è¡ŒèŽ·å–ï¼Œä¹Ÿèƒ½ä»Žé…ç½®æ–‡ä»¶ï¼Œç”šè‡³äºŽçŽ¯å¢ƒå˜é‡ä¸­æå–ï¼Œè€Œè¿™äº›é€‰æ‹©ä¸ä¼šå¢žåŠ æ˜Žæ˜¾çš„å·¥ä½œé‡ã€‚ ç¤ºä¾‹è¯´æ˜Žä»¥ä¸‹é¢ç®€å•çš„helloç¨‹åºè¿›è¡Œè¯´æ˜Žï¼Œé»˜è®¤æ‰“å°hello world,å¦‚æžœä¼ å…¥-pé€‰é¡¹ï¼Œå°±ä¼šæ‰“å°å‡ºäººçš„å§“åï¼Œå¦å¤–é€šè¿‡ä¼ å…¥-hé€‰é¡¹ï¼Œå¯ä»¥æ‰“å°å‡ºå¸®åŠ©é€‰é¡¹ã€‚ ç•¥å¾®çœ‹ä¸€çœ¼ä»£ç æ–‡ä»¶å’Œç›¸åº”çš„å±å¹•è¾“å…¥è¾“å‡ºï¼Œç„¶åŽæˆ‘ä»¬å†ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚ 123456789101112131415161718192021222324252627//hello.cpp #include &lt;iostream&gt;#include &lt;string&gt;#include &lt;boost/program_options.hpp&gt;using namespace std;int main(int argc, char* argv[])&#123; using namespace boost::program_options; //å£°æ˜Žéœ€è¦çš„é€‰é¡¹ options_description desc(&quot;Allowed options&quot;); desc.add_options() (&quot;help,h&quot;, &quot;produce help message&quot;) (&quot;person,p&quot;, value&lt;string&gt;()-&gt;default_value(&quot;world&quot;), &quot;who&quot;) ; variables_map vm; store(parse_command_line(argc, argv, desc), vm); notify(vm); if (vm.count(&quot;help&quot;)) &#123; cout &lt;&lt; desc; return 0; &#125; cout &lt;&lt; &quot;Hello &quot; &lt;&lt; vm[&quot;person&quot;].as&lt;string&gt;() &lt;&lt; endl; return 0;&#125; ä¸‹é¢æ˜¯åœ¨Windowså‘½ä»¤æç¤ºç¬¦çª—å£ä¸Šçš„è¾“å…¥è¾“å‡ºç»“æžœï¼Œå…¶ä¸­â€&gt;â€è¡¨ç¤ºæç¤ºç¬¦ã€‚ 1234567891011&gt;hello Hello world&gt;hello -hAllowed options: -h [ --help ] produce help message -p [ --person ] arg (=world) who&gt;hello --person lenHello len é¦–å…ˆé€šè¿‡options_descriptionç±»å£°æ˜Žäº†éœ€è¦çš„é€‰é¡¹ï¼Œadd_optionsè¿”å›žäº†å®šä¹‰äº†operator()çš„ç‰¹æ®Šçš„ä»£ç†å¯¹è±¡ã€‚ è¿™ä¸ªè°ƒç”¨çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼Œå…¶å‚æ•°ä¾æ¬¡ä¸ºé€‰é¡¹åï¼Œé€‰é¡¹å€¼ï¼Œä»¥åŠé€‰é¡¹çš„æè¿°ã€‚ æ³¨æ„åˆ°ç¤ºä¾‹ä¸­çš„é€‰é¡¹åä¸ºâ€help,hâ€ï¼Œæ˜¯å› ä¸ºå£°æ˜Žäº†å…·æœ‰çŸ­é€‰é¡¹åå’Œé•¿é€‰é¡¹åçš„é€‰é¡¹ï¼Œè¿™è·Ÿgnuç¨‹åºçš„å‘½ä»¤è¡Œå…·æœ‰ä¸€è‡´æ€§ã€‚ å½“ç„¶ä½ å¯ä»¥çœç•¥çŸ­é€‰é¡¹åï¼Œä½†æ˜¯è¿™æ ·å°±ä¸èƒ½ç”¨å‘½ä»¤é€‰é¡¹ç®€å†™äº†ã€‚ ç¬¬äºŒä¸ªé€‰é¡¹çš„å£°æ˜Žï¼Œå®šä¹‰äº†é€‰é¡¹å€¼ä¸ºstringç±»åž‹ï¼Œå…¶é»˜è®¤å€¼ä¸ºworld. æŽ¥ä¸‹æ¥,å£°æ˜Žäº†variables_mapç±»çš„å¯¹è±¡ï¼Œå®ƒä¸»è¦ç”¨æ¥å­˜å‚¨é€‰é¡¹å€¼ï¼Œå¹¶ä¸”èƒ½å‚¨å­˜ä»»æ„ç±»åž‹çš„å€¼ã€‚ ç„¶åŽï¼Œstore,parse_command_lineå’Œnotifyå‡½æ•°ä½¿vmèƒ½å­˜å‚¨åœ¨å‘½ä»¤è¡Œä¸­å‘çŽ°çš„é€‰é¡¹ã€‚ æœ€åŽæˆ‘ä»¬å°±è‡ªç”±åœ°ä½¿ç”¨è¿™äº›é€‰é¡¹äº†ï¼Œvariables_mapç±»çš„ä½¿ç”¨å°±åƒä½¿ç”¨std::mapä¸€æ ·ï¼Œé™¤äº†å®ƒå¿…é¡»ç”¨asæ–¹æ³•åŽ»èŽ·å–å€¼ã€‚ å¦‚æžœasæ–¹æ³•è°ƒç”¨çš„æŒ‡å®šç±»åž‹ä¸Žå®žé™…å­˜å‚¨çš„ç±»åž‹ä¸åŒï¼Œå°±ä¼šæœ‰å¼‚å¸¸æŠ›å‡ºã€‚ å…·æœ‰ç¼–ç¨‹çš„ä½ å¯èƒ½æœ‰è¿™æ ·çš„ç»éªŒï¼Œä½¿ç”¨clæˆ–gccå¯¹æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘æ—¶ï¼Œå¯ç›´æŽ¥å°†æºæ–‡ä»¶åæ”¾ç½®åœ¨å‘½ä»¤è¡Œä¸­ï¼Œè€Œæ— éœ€ä»€ä¹ˆé€‰é¡¹å­—æ¯ï¼Œå¦‚gcc a.cä¹‹ç±»çš„ã€‚ prgram_optionsä¹Ÿèƒ½å¤„ç†è¿™ç§æƒ…å†µï¼Œåœ¨åº“ä¸­è¢«ç§°ä¸ºâ€positional optionsâ€(ä½ç½®é€‰é¡¹),ä½†è¿™éœ€è¦ç¨‹åºå‘˜çš„ä¸€ç‚¹å„¿å¸®åŠ©æ‰èƒ½å®Œæˆã€‚ çœ‹ä¸‹é¢çš„ç»è¿‡å¯¹åº”ä¿®æ”¹çš„ä»£ç ï¼Œæˆ‘ä»¬æ— éœ€ä¼ å…¥â€-pâ€é€‰é¡¹ï¼Œå°±èƒ½å¯æŒ‡å®šâ€personâ€é€‰é¡¹å€¼ 123positional_options_description p;p.add(&quot;person&quot;, -1);store(command_line_parser(argc, argv).options(desc).positional(p).run(), vm); 12&gt;hello lenHello len å‰é¢æ–°å¢žçš„ä¸¤è¡Œæ˜¯ä¸ºäº†è¯´æ˜Žæ‰€æœ‰çš„ä½ç½®é€‰é¡¹éƒ½åº”è¢«è§£é‡Šæˆâ€personâ€é€‰é¡¹ï¼Œè¿™é‡Œè¿˜é‡‡ç”¨äº†command_line_parserç±»æ¥è§£æžå‘½ä»¤è¡Œï¼Œè€Œä¸æ˜¯ç”¨parse_command_lineå‡½æ•°ã€‚ åŽè€…åªæ˜¯å¯¹å‰è€…ç±»çš„ç®€å•å°è£…ï¼Œä½†æ˜¯çŽ°åœ¨æˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€äº›é¢å¤–çš„ä¿¡æ¯ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ç±»æœ¬èº«ã€‚ é€‰é¡¹å¤åˆæ¥æºä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šæ‰€æœ‰é€‰é¡¹ï¼Œå¯¹ç”¨æˆ·æ¥è¯´æ˜¯éžå¸¸çƒ¦äººçš„ã€‚ å¦‚æžœæœ‰äº›é€‰é¡¹è¦åº”ç”¨äºŽæ¯æ¬¡è¿è¡Œï¼Œé‚£è¯¥æ€Žä¹ˆåŠžå‘¢ã€‚ æˆ‘ä»¬å½“ç„¶å¸Œæœ›èƒ½åˆ›å»ºå‡ºå¸¦æœ‰äº›å¸¸ç”¨è®¾ç½®çš„é€‰é¡¹æ–‡ä»¶ï¼Œè·Ÿå‘½ä»¤è¡Œä¸€èµ·åº”ç”¨äºŽç¨‹åºä¸­ã€‚ å½“ç„¶è¿™ä¸€åˆ‡éœ€è¦å°†å‘½ä»¤è¡Œä¸Žé…ç½®æ–‡ä»¶ä¸­çš„å€¼ç»“åˆèµ·æ¥ã€‚ æ¯”å¦‚ï¼Œåœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æŸäº›é€‰é¡¹å€¼åº”è¯¥èƒ½è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”å€¼ï¼Œæˆ–è€…å°†è¿™äº›å€¼ç»„åˆèµ·æ¥ã€‚ ä¸‹é¢çš„ä»£ç æ®µå°†é€‰é¡¹é€šè¿‡æ–‡ä»¶è¯»å–ï¼Œè¿™æ–‡ä»¶æ˜¯æ–‡æœ¬æ ¼å¼ï¼Œå¯ç”¨â€#â€è¡¨ç¤ºæ³¨é‡Šï¼Œæ ¼å¼å¦‚å‘½ä»¤è¡Œä¸­çš„å‚æ•°ä¸€æ ·ï¼Œé€‰é¡¹=å€¼ 123ifstream ifs(&quot;config.cfg&quot;);store(parse_config_file(ifs,config),vm);notify(vm); å‚è€ƒBoost.prgram_optionsåº“æ–‡æ¡£]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>boost</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽUNPä¸ŽAPUEä¸ŽTLPIä¸‰æœ¬å¤§éƒ¨å¤´çš„é˜…è¯»å»ºè®®(ç€é‡è®²UNP)]]></title>
    <url>%2F2016%2F08%2F11%2F%E5%85%B3%E4%BA%8EUNP%E4%B8%8EAPUE%E4%B8%8ETLPI%E4%B8%89%E6%9C%AC%E5%A4%A7%E9%83%A8%E5%A4%B4%E7%9A%84%E9%98%85%E8%AF%BB%E5%BB%BA%E8%AE%AE(%E7%9D%80%E9%87%8D%E8%AE%B2UNP)%2F</url>
    <content type="text"><![CDATA[è¿™æœ¬ä¹¦ä¸èƒ½ä¸€æ¬¡æ€§æ‰€æœ‰éƒ½æƒ³çœ‹å®Œã€‚ è¦æœ‰ç›®çš„æ€§çš„çœ‹ï¼Œå› ä¸ºè¿™æœ¬ä¹¦ç±»ä¼¼äºŽç™¾ç§‘å…¨ä¹¦æ‰€æœ‰éƒ½è®²ï¼Œ ä¸åˆ†è½»é‡ï¼Œ å¦‚æžœéƒ½çœ‹ï¼Œç¡¬å•ƒï¼Œåªä¼šè¿·å¤±äº†è‡ªå·±ï¼Œåè€Œä¸çŸ¥é“çœ‹äº†ä»€ä¹ˆ è¿™æœ¬ä¹¦ä¸èƒ½å•ç‹¬çœ‹ã€‚ è¿™æœ¬ä¹¦å¿…é¡»é…åˆTCP/IPè¯¦è§£å’ŒUNIXçŽ¯å¢ƒé«˜çº§ç¼–ç¨‹ï¼ˆç®€ç§°APUEï¼‰ä»¥åŠThe Linux Programming Interfaceï¼ˆä¸çŸ¥é“è¿™æœ¬ä¹¦çš„è¯‘åæ˜¯ä»€ä¹ˆï¼Œ ç®€ç§°TLPIï¼‰æ¥çœ‹ ä¸ªäººçœ‹çš„æ˜¯å·ä¸€ç¬¬ä¸‰ç‰ˆï¼Œå› å½“å‰å·¥ä½œç»éªŒèŒƒå›´å’Œé˜…åŽ†å—é™ï¼Œå¯¹äºŽITç å†œï¼ŒIPv6çš„å’ŒSCTPçš„ç« èŠ‚æš‚ä¸”ç•¥è¿‡ï¼Œæ‰€ä»¥ç›®å‰å¤§æ¦‚åˆ’å‡ºçš„å¿…çœ‹ç« èŠ‚ï¼ˆå…¶ä»–å¯æŒ‘é€‰ï¼‰æ˜¯ 1 2 3 4 5 6 7 8 11 13 16 22 26 30 ä¹¦ä¸­çš„æºç åœ¨linuxçŽ¯å¢ƒä¸‹ä¸ä¸€å®šèƒ½ä¸€æ¬¡æ€§ç¼–è¯‘è¿‡ã€‚ æœ‰äº›åœ°æ–¹å¾—è‡ªå·±ä¿®æ”¹ å»ºè®®é˜…è¯»ç”µå­ç‰ˆã€‚ ä½¿ç”¨å¯ä»¥æœç´¢ä¹¦ç­¾çš„pdfé˜…è¯»å™¨ï¼ˆæ¯”è¾ƒæŽ¨èç¦æ˜•ï¼‰ï¼Œ å¹¶ä¸”å¤šå¼€å‡ ä¸ªæ­¤ä¹¦çš„å‰¯æœ¬ï¼Œå› ä¸ºç»å¸¸ä¼šæºç å’Œæºç è®²è§£å¯¹ç…§ç€çœ‹ï¼Œå¦‚æžœæœ‰åŒå±æ•ˆçŽ‡ä¼šæžå¤§çš„æé«˜]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Reactoræ¨¡å¼å’ŒProactor]]></title>
    <url>%2F2016%2F08%2F07%2FReactor%E5%92%8CProactor%2F</url>
    <content type="text"><![CDATA[åœ¨é«˜æ€§èƒ½çš„I/Oè®¾è®¡ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ¯”è¾ƒè‘—åçš„æ¨¡å¼Reactorå’ŒProactoræ¨¡å¼ï¼Œå…¶ä¸­Reactoræ¨¡å¼ç”¨äºŽåŒæ­¥I/Oï¼Œè€ŒProactorè¿ç”¨äºŽå¼‚æ­¥I/Oæ“ä½œã€‚ åœ¨æ¯”è¾ƒè¿™ä¸¤ä¸ªæ¨¡å¼ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆçš„æžæ˜Žç™½å‡ ä¸ªæ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯é˜»å¡žå’Œéžé˜»å¡žï¼Œä»€ä¹ˆæ˜¯åŒæ­¥å’Œå¼‚æ­¥, åŒæ­¥å’Œå¼‚æ­¥æ˜¯é’ˆå¯¹åº”ç”¨ç¨‹åºå’Œå†…æ ¸çš„äº¤äº’è€Œè¨€çš„ï¼Œ åŒæ­¥æŒ‡çš„æ˜¯ç”¨æˆ·è¿›ç¨‹è§¦å‘IOæ“ä½œå¹¶ç­‰å¾…æˆ–è€…è½®è¯¢çš„åŽ»æŸ¥çœ‹IOæ“ä½œæ˜¯å¦å°±ç»ªï¼Œ å¼‚æ­¥æ˜¯æŒ‡ç”¨æˆ·è¿›ç¨‹è§¦å‘IOæ“ä½œä»¥åŽä¾¿å¼€å§‹åšè‡ªå·±çš„äº‹æƒ…ï¼Œè€Œå½“IOæ“ä½œå·²ç»å®Œæˆçš„æ—¶å€™ä¼šå¾—åˆ°IOå®Œæˆçš„é€šçŸ¥ã€‚ è€Œé˜»å¡žå’Œéžé˜»å¡žæ˜¯é’ˆå¯¹äºŽè¿›ç¨‹åœ¨è®¿é—®æ•°æ®çš„æ—¶å€™ï¼Œæ ¹æ®IOæ“ä½œçš„å°±ç»ªçŠ¶æ€æ¥é‡‡å–çš„ä¸åŒæ–¹å¼ï¼Œ è¯´ç™½äº†æ˜¯ä¸€ç§è¯»å–æˆ–è€…å†™å…¥æ“ä½œå‡½æ•°çš„å®žçŽ°æ–¹å¼ï¼Œ é˜»å¡žæ–¹å¼ä¸‹è¯»å–æˆ–è€…å†™å…¥å‡½æ•°å°†ä¸€ç›´ç­‰å¾…ï¼Œ éžé˜»å¡žæ–¹å¼ä¸‹ï¼Œè¯»å–æˆ–è€…å†™å…¥å‡½æ•°ä¼šç«‹å³è¿”å›žä¸€ä¸ªçŠ¶æ€å€¼ã€‚ åŒæ­¥ vs å¼‚æ­¥ä¸€èˆ¬æ¥è¯´I/Oæ¨¡åž‹å¯ä»¥åˆ†ä¸ºï¼š åŒæ­¥é˜»å¡žï¼Œ åŒæ­¥éžé˜»å¡žï¼Œ å¼‚æ­¥é˜»å¡žï¼Œ å¼‚æ­¥éžé˜»å¡žIO åŒæ­¥é˜»å¡žIOï¼šåœ¨æ­¤ç§æ–¹å¼ä¸‹ï¼Œç”¨æˆ·è¿›ç¨‹åœ¨å‘èµ·ä¸€ä¸ªIOæ“ä½œä»¥åŽï¼Œå¿…é¡»ç­‰å¾…IOæ“ä½œçš„å®Œæˆï¼Œåªæœ‰å½“çœŸæ­£å®Œæˆäº†IOæ“ä½œä»¥åŽï¼Œç”¨æˆ·è¿›ç¨‹æ‰èƒ½è¿è¡Œã€‚ JAVAä¼ ç»Ÿçš„IOæ¨¡åž‹å±žäºŽæ­¤ç§æ–¹å¼ï¼ åŒæ­¥éžé˜»å¡žIO:åœ¨æ­¤ç§æ–¹å¼ä¸‹ï¼Œç”¨æˆ·è¿›ç¨‹å‘èµ·ä¸€ä¸ªIOæ“ä½œä»¥åŽè¾¹å¯è¿”å›žåšå…¶å®ƒäº‹æƒ…ï¼Œä½†æ˜¯ç”¨æˆ·è¿›ç¨‹éœ€è¦æ—¶ä¸æ—¶çš„è¯¢é—®IOæ“ä½œæ˜¯å¦å°±ç»ªï¼Œ è¿™å°±è¦æ±‚ç”¨æˆ·è¿›ç¨‹ä¸åœçš„åŽ»è¯¢é—®ï¼Œä»Žè€Œå¼•å…¥ä¸å¿…è¦çš„CPUèµ„æºæµªè´¹ã€‚ å…¶ä¸­ç›®å‰JAVAçš„NIOå°±å±žäºŽåŒæ­¥éžé˜»å¡žIOã€‚ å¼‚æ­¥é˜»å¡žIOï¼šæ­¤ç§æ–¹å¼ä¸‹æ˜¯æŒ‡åº”ç”¨å‘èµ·ä¸€ä¸ªIOæ“ä½œä»¥åŽï¼Œä¸ç­‰å¾…å†…æ ¸IOæ“ä½œçš„å®Œæˆï¼Œç­‰å†…æ ¸å®ŒæˆIOæ“ä½œä»¥åŽä¼šé€šçŸ¥åº”ç”¨ç¨‹åºï¼Œè¿™å…¶å®žå°±æ˜¯åŒæ­¥å’Œå¼‚æ­¥æœ€å…³é”®çš„åŒºåˆ«ï¼ŒåŒæ­¥å¿…é¡»ç­‰å¾…æˆ–è€…ä¸»åŠ¨çš„åŽ»è¯¢é—®IOæ˜¯å¦å®Œæˆï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¯´æ˜¯é˜»å¡žçš„å‘¢ï¼Ÿå› ä¸ºæ­¤æ—¶æ˜¯é€šè¿‡selectç³»ç»Ÿè°ƒç”¨æ¥å®Œæˆçš„ï¼Œè€Œselectå‡½æ•°æœ¬èº«çš„å®žçŽ°æ–¹å¼æ˜¯é˜»å¡žçš„ï¼Œè€Œé‡‡ç”¨selectå‡½æ•°æœ‰ä¸ªå¥½å¤„å°±æ˜¯å®ƒå¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªæ–‡ä»¶å¥æŸ„ï¼Œä»Žè€Œæé«˜ç³»ç»Ÿçš„å¹¶å‘æ€§ï¼ å¼‚æ­¥éžé˜»å¡žIO:åœ¨æ­¤ç§æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·è¿›ç¨‹åªéœ€è¦å‘èµ·ä¸€ä¸ªIOæ“ä½œç„¶åŽç«‹å³è¿”å›žï¼Œç­‰IOæ“ä½œçœŸæ­£çš„å®Œæˆä»¥åŽï¼Œåº”ç”¨ç¨‹åºä¼šå¾—åˆ°IOæ“ä½œå®Œæˆçš„é€šçŸ¥ï¼Œæ­¤æ—¶ç”¨æˆ·è¿›ç¨‹åªéœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†å°±å¥½äº†ï¼Œä¸éœ€è¦è¿›è¡Œå®žé™…çš„IOè¯»å†™æ“ä½œï¼Œå› ä¸ºçœŸæ­£çš„IOè¯»å–æˆ–è€…å†™å…¥æ“ä½œå·²ç»ç”±å†…æ ¸å®Œæˆäº†ã€‚ ç›®å‰Javaä¸­è¿˜æ²¡æœ‰æ”¯æŒæ­¤ç§IOæ¨¡åž‹ã€‚ Reactor vs Proactoræžæ¸…æ¥šäº†ä»¥ä¸Šæ¦‚å¿µä»¥åŽï¼Œæˆ‘ä»¬å†å›žè¿‡å¤´æ¥çœ‹çœ‹ï¼ŒReactoræ¨¡å¼å’ŒProactoræ¨¡å¼ã€‚ Reactoré¦–å…ˆæ¥çœ‹çœ‹Reactoræ¨¡å¼ï¼ŒReactoræ¨¡å¼åº”ç”¨äºŽåŒæ­¥I/Oçš„åœºæ™¯ã€‚ æˆ‘ä»¬åˆ†åˆ«ä»¥è¯»æ“ä½œå’Œå†™æ“ä½œä¸ºä¾‹æ¥çœ‹çœ‹Reactorä¸­çš„å…·ä½“æ­¥éª¤ï¼š è¯»å–æ“ä½œï¼š åº”ç”¨ç¨‹åºæ³¨å†Œè¯»å°±éœ€äº‹ä»¶å’Œç›¸å…³è”çš„äº‹ä»¶å¤„ç†å™¨ äº‹ä»¶åˆ†ç¦»å™¨ç­‰å¾…äº‹ä»¶çš„å‘ç”Ÿ å½“å‘ç”Ÿè¯»å°±éœ€äº‹ä»¶çš„æ—¶å€™ï¼Œäº‹ä»¶åˆ†ç¦»å™¨è°ƒç”¨ç¬¬ä¸€æ­¥æ³¨å†Œçš„äº‹ä»¶å¤„ç†å™¨ äº‹ä»¶å¤„ç†å™¨é¦–å…ˆæ‰§è¡Œå®žé™…çš„è¯»å–æ“ä½œï¼Œç„¶åŽæ ¹æ®è¯»å–åˆ°çš„å†…å®¹è¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç† å†™å…¥æ“ä½œ:ç±»ä¼¼äºŽè¯»å–æ“ä½œï¼Œåªä¸è¿‡ç¬¬ä¸€æ­¥æ³¨å†Œçš„æ˜¯å†™å°±ç»ªäº‹ä»¶ã€‚ Proactorä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹Proactoræ¨¡å¼ä¸­è¯»å–æ“ä½œå’Œå†™å…¥æ“ä½œçš„è¿‡ç¨‹ï¼š è¯»å–æ“ä½œï¼š åº”ç”¨ç¨‹åºåˆå§‹åŒ–ä¸€ä¸ªå¼‚æ­¥è¯»å–æ“ä½œï¼Œç„¶åŽæ³¨å†Œç›¸åº”çš„äº‹ä»¶å¤„ç†å™¨ï¼Œæ­¤æ—¶äº‹ä»¶å¤„ç†å™¨ä¸å…³æ³¨è¯»å–å°±ç»ªäº‹ä»¶ï¼Œè€Œæ˜¯å…³æ³¨è¯»å–å®Œæˆäº‹ä»¶ï¼Œè¿™æ˜¯åŒºåˆ«äºŽReactorçš„å…³é”®ã€‚ äº‹ä»¶åˆ†ç¦»å™¨ç­‰å¾…è¯»å–æ“ä½œå®Œæˆäº‹ä»¶ åœ¨äº‹ä»¶åˆ†ç¦»å™¨ç­‰å¾…è¯»å–æ“ä½œå®Œæˆçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿè°ƒç”¨å†…æ ¸çº¿ç¨‹å®Œæˆè¯»å–æ“ä½œï¼Œå¹¶å°†è¯»å–çš„å†…å®¹æ”¾å…¥ç”¨æˆ·ä¼ é€’è¿‡æ¥çš„ç¼“å­˜åŒºä¸­ã€‚ è¿™ä¹Ÿæ˜¯åŒºåˆ«äºŽReactorçš„ä¸€ç‚¹ï¼ŒProactorä¸­ï¼Œåº”ç”¨ç¨‹åºéœ€è¦ä¼ é€’ç¼“å­˜åŒºã€‚ äº‹ä»¶åˆ†ç¦»å™¨æ•èŽ·åˆ°è¯»å–å®Œæˆäº‹ä»¶åŽï¼Œæ¿€æ´»åº”ç”¨ç¨‹åºæ³¨å†Œçš„äº‹ä»¶å¤„ç†å™¨ï¼Œäº‹ä»¶å¤„ç†å™¨ç›´æŽ¥ä»Žç¼“å­˜åŒºè¯»å–æ•°æ®ï¼Œè€Œä¸éœ€è¦è¿›è¡Œå®žé™…çš„è¯»å–æ“ä½œã€‚ å†™å…¥æ“ä½œ:Proactorä¸­å†™å…¥æ“ä½œå’Œè¯»å–æ“ä½œç±»ä¼¼ï¼Œåªä¸è¿‡æ„Ÿå…´è¶£çš„äº‹ä»¶æ˜¯å†™å…¥å®Œæˆäº‹ä»¶ã€‚ å°ç»“ä»Žä¸Šé¢å¯ä»¥çœ‹å‡ºï¼ŒReactorå’ŒProactoræ¨¡å¼çš„ä¸»è¦åŒºåˆ«å°±æ˜¯çœŸæ­£çš„è¯»å–å’Œå†™å…¥æ“ä½œæ˜¯æœ‰è°æ¥å®Œæˆçš„ï¼Œ Reactorä¸­éœ€è¦åº”ç”¨ç¨‹åºè‡ªå·±è¯»å–æˆ–è€…å†™å…¥æ•°æ®ï¼Œè€ŒProactoræ¨¡å¼ä¸­ï¼Œåº”ç”¨ç¨‹åºä¸éœ€è¦è¿›è¡Œå®žé™…çš„è¯»å†™è¿‡ç¨‹ï¼Œ å®ƒåªéœ€è¦ä»Žç¼“å­˜åŒºè¯»å–æˆ–è€…å†™å…¥å³å¯ï¼Œæ“ä½œç³»ç»Ÿä¼šè¯»å–ç¼“å­˜åŒºæˆ–è€…å†™å…¥ç¼“å­˜åŒºåˆ°çœŸæ­£çš„IOè®¾å¤‡. æ€»ç»“ç»¼ä¸Šæ‰€è¿°ï¼ŒåŒæ­¥å’Œå¼‚æ­¥æ˜¯ç›¸å¯¹äºŽåº”ç”¨å’Œå†…æ ¸çš„äº¤äº’æ–¹å¼è€Œè¨€çš„ï¼ŒåŒæ­¥ éœ€è¦ä¸»åŠ¨åŽ»è¯¢é—®ï¼Œ è€Œå¼‚æ­¥çš„æ—¶å€™å†…æ ¸åœ¨IOäº‹ä»¶å‘ç”Ÿçš„æ—¶å€™é€šçŸ¥åº”ç”¨ç¨‹åºï¼Œ è€Œé˜»å¡žå’Œéžé˜»å¡žä»…ä»…æ˜¯ç³»ç»Ÿåœ¨è°ƒç”¨ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™å‡½æ•°çš„å®žçŽ°æ–¹å¼è€Œå·²ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>proactor</tag>
        <tag>reactor</tag>
        <tag>åŒæ­¥</tag>
        <tag>å¼‚æ­¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡æ–°çœ‹unixç½‘ç»œç¼–ç¨‹çš„ä¸€äº›å¿ƒå¾—]]></title>
    <url>%2F2016%2F08%2F02%2F%E9%87%8D%E6%96%B0%E7%9C%8Bunix%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97%2F</url>
    <content type="text"><![CDATA[è€ä¹¦æ–°çœ‹, æœ‰äº†è®¸å¤šä¸åŒçš„è§è§£, ä¹Ÿå‡†å¤‡æ‹¿å‡ºä»¥å‰è‡ªå·±ç§äººçš„è€ç¬”è®°åšä¿®æ­£æ”¾åˆ°åšå®¢é‡Œ, åŠ æ·±ç†è§£. åœ¨è¿™ä¸ªæµ®èºäººäººéƒ½èƒ½å†™ä¹¦çš„æ—¶ä»£åŸºæœ¬è¦çœ‹ä¸€æœ¬ä¹¦éœ€è¦æŒ‘å¾ˆä¹…, è°å†™çš„, å†™å¾—æ€Žä¹ˆæ ·, æ˜¯å¦æ˜¯ä¸šç•Œç»å…¸, éƒ½è¦éœ€è¦ä¸€ä¸€æ–Ÿé…Œå„ç§æŸ¥è¯æ–¹å¯, ä¸ç„¶çœ‹ä¸€æœ¬çƒ‚ä¹¦äº‹åŠåŠŸå€, æµªè´¹ç”Ÿå‘½,å½±å“æ•ˆçŽ‡, è¢«è¯¯å¯¼è·‘å, èƒ½è®©äººé™ä¸‹å¿ƒæ¥çš„ä¹¦ç±ä¸å¤š, èƒ½è®©äººçœ‹å¥½å‡ éä»å›žå‘³æ— ç©·çš„ç»å…¸å°±æ›´å°‘äº† é™ˆç¡•è¯´è¿‡, å­¦ä¸œè¥¿ä¸è¦åªæ˜¯ä»Žç½‘ä¸Šçœ‹ç‚¹å¤§ç‰›çš„åšå®¢æ€»ç»“å°±è¡Œäº†, æ€»è¦å®Œæ•´åœ°çœ‹äº›ç›¸å…³é¢†åŸŸçš„ç»å…¸è‘—ä½œçš„, ç³»ç»Ÿçš„çŸ¥è¯†ç»“æž„æ‰“ä¸‹åšå®žçš„åŸºç¡€æ‰èƒ½ç»§ç»­çœ‹æœ‰å…³ä¼˜åŒ–æ•ˆçŽ‡æ–¹é¢çš„ä¹¦ç±, æ·±ä»¥ä¸ºç„¶ å­Ÿå²©è¯´, æœ€è¿‘ä¸æ­¢ä¸€æ¬¡å¬åˆ°å½“ä¸€ä¸ªäººæ‹¥æœ‰ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†åŸºç¡€ä¹‹åŽå°±å¯ä»¥æ‰¾ä¸€æœ¬effective*çš„ä¹¦æ¥ç ”è¯»äº†, é¢‡æœ‰é“ç† çœ‹ä¹¦çš„é¡ºåºå¿Œèƒ¶æŸ±é¼“ç‘Ÿ, å¹¶ä¸æ˜¯ä»–çš„ç›®å½•ç»“æž„æ€Žä¹ˆç¼–æŽ’ä½ å°±è¯¥æ€Žä¹ˆçœ‹çš„, å¤§å¤šæ•°ç»å…¸ä¹¦ç±åŸºæœ¬éƒ½æ˜¯é¢é¢ä¿±åˆ°, å¦‚æžœç›´æŽ¥è·Ÿç€è¿™ç§é¢å‘çŸ¥è¯†ä½“ç³»æœ¬èº«çš„ç¼–æŽ’æ€è·¯åŽ»çœ‹, å®¹æ˜“è¿·å¤±ä¹å‘³è€Œæ— æ³•ç»§ç»­, åº”è¯¥æ‰¾åˆ°å±žäºŽè‡ªå·±çœ‹ä¹¦é¡ºåº ä¸ªäººæ€»ç»“çš„çœ‹ä¹¦é¡ºåºæ˜¯å…ˆç¿»é˜…è‡ªå·±æ„Ÿå…´è¶£çš„,æŽ¥ç€ä»”ç»†è§‚å¯Ÿä»–çš„ç›®å½•æ¥ç¡®å®šä»–çš„ç¼–æŽ’æ€è·¯, ç„¶åŽèŠ±ä¸€åˆ°ä¸¤å¤©çš„æ—¶é—´é€šè§ˆå…¨ä¹¦ä»¥èŽ·å¾—å¤§ä½“çŸ¥è¯†ä½“ç³»æž„æž¶, ä¹‹åŽæ‰¾åˆ°å®žæˆ˜æ€§æœ€å¼ºçš„ç« èŠ‚æ¥å®žæ“å¹¶é€ä¸ªçªç ´å®žæˆ˜è¿‡ç¨‹ä¸­çš„å„ä¸ªçŸ¥è¯†ç‚¹]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆå½“å‰æµè¡Œçš„pomeloå’Œskynetå’Œkbengine]]></title>
    <url>%2F2016%2F08%2F01%2F%E6%B5%85%E8%B0%88%E5%BD%93%E5%89%8D%E6%B5%81%E8%A1%8C%E7%9A%84pomelo%E5%92%8Cskynet%E5%92%8Ckbengine%2F</url>
    <content type="text"><![CDATA[æ ¹æ®ä¹‹å‰çš„åšæ–‡&lt;&lt;æœåŠ¡ç«¯å¸¸ç”¨æž¶æž„&gt;&gt;æ¥çœ‹ ç½‘æ˜“pomeloå±žäºŽç¬¬äºŒä»£æ¸¸æˆæœåŠ¡ç«¯äº”åž‹çš„æž¶æž„ï¼Œå³å›¾7çš„æž¶æž„ã€‚ skynetå› ä¸ºæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯æ¡†æž¶ï¼Œå®˜æ–¹åªæ˜¯æä¾›äº†login server å’Œ gate serverçš„å‚è€ƒå®žçŽ°ï¼Œå…¶ä»–çš„éœ€è¦è‡ªå·±æ¥å®žçŽ°ï¼Œç¼–ç¨‹çš„è‡ªç”±åº¦å˜å¤§äº†ï¼Œæž¶æž„å®Œå…¨å–å†³äºŽç¨‹åºå‘˜è‡ªå·±çš„é€‰æ‹©ï¼Œç¨‹åºå‘˜å¯ä»¥è‡ªå·±å°è¯•åŽ»å®žçŽ°ç¬¬äºŒä»£çš„æž¶æž„ï¼Œä¹Ÿå¯ä»¥å®žçŽ°ç¬¬ä¸‰ä»£çš„æž¶æž„ã€‚æ³¨æ„: skynetä»…ä»…æ˜¯æ¡†æž¶ï¼Œå…¶ä»–å±žäºŽå®Œæ•´è§£å†³æ–¹æ¡ˆã€‚ Kbengineå±žäºŽç¬¬ä¸‰ä»£æœåŠ¡ç«¯æ¡†æž¶ï¼Œå¯èƒ½ç±»ä¼¼äºŽå›¾10ã€‚ï¼ˆè¿™ä¸ªç†è§£ä¸ç¡®å®šï¼‰Kbengineå¼•æ“Žåº”è¯¥æ˜¯å¯¹å›¾10ä¸­çš„GateæœåŠ¡å™¨å’ŒNODEå’ŒOBJè¿›è¡Œäº†ç»†åˆ†ã€‚åœ¨åŠŸèƒ½ä¸Šå¤§ä½“åˆ’åˆ†ä¸ºä¸Žä½ç½®æœ‰å…³ï¼ˆåœ¨Kbengineä¸­ç§°ä¸ºCellappï¼‰å’Œä¸Žä½ç½®æ— å…³ï¼ˆåœ¨Kbengineä¸­ç§°ä¸ºBaseappï¼‰ã€‚ç±»ä¼¼äºŽä¸‹é¢çš„ç¤ºå›¾æž¶æž„ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>skynet</tag>
        <tag>pomelo</tag>
        <tag>kbengine</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿå®Œæˆä¸€ä¸ªslgæ¸¸æˆæ€è·¯(äºŒ)]]></title>
    <url>%2F2016%2F07%2F30%2F%E5%BF%AB%E9%80%9F%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AAslg%E6%B8%B8%E6%88%8F%E6%80%9D%E8%B7%AF(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[ChatServer ä»Žç™»å½•æˆåŠŸå°±å¼€å§‹è¿žæŽ¥, æ³¨å†Œä¸€ä¸ªChat_ID, player_ID å’Œ Chat_IDç›¸äº’å¯¹åº”, ä¼šæ³¨å†Œç›¸åº”çš„æˆ¿é—´é¢‘é“, å¹¶ä¸ºæ¯ä½Playerå­˜äº†ä¸€ä»½é»‘åå•, åœ¨å®¢æˆ·ç«¯åšäº†æœ¬åœ°é»‘åå•, èŠå¤©æœåŠ¡å™¨ä¹Ÿåšäº†é»‘åå•äºŒæ¬¡éªŒè¯å¤„ç†. ä¸–ç•Œé¢‘é“ : åˆ™ç”¨MsgServerçš„éžå®žæ—¶æŽ¨é€æ€è·¯ ç§å¯†èŠå¤© : åˆ™é€‰æ‹© workerman çš„tcp, MsgServer å®žæ—¶æŽ¨é€ : workerman çš„tcp éžå®žæ—¶æŽ¨é€ : å®¢æˆ·ç«¯å®šæ—¶15ç§’è½®è¯¢ä¸€ä¸‹æœåŠ¡å™¨ï¼Œå¦‚æžœæœ‰æ¶ˆæ¯å°±å–ä¸‹æ¥ï¼Œå¦‚æžœæ²¡æ¶ˆæ¯å¯ä»¥é€æ­¥æ”¾é•¿è½®è¯¢æ—¶é—´ï¼Œæ¯”å¦‚30ç§’ï¼›å¦‚æžœæœ‰æ¶ˆæ¯ï¼Œå°±ç¼©çŸ­è½®è¯¢æ—¶é—´åˆ°10ç§’ï¼Œ5ç§’ï¼Œ deployToolCapistranoæ˜¯ä¸€ä¸ªå¼€æºçš„éƒ¨ç½²å·¥å…·, ç”¨rubyæ¥å†™, è¯­æ³•è¶…ç®€æ´çš„ ä¼˜ç‚¹ å®žæ—¶åˆ™èµ° workerman éžå®žæ—¶åˆ™è·‘ yii è®¿é—®ä¸€ä¸‹ï¼Œè¯·æ±‚ä¸€ä¸‹å…³å¡æ•°æ®ï¼ŒçŽ©å®Œäº†åˆæäº¤ä¸€ä¸‹ï¼Œ éªŒç®—ä¸€ä¸‹æ˜¯å¦åˆæ³•ï¼ŒèŽ·å¾—ä»€ä¹ˆå¥–åŠ±ï¼Œ æ•°æ®åº“ç”¨å•å° MySQLæˆ–è€… MongoDBå³å¯ï¼ŒåŽç«¯çš„ Redisåšç¼“å­˜ æ­¤ç±»æœåŠ¡å™¨ç”¨æ¥å®žçŽ°ä¸€æ¬¾ä¸‰å›½ç±»ç­–ç•¥æˆ–è€…å¡ç‰ŒåŠé…·è·‘çš„æ¸¸æˆå·²ç»ç»°ç»°æœ‰ä½™ï¼Œ è¿™ç±»æ¸¸æˆå› ä¸ºé€»è¾‘ç®€å•ï¼ŒçŽ©å®¶ä¹‹é—´äº¤äº’ä¸å¼ºï¼Œ ä½¿ç”¨HTTPæ¥å¼€å‘çš„è¯ï¼Œå¼€å‘é€Ÿåº¦å¿«ï¼Œè°ƒè¯•åªéœ€è¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥æŠŠé€»è¾‘è°ƒè¯•æ¸…æ¥šäº†]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>mysql</tag>
        <tag>php</tag>
        <tag>yii</tag>
        <tag>nginx</tag>
        <tag>tcp</tag>
        <tag>http</tag>
        <tag>udp</tag>
        <tag>workerman</tag>
        <tag>Capistrano</tag>
        <tag>ruby</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€Ÿå®Œæˆä¸€ä¸ªslgæ¸¸æˆæ€è·¯(ä¸€)]]></title>
    <url>%2F2016%2F07%2F30%2F%E5%BF%AB%E9%80%9F%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AAslg%E6%B8%B8%E6%88%8F%E6%80%9D%E8%B7%AF(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[LoginServer(GateWay)å½“å®Œæˆæ¸ é“sdkå›žè°ƒéªŒè¯ä¹‹åŽ, éªŒè¯å®ŒçŽ©å®¶ä¿¡æ¯, ç”¨äº†nginxçš„è´Ÿè½½å‡è¡¡ç»™æ¯ä½çŽ©å®¶åˆ†é…ä¸€å°ä¸ç¹å¿™çš„æ¸¸æˆæœåŠ¡å™¨, åœ¨redisä¸­å­˜äº†ä¸€ä»½çŽ©å®¶åœ¨çº¿æœ‰æ•ˆæ—¶é—´key,è¶…æ—¶åˆ™æŽ‰çº¿, è¿™ä¸ªkeyä¹Ÿå¯ä»¥ç”¨æ¥å®Œæˆå°å·æ“ä½œ MainServer å› ä¸ºå¼±äº¤äº’/çŸ­è¿žæŽ¥çš„å…³ç³», å¤§å¤šæ•°æƒ…å†µçŽ©å®¶å’ŒçŽ©å®¶ä¹‹é—´ä¸éœ€è¦å®žæ—¶é¢å¯¹é¢PKï¼Œ æ‰“ä¸€ä¸‹å¯¹æ–¹çš„ç¦»çº¿æ•°æ®ï¼Œ è®¡ç®—ä¸‹æŽ’è¡Œæ¦œï¼ŒæŽ’è¡Œæ¦œæ˜¯å®žæ—¶è®¡ç®—çš„, å­˜åœ¨redisé‡Œ, åšäº†åˆ†é¡µå¤„ç† ä¹°å–ä¸‹é“å…·å³å¯ æ‰€ä»¥ MainServer é€‰æ‹©äº†: yii redis mysql nginx pvpServeerè€Œ pvpServer åˆ™é€‰æ‹© workerman çš„tcpæ¨¡å¼, å®žæ—¶äº¤äº’æ•°æ®, MainServer å’Œ pvpServerä¹‹é—´é€šä¿¡å¹¶æŽ¥åŒä¸€ä¸ªæ•°æ®åº“. å…¶å®žè¿™é‡Œå¯ä»¥ä¸é€‰æ‹©ç”¨tcp, è€Œè‡ªæ’¸ä¸€ä¸ªå¯é udpæ¥æé«˜æ•ˆçŽ‡]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>mysql</tag>
        <tag>php</tag>
        <tag>yii</tag>
        <tag>nginx</tag>
        <tag>tcp</tag>
        <tag>http</tag>
        <tag>udp</tag>
        <tag>workerman</tag>
        <tag>Capistrano</tag>
        <tag>ruby</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœåŠ¡ç«¯å¸¸ç”¨æž¶æž„(ä¸‰)]]></title>
    <url>%2F2016%2F07%2F11%2F%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%9E%B6%E6%9E%84(%E4%B8%89)%2F</url>
    <content type="text"><![CDATA[ä¼‘é—²æ¸¸æˆæœåŠ¡å™¨ä¼‘é—²æ¸¸æˆåŒæˆ˜ç½‘æœåŠ¡å™¨ç±»ä¼¼ï¼Œéƒ½æ˜¯å…¨åŒºæž¶æž„ï¼Œä¸åŒçš„æ˜¯æœ‰æˆ¿é—´æœåŠ¡å™¨ï¼Œè¿˜æœ‰å…·ä½“çš„æ¸¸æˆæœåŠ¡å™¨ï¼Œæ¸¸æˆä¸»ä½“ä¸å†ä»¥çŽ©å®¶ P2Pè¿›è¡Œï¼Œè€Œæ˜¯è¿žæŽ¥åˆ°ä¸“é—¨çš„æ¸¸æˆæœåŠ¡å™¨å¤„ç†ï¼š å’Œæˆ˜ç½‘ä¸€æ ·çš„å…¨åŒºæž¶æž„ï¼Œç”¨æˆ·æ•°æ®ä¸èƒ½è±¡åˆ†åŒºçš„ RPGé‚£æ ·ä¸€æ¬¡æ€§loadåˆ°å†…å­˜ï¼Œç„¶åŽåœ¨å†…å­˜é‡Œé¢ç›´æŽ¥ä¿®æ”¹ã€‚å…¨åŒºæž¶æž„ä¸‹ï¼Œä¸ºäº†åº”å¯¹ä¸€ä¸ªç”¨æˆ·åŒæ—¶çŽ©å‡ ä¸ªæ¸¸æˆï¼Œç”¨æˆ·æ•°æ®éœ€è¦åŒºåˆ†åŸºæœ¬æ•°æ®å’Œä¸åŒçš„æ¸¸æˆæ•°æ®ï¼Œè€Œæ¸¸æˆæ•°æ®åˆéœ€è¦åŒºåˆ†ç§¯åˆ†æ•°æ®ã€å’Œæ–‡æ¡£æ•°æ®ã€‚èƒœå¹³è´Ÿä¹‹ç±»çš„ç§¯åˆ†å¯ä»¥ç›´æŽ¥æäº¤å¢žé‡ä¿®æ”¹ï¼Œè€Œæ›´ä¸ºæ™®éçš„æ–‡æ¡£ç±»æ•°æ®åˆ™éœ€è¦æä¾›è¯»å†™ä»¤ç‰Œï¼Œå†™ä»¤ç‰Œåªæœ‰ä¸€å—ï¼Œè¯»ä»¤ç‰Œæœ‰å¾ˆå¤šå—ã€‚åŒå¸å·åŒä¸€ä¸ªæ¸¸æˆåŒæ—¶åœ¨ä¸¤å°ç”µè„‘ä¸ŠçŽ©æ—¶ï¼Œæœ€å…ˆå¼€å§‹çš„é‚£ä¸ªæ¸¸æˆèŽ·å¾—å†™ä»¤ç‰Œï¼Œå¯ä»¥æ“ä½œä»»æ„çš„ç”¨æˆ·æ•°æ®ã€‚è€ŒåŽå¼€å§‹çš„é‚£ä¸ªæ¸¸æˆé™¤äº†å¯ä»¥æäº¤èƒœå¹³è´Ÿç§¯åˆ†çš„å¢žé‡æ”¹å˜å¤–ï¼Œå¯¹ç”¨æˆ·æ•°æ®é‡‡ç”¨åªè¯»çš„æ–¹å¼ï¼Œä¿è¯æ¸¸æˆèƒ½è¿è¡Œä¸‹åŽ»ï¼Œä½†æ˜¯ä¼šæç¤ºç”¨æˆ·ï¼Œæ¸¸æˆæ•°æ®é”å®šã€‚ çŽ°ä»£åŠ¨ä½œç±»ç½‘æ¸¸ä»Žæ—©æœŸçš„éŸ©å›½åŠ¨ä½œæ¸¸æˆå¼€å§‹ï¼Œä¼ ç»Ÿçš„æˆ˜ç½‘åŠ¨ä½œç±»æ¸¸æˆå’Œ RPGæ¸¸æˆå¼€å§‹å°è¯•èžåˆã€‚å•çº¯çš„åŠ¨ä½œæ¸¸æˆçŽ©å®¶å®¹æ˜“ç–²å€¦ï¼Œç•™å­˜ä¹Ÿæ²¡æœ‰ RPGé‚£ä¹ˆé«˜ï¼›è€Œå•çº¯ RPGæˆ˜æ–—å´åˆæ…¢èŠ‚å¥çš„ä¹å‘³ï¼Œæ— æ³•æ»¡è¶³å¾ˆå¤šçŽ©å®¶æ¿€çƒˆå¯¹æŠ—çš„æœŸæœ›ï¼ŒäºŽæ˜¯äºŒè€…å¼€å§‹èžåˆæˆä¸ºæ–°ä¸€ä»£çš„ï¼šåŠ¨ä½œ + åŸŽé•‡æ¨¡å¼ã€‚çŽ©å®¶åœ¨åŸŽé•‡ä¸­èšé›†ï¼Œç„¶åŽä»¥å¼€å‰¯æœ¬çš„æ–¹å¼å‡ ä¸ªäººå‡ºåŽ»ä»¥åŠ¨ä½œæ¸¸æˆçš„çŽ©æ³•æ¥å®Œæˆå„ç§ RPGä»»åŠ¡ã€‚æœ¬è´¨å°±æ˜¯ä¸€å¥— RPGæœåŠ¡ç«¯+å‰¯æœ¬æœåŠ¡ç«¯ã€‚ç”±äºŽæ¯æ¬¡å‰¯æœ¬æ—¶äººç‰©å¯ä»¥æŽ§åˆ¶åœ¨8äººä»¥å†…ï¼Œå› æ­¤å¯ä»¥èŽ·å¾—æ›´ä¸ºå®žæ—¶çš„æ¸¸æˆä½“éªŒï¼Œè®©çŽ©å®¶çŽ©çš„æ›´åŠ çˆ½å¿«ã€‚ è¯´äº†é‚£ä¹ˆå¤šçš„æ¸¸æˆæœåŠ¡å™¨ç±»åž‹ï¼Œå…¶å®žä¹Ÿå·®ä¸å¤šäº†ï¼Œå‰©ä¸‹çš„ç±»åž‹å¤§å®¶æ‹¼å‡‘ä¸€ä¸‹å…¶å®žä¹Ÿå°±æ˜¯è¿™ä¸ªæ ·å­è€Œå·²ã€‚æ¸¸æˆæœåŠ¡ç«¯ç»åŽ†äº†é‚£ä¹ˆå¤šç»“æž„ä¸Šçš„å˜è¿ï¼Œå†…éƒ¨å¼€å‘æ¨¡å¼æ˜¯å¦ä¾ç„¶ä¸å˜ï¼Ÿç©¶ç«Ÿæ˜¯ç»§ç»­å»¶ç»­ä¼ ç»Ÿçš„å¼€å‘æ–¹å¼ï¼Ÿè¿˜æ˜¯æœ‰äº†æ›´å¤šçªç ´æ€§çš„æ–¹æ³•ï¼Ÿç»åŽ†é‚£ä¹ˆå¤šæ¬¡æž¶æž„å˜è¿ï¼ŒåŽé¢æ˜¯å¦æœ‰å…±é€šçš„é€»è¾‘ï¼Ÿæœªæ¥çš„å‘å±•è¿˜ä¼šå­˜åœ¨å“ªäº›å›°éš¾ï¼Ÿæ¸¸æˆæœåŠ¡ç«¯å¼€å‘å¦‚ä½•è¾¾åˆ°æœ€ç»ˆçš„å½¼å²¸ï¼Ÿè¯·çœ‹ä¸‹èŠ‚ï¼šæŠ€æœ¯çš„æ¼”è¿›ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æœåŠ¡ç«¯å¸¸ç”¨æž¶æž„(äºŒ)]]></title>
    <url>%2F2016%2F07%2F11%2F%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%9E%B6%E6%9E%84(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡å™¨ 2007ä»Žé­”å…½ä¸–ç•Œå¼€å§‹æ— ç¼ä¸–ç•Œåœ°å›¾å·²ç»æ·±å…¥äººå¿ƒï¼Œæ¯”è¾ƒä»¥å¾€æ¸¸æˆçŽ©å®¶èµ°ä¸ªå‡ æ­¥è¿˜éœ€è¦åˆ‡æ¢åœºæ™¯ï¼Œæ¯æ¬¡åˆ‡æ¢å°±è¦ç­‰å¾… LOADINGä¸ªå‡ åç§’æ˜¯ä¸€ä»¶ååˆ†ç ´åæ¸¸æˆä½“éªŒçš„äº‹æƒ…ã€‚äºŽæ˜¯å¯¹äºŽ 2005å¹´ä»¥åŽçš„å¤§åž‹ MMORPGæ¥è¯´ï¼Œæ— ç¼åœ°å›¾å·²æˆä¸ºä¸€ä¸ªæ ‡å‡†é…ç½®ã€‚æ¯”è¾ƒä»¥å¾€æŒ‰ç…§åœ°å›¾æ¥åˆ‡å‰²æ¸¸æˆè€Œè¨€ï¼Œæ— ç¼ä¸–ç•Œå¹¶ä¸å­˜åœ¨ä¸€å—åœ°å›¾ä¸Šé¢çš„äººæœ‰ä¸”åªç”±ä¸€å°æœåŠ¡å™¨å¤„ç†äº†ï¼š æ¯å° NodeæœåŠ¡å™¨ç”¨æ¥ç®¡ç†ä¸€å—åœ°å›¾åŒºåŸŸï¼Œç”± NodeMasterï¼ˆNMï¼‰æ¥ä¸ºä»–ä»¬æä¾›æ€»ä½“ç®¡ç†ã€‚æ›´é«˜å±‚æ¬¡çš„ Worldåˆ™æä¾›å¤§é™†çº§åˆ«çš„ç®¡ç†æœåŠ¡ã€‚è¿™é‡Œçœç•¥è‹¥å¹²ç»†èŠ‚æœåŠ¡å™¨ï¼Œæ¯”å¦‚ä¼ ç»Ÿæ•°æ®åº“å‰ç«¯ï¼Œç™»å½•æœåŠ¡å™¨ï¼Œæ—¥å¿—å’Œç›‘æŽ§ç­‰ï¼Œç»Ÿç»Ÿç”¨ ADMINæ¦‚æ‹¬ã€‚åœ¨è¿™æ ·çš„ç»“æž„ä¸‹ï¼ŒçŽ©å®¶ä»Žä¸€å—åŒºåŸŸèµ°å‘å¦å¤–ä¸€å—åŒºåŸŸéœ€è¦ç®€å•å¤„ç†ä¸€ä¸‹ï¼š çŽ©å®¶1å®Œå…¨ç”±èŠ‚ç‚¹AæŽ§åˆ¶ï¼ŒçŽ©å®¶3å®Œå…¨ç”±èŠ‚ç‚¹BæŽ§åˆ¶ã€‚è€Œå¤„åœ¨ä¸¤ä¸ªèŠ‚ç‚¹è¾¹ç¼˜çš„2å·çŽ©å®¶ï¼Œåˆ™åŒæ—¶ç”±Aå’ŒBæä¾›æœåŠ¡ã€‚çŽ©å®¶2ä»ŽAç§»åŠ¨åˆ°Bçš„è¿‡ç¨‹ä¸­ï¼Œä¼šåŒæ—¶å‘Aè¯·æ±‚å·¦è¾¹çš„æƒ…å†µï¼Œå¹¶å‘Bè¯·æ±‚å³è¾¹çš„æƒ…å†µã€‚ä½†æ˜¯æ­¤æ—¶çŽ©å®¶2è¿˜æ˜¯å±žäºŽAç®¡ç†ã€‚ç›´åˆ°çŽ©å®¶2å½»åº•ç¦»å¼€ABè¾¹ç•Œå¾ˆè¿œï¼Œæ‰å½»åº•äº¤ç”±Bç®¡ç†ã€‚æŒ‰ç…§è¿™æ ·çš„é€»è¾‘å°†ä¸–ç•Œåœ°å›¾åˆ†å‰²ä¸ºä¸€å—ä¸€å—çš„åŒºåŸŸï¼Œäº¤ç”±ä¸åŒçš„ NodeåŽ»ç®¡ç†ã€‚ å¯¹äºŽä¸€ä¸ª Nodeæ‰€è´Ÿè´£çš„åŒºåŸŸï¼Œåœ°ç†ä¸Šæ²¡å¿…è¦è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚å¤§é™†çš„å››å‘¨è¾¹ç¼˜éƒ¨åˆ†å’Œé«˜å±±éƒ¨åˆ†çš„åŒºå—äººæ¯”è¾ƒå°‘ï¼Œå¯ä»¥ç»Ÿä¸€äº¤ç»™ä¸€ä¸ªNodeåŽ»ç®¡ç†ï¼Œè€Œè¿™äº›åŒºå—åœ¨åœ°ç†ä¸Šå¹¶æ²¡æœ‰è”ç³»åœ¨ä¸€èµ·çš„å¿…è¦æ€§ã€‚ä¸€ä¸ª Nodeåˆ°åº•ç®¡ç†å“ªäº›åŒºå—ï¼Œå¯ä»¥æ ¹æ®æ¸¸æˆå®žæ—¶è¿è¡Œçš„è´Ÿè½½æƒ…å†µï¼Œå®šæ—¶ç»´æŠ¤çš„æ—¶å€™è¿›è¡Œæ›´æ”¹ NodeMaster ä¸Šé¢çš„é…ç½®ã€‚ äºŽæ˜¯ç¢°åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¾ˆå¤š NodeæœåŠ¡å™¨éœ€è¦å’ŒçŽ©å®¶è¿›è¡Œé€šä¿¡ï¼Œéœ€è¦é—®ç®¡ç†æœåŠ¡å™¨ç‰¹å®šUIDä¸ºå¤šå°‘çš„çŽ©å®¶åˆ°åº•åœ¨å“ªå° Gateä¸Šï¼Œä»¥å‰æŒ‰åœºæ™¯åˆ‡å‰²çš„æœåŠ¡å™¨è¿™ä¸ªé—®é¢˜ä¸å¤§ï¼Œé—®äº†ä¸€æ¬¡ä»¥åŽå°±å¯ä»¥ç¼“å­˜èµ·æ¥äº†ï¼Œä½†æ˜¯çŽ°åœ¨æœåŠ¡å™¨ç§ç±»å¢žåŠ ä¸å°‘ï¼ŒçŽ©å®¶åˆä¼šé£˜æ¥é£˜åŽ»ï¼ŒæŒ‰UIDæŸ¥æ‰¾çŽ©å®¶æ¯”è¾ƒéº»çƒ¦ï¼›å¦å¤–ä¸€æ–¹é¢ GATEéœ€è¦åŠ¨æ€æ ¹æ®åæ ‡è®¡ç®—å’Œå“ªäº› Nodeé€šä¿¡ï¼Œå¯¼è‡´é€»è¾‘è¶Šæ¥è¶ŠåŽšï¼ŒäºŽæ˜¯æŠŠï¼šâ€œç”¨æˆ·å¯¹è±¡â€ä»Žè´Ÿè´£è¿žæŽ¥ç®¡ç†çš„ GATEä¸­åˆ‡å‰²å‡ºæ¥åŠ¿åœ¨å¿…è¡ŒäºŽæ˜¯æœ‰äº†ä¸‹é¢çš„æ¨¡åž‹ï¼š ç½‘å…³æœåŠ¡å™¨å†æ¬¡é€€å›žåˆ°ç²¾ç®€çš„ç½‘ç»œè½¬å‘åŠŸèƒ½ï¼Œè€Œç”¨æˆ·é€»è¾‘åˆ™ç”±æŒ‰ç…§ UIDåˆ’åˆ†çš„ OBJæœåŠ¡å™¨æ¥æ‰¿æ‹…ï¼ŒGATEæ˜¯æŒ‰ç…§ç½‘ç»œæŽ¥å…¥æ—¶çš„è´Ÿè½½æ¥åˆ†å¸ƒï¼Œè€Œ OBJåˆ™æ˜¯æŒ‰ç…§èµ„æºçš„ç¼–å·ï¼ˆUIDï¼‰æ¥åˆ†å¸ƒï¼Œè¿™æ ·å’Œä¸€ä¸ªç”¨æˆ·é€šä¿¡ç›´æŽ¥æ ¹æ® UIDè®¡ç®—å‡º OBJæœåŠ¡å™¨ç¼–å·å‘é€æ•°æ®å³å¯ã€‚è€Œæ–°ç‹¬ç«‹å‡ºæ¥çš„ OBJåˆ™æä¾›äº†æ›´å¤šé«˜å±‚æ¬¡çš„æœåŠ¡ï¼š â€¢ å¯¹è±¡ç§»åŠ¨ï¼šç®¡ç†å…·ä½“çŽ©å®¶åœ¨ä¸åŒçš„ Nodeæ‰€ç®¡è¾–çš„åŒºåŸŸä¹‹é—´çš„ç§»åŠ¨ï¼Œå¹¶åŒéœ€è¦çš„ Nodeè¿›è¡Œæ²Ÿé€šã€‚â€¢ æ•°æ®å¹¿æ’­ï¼šNodeå¯ä»¥ç»™æ¯ä¸ªç”¨æˆ·è®¾ç½®è‹¥å¹² TAGï¼Œç„¶åŽé€šçŸ¥ Object Master æŒ‰ç…§TAGå¹¿æ’­ã€‚â€¢ å¯¹è±¡æ¶ˆæ¯ï¼šé€šç”¨æ¶ˆæ¯æŽ¨é€ï¼Œç»™æŸä¸ªç”¨æˆ·å‘é€æ•°æ®ï¼Œç›´æŽ¥å‘Šè¯‰ OBJï¼Œä¸éœ€è¦ç›´æŽ¥å’Œ GATEæ‰“äº¤é“ã€‚â€¢ å¥½å‹èŠå¤©ï¼šè§’è‰²ä¹‹é—´èŠå¤©ç›´æŽ¥èµ° OBJ/OBJ MASTERã€‚æ•´ä¸ªæœåŠ¡å™¨ä¸»ä½“åˆ†ä¸ºä¸‰å±‚ä»¥åŽï¼ŒNODEä¸“æ³¨åœºæ™¯ï¼ŒOBJä¸“æ³¨çŽ©å®¶å¯¹è±¡ï¼ŒGATEä¸“æ³¨ç½‘ç»œã€‚è¿™æ ·çš„æ¨¡åž‹åœ¨æ— ç¼åœºæ™¯æœåŠ¡å™¨ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ã€‚ä½†æ˜¯éšç€æ—¶é—´çš„æŽ¨ç§»ï¼Œè´Ÿè½½é—®é¢˜ä¹Ÿè¶Šæ¥è¶Šæ˜Žæ˜¾ï¼Œåšä¸ªæ´»åŠ¨ï¼Œè¿œæ¥ä¸æ´»è·ƒçš„åŒºåŸŸå˜å¾—ååˆ†æ´»è·ƒï¼Œé æ¯å‘¨ç»´æŠ¤æ¥è°ƒæ•´è¿˜æ˜¯æ¯”è¾ƒç¬¨é‡çš„ï¼ŒäºŽæ˜¯æœ‰äº†åŠ¨æ€è´Ÿè½½å‡è¡¡ã€‚ åŠ¨æ€è´Ÿè½½å‡è¡¡æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯æŒ‰ç…§è´Ÿè½½ï¼Œç”± Node Master å®šæ—¶åŠ¨æ€ç§»åŠ¨ä¿®æ”¹ä¸€ä¸‹å„ä¸ª Nodeçš„è¾¹ç•Œï¼Œè€Œä¸åŒçš„çŽ©å®¶å¯¹è±¡æŒ‰ç…§å…ˆå‰çš„æ–¹æ³•ä»Žä¸€å° Nodeä¸Šè¿ç§»åˆ°å¦å¤–ä¸€å° Nodeä¸Šï¼š å›¾11 åŠ¨æ€è´Ÿè½½å‡è¡¡ è¿™æ · Node Masterå®šæ—¶æŸ¥æ‰¾åœ°å›¾ä¸Šçš„çƒ­ç‚¹åŒºåŸŸï¼Œè®¡ç®—æ–°çš„åœºæ™¯åˆ‡å‰²æ–¹å¼ï¼Œç„¶åŽå‘Šè¯‰å…¶ä»–æœåŠ¡å™¨å¼€å§‹è°ƒæ•´ï¼Œå…·ä½“å¤„ç†æ–¹å¼è¿˜æ˜¯å’Œä¸Šé¢å¯¹è±¡è·¨è¶Šè¾¹ç•Œç§»åŠ¨çš„æ–¹æ³•ä¸€æ ·ã€‚ ä½†æ˜¯ä¸Šé¢è¿™ç§æ–¹å¼å®žçŽ°ç›¸å¯¹å¤æ‚ä¸€äº›ï¼ŒäºŽæ˜¯äººä»¬è®¾è®¡å‡ºäº†æ›´ä¸ºç®€å•ç›´æŽ¥çš„ä¸€ç§æ–°æ–¹æ³•ï¼š å›¾12 åŸºäºŽç½‘æ ¼çš„åŠ¨æ€è´Ÿè½½å‡è¡¡ è¿˜æ˜¯å°†åœ°å›¾æŒ‰ç…§æ ‡å‡†å°ºå¯¸å‡åŒ€åˆ‡å‰²æˆé™æ€çš„ç½‘æ ¼ï¼Œæ¯ä¸ªæ ¼å­ç”±ä¸€ä¸ªå…·ä½“çš„Nodeè´Ÿè´£ï¼Œä½†æ˜¯æ ¹æ®è´Ÿè½½æƒ…å†µï¼Œèƒ½å¤Ÿå®žæ—¶çš„è¿ç§»åˆ°å…¶ä»– Nodeä¸Šã€‚åœ¨è¿ç§»åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šå‡†å¤‡ï¼Œåˆ‡æ¢ï¼Œå®Œæˆã€‚ä¸‰ä¸ªçŠ¶æ€ç”±Node Masterè´Ÿè´£ç»´æŠ¤ã€‚å‡†å¤‡é˜¶æ®µæ–°çš„ Nodeå¼€å§‹åŒæ­¥è€ Nodeä¸Šé¢è¯¥ç½‘æ ¼çš„æ•°æ®ï¼Œå®ŒæˆåŽå‘Šè¯‰NMï¼›NMç¡®è®¤OKåŽåŒæ—¶é€šçŸ¥æ–°æ—§ Nodeå®Œæˆåˆ‡æ¢ã€‚å®Œæˆåˆ‡æ¢åŽï¼Œå¦‚æžœ ObjæœåŠ¡å™¨è¿˜åœ¨å’Œè€çš„ Nodeè¿›è¡Œé€šä¿¡ï¼Œè€çš„ Nodeå°†ä¼šå¯¹å®ƒè¿›è¡Œçº æ­£ï¼Œå¾—åˆ°çº æ­£çš„ OBJå°†ä¿®æ­£è‡ªå·±çš„çŠ¶æ€ï¼Œå’Œæ–°çš„ Nodeè¿›è¡Œé€šä¿¡ã€‚ å¾ˆå¤šæ— ç¼åŠ¨æ€è´Ÿè½½å‡è¡¡çš„æœåŠ¡ç«¯å®£ç§°è‡ªå·±æ”¯æŒæ— é™çš„äººæ•°ï¼Œä½†ä¸æ„å‘³ç€ MMORPGæ¸¸æˆçš„äººæ•°ä¸Šé™çœŸçš„å¯ä»¥æ— é™æ‰©å……ï¼Œå› ä¸ºè¿™æ ·çš„ä½“ç³»ä¼šå—åˆ¶äºŽç½‘ç»œå¸¦å®½å’Œå®¢æˆ·ç«¯æ€§èƒ½ã€‚å¸¦å®½å†³å®šäº†åŒä¸€ä¸ªåŒºåŸŸæœ€å¤§å¹¿æ’­ä¸Šé™ï¼Œè€Œå®¢æˆ·ç«¯æ€§èƒ½å†³å®šäº†åŒä¸€ä¸ªå±å¹•åˆ°åº•å¯ä»¥ç»˜åˆ¶å¤šå°‘ä¸ªè§’è‰²ã€‚ ä»Žæ— ç¼åœ°å›¾å¼•å…¥äº†åˆ†å¸ƒå¼å¯¹è±¡æ¨¡åž‹å¼€å§‹ï¼Œå·²ç»å®Œå…¨è„±ç¦» MUDOSä½“ç³»ï¼Œæˆä¸ºä¸€ç§æ–°çš„æœåŠ¡ç«¯æ¨¡åž‹ã€‚åˆç”±äºŽåŠ¨æ€è´Ÿè½½å‡è¡¡çš„å¼•å…¥ï¼Œè®©æ— ç¼æœåŠ¡å™¨å¦‚è™Žæ·»ç¿¼ï¼Œå®¹çº³ç€è¶…è¿‡ä¸Šä¸€ä»£æ¸¸æˆæœåŠ¡å™¨æ•°å€çš„äººæ•°ä¸Šé™ï¼Œå¹¶æä¾›äº†æ›´å¥½çš„æ¸¸æˆä½“éªŒï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºç¬¬ä¸‰ä»£æ¸¸æˆæœåŠ¡ç«¯æž¶æž„ã€‚ç½‘æ¸¸ä»¥å¤§åž‹å¤šäººè§’è‰²æ‰®æ¼”ä¸ºå¼€ç«¯ï¼ŒRPGç½‘æ¸¸åœ¨ç›¸å½“é•¿çš„æ—¶é—´é‡Œä¸€åº¦å æ®90%ä»¥ä¸Šï¼Œä½¿å¾—åŸºäºŽ MMORPGçš„æœåŠ¡ç«¯æž¶æž„å¾—åˆ°äº†è“¬å‹ƒçš„å‘å±•ï¼Œç„¶è€Œéšç€çŽ©å®¶å¯¹RPGçš„ç–²æƒ«ï¼Œå„ç§éžMMORPGæ¸¸æˆå¦‚é›¨åŽæ˜¥ç¬‹èˆ¬çš„å‡ºçŽ°åœ¨äººä»¬çœ¼å‰ï¼Œå—åˆ°å¸‚åœºçš„æ¬¢è¿Žã€‚ æˆ˜ç½‘æ¸¸æˆæœåŠ¡å™¨ç»å…¸æˆ˜ç½‘æœåŠ¡ç«¯å’Œ RPGæ¸¸æˆæœ‰ä¸¤ä¸ªåŒºåˆ«ï¼šRPGæ˜¯åˆ†åŒºåˆ†æœçš„ï¼ŒåŒ—äº¬åŒºçš„ç”¨æˆ·å’Œå¹¿å·žåŒºçš„ç”¨æˆ·è€æ­»ä¸ç›¸å¾€æ¥ã€‚è€Œæˆ˜ç½‘ï¼Œè™½ç„¶æ¯å±€æ¸¸æˆä¸€èˆ¬éƒ½æ˜¯ 8äººä»¥å†…ï¼Œä½†å…¨å›½åªæœ‰ä¸€å¥—æœåŠ¡å™¨ï¼Œæ‰€æœ‰çš„çŽ©å®¶éƒ½å¯ä»¥åœ¨ä¸€èµ·æ¸¸æˆï¼Œè€ŒçŽ©å®¶å’ŒçŽ©å®¶ä¹‹ä½¿ç”¨ P2Pçš„æ–¹å¼è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œç»„æˆä¸€å±€æ¸¸æˆï¼š çŽ©å®¶é€šè¿‡ Match Making æœåŠ¡å™¨ä½¿ç”¨ï¼šåˆ›å»ºã€åŠ å…¥ã€è‡ªåŠ¨åŒ¹é…ã€é‚€è¯·ç­‰æ–¹å¼ç»„æˆä¸€å±€æ¸¸æˆã€‚æœåŠ¡å™¨ä¼šé€‰æ‹©ä¸€ä¸ªäººåš Hostï¼Œå…¶ä»–äºº P2Pè¿žæŽ¥åˆ°åšä¸»çš„çŽ©å®¶ä¸Šæ¥ã€‚STUNæ˜¯å¸®åŠ©çŽ©å®¶ä¹‹é—´å»ºç«‹ P2Pçš„ç‰µå¼•æœåŠ¡å™¨ï¼Œè€Œç”±äºŽ P2Pè”é€šæƒ…å†µå¤§æ¦‚åªæœ‰ 75%ï¼Œå®žåœ¨è”ä¸é€šçš„çŽ©å®¶ä¼šé€šè¿‡ Forwardè¿›è¡Œè½¬å‘ã€‚ å¤§é‡çš„è¿žæŽ¥å¯¹æˆ˜ï¼Œä½“è‚²ç«žæŠ€æ¸¸æˆé‡‡ç”¨ç±»ä¼¼çš„ç»“æž„ã€‚P2Pæœ‰ç½‘çŠ¶æ¨¡åž‹ï¼ˆæ‰€æœ‰çŽ©å®¶äº’ç›¸è¿žæŽ¥ï¼‰ï¼Œå’Œæ˜ŸçŠ¶æ¨¡åž‹ï¼ˆæ‰€æœ‰çŽ©å®¶è¿žæŽ¥ä¸€ä¸ªä¸»çŽ©å®¶ï¼‰ã€‚å¤æ‚çš„æ¸¸æˆçŠ¶æ€åœ¨ç½‘çŠ¶æ¨¡åž‹ä¸‹éš¾ä»¥å½¢æˆä¸€è‡´ï¼Œå› æ­¤æ˜ŸçŠ¶P2Pæ¨¡åž‹ç»å—ä½äº†åŽ†å²çš„è€ƒéªŒã€‚é™¤åŽ»æ¸¸æˆæ•°æ®ï¼Œæ”¯æŒè¯­éŸ³çš„æˆ˜ç½‘ç³»ç»Ÿä¹Ÿä¼šå°†æ‰€æœ‰äººçš„è¯­éŸ³æ•°æ®å‘é€åˆ°åšä¸»çš„é‚£ä¸ªçŽ©å®¶æœºå™¨ä¸Šï¼Œé€šè¿‡æ··éŸ³åŽ»é‡å†ç¼–ç çš„æ–¹å¼è¿”å›žç»™æ‰€æœ‰ç”¨æˆ·ã€‚ æˆ˜ç½‘ç±»æ¸¸æˆï¼Œä»¥ç«žæŠ€ã€ä½“è‚²ã€åŠ¨ä½œç­‰ç±»åž‹çš„æ¸¸æˆä¸ºä¸»ï¼Œè¾ƒæ…¢èŠ‚å¥çš„ RPGï¼ˆåŒ…æ‹¬ARPGï¼‰æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ï¼Œè€Œæ¿€çƒˆçš„æ¸¸æˆè¿‡ç¨‹å¿…ç„¶å¸¦æ¥åˆ°è¾ƒ RPGå¤æ‚çš„å¤šçš„åŒæ­¥ç­–ç•¥ï¼Œè¿™æ ·çš„åŒæ­¥æœºåˆ¶å¾€å¾€å¸¦æ¥çš„æ˜¯å¾ˆå¤šæ¸¸æˆç»“æžœç”±å®¢æˆ·ç«¯ç›´æŽ¥è®¡ç®—å¾—å‡ºï¼Œé‚£åœ¨åˆ°å¤„éƒ½æ˜¯ç ´è§£çš„ä»Šå¤©ï¼Œå¦‚ä½•ä¿è¯æ¸¸æˆç»“æžœçš„å…¬æ­£å‘¢ï¼Ÿ ä¸»è¦æ–¹æ³•å°±æ˜¯æŠ•ç¥¨æ³•ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½ä¼šç‹¬ç«‹è®¡ç®—ï¼Œç„¶åŽä¼ é€’ç»™æœåŠ¡å™¨ã€‚å¦‚æžœç»“æžœç›¸åŒå°±æ›´æ–°è®°å½•ï¼Œå¦‚æžœç»“æžœä¸ä¸€è‡´ï¼Œä¼šé‡‡å–ç±»ä¼¼æŠ•ç¥¨çš„æ–¹å¼ç¡®å®šæœ€ç»ˆç»“æžœã€‚åŒæ—¶è®°å½•æœ¬å‰§æ¸¸æˆçš„æ‰€æœ‰è¾“å…¥ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œæ‰¾å¦å¤–é—²æ•£çš„æ¸¸æˆå®¢æˆ·ç«¯éªŒç®—æ•´å±€æ¸¸æˆæ˜¯å¦ä¸ºè¯¥ç»“æžœã€‚å¹¶ä¸”è®°å½•ç»å¸¸æœ‰ä½œå¼Šå«Œç–‘çš„ç”¨æˆ·ï¼Œä¾›è¿è¥äººå‘˜å°å·æ—¶å‚è€ƒã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æœåŠ¡ç«¯å¸¸ç”¨æž¶æž„(ä¸€)]]></title>
    <url>%2F2016%2F07%2F11%2F%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%9E%B6%E6%9E%84(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[å¡ç‰Œã€è·‘é…·ç­‰å¼±äº¤äº’æœåŠ¡ç«¯å¡ç‰Œè·‘é…·ç±»å› ä¸ºäº¤äº’å¼±ï¼ŒçŽ©å®¶å’ŒçŽ©å®¶ä¹‹é—´ä¸éœ€è¦å®žæ—¶é¢å¯¹é¢PKï¼Œæ‰“ä¸€ä¸‹å¯¹æ–¹çš„ç¦»çº¿æ•°æ®ï¼Œè®¡ç®—ä¸‹æŽ’è¡Œæ¦œï¼Œä¹°å–ä¸‹é“å…·å³å¯ï¼Œæ‰€ä»¥å®žçŽ°å¾€å¾€ä½¿ç”¨ç®€å•çš„ HTTPæœåŠ¡å™¨ï¼š ç™»å½•æ—¶å¯ä»¥ä½¿ç”¨éžå¯¹ç§°åŠ å¯†ï¼ˆRSA, DHï¼‰ï¼ŒæœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯uidï¼Œå½“å‰æ—¶é—´æˆ³è¿˜æœ‰æœåŠ¡ç«¯ç§é’¥ï¼Œè®¡ç®—å“ˆå¸Œå¾—åˆ°çš„åŠ å¯† key å¹¶å‘é€ç»™å®¢æˆ·ç«¯ã€‚ä¹‹åŽåŒæ–¹éƒ½ç”¨ HTTPé€šä¿¡ï¼Œå¹¶ç”¨é‚£ä¸ªkeyè¿›è¡ŒRC4åŠ å¯†ã€‚å®¢æˆ·ç«¯æ”¶åˆ°keyå’Œæ—¶é—´æˆ³åŽä¿å­˜åœ¨å†…å­˜ï¼Œç”¨äºŽä¹‹åŽé€šä¿¡ï¼ŒæœåŠ¡ç«¯ä¸éœ€è¦ä¿å­˜ keyï¼Œå› ä¸ºæ¯æ¬¡éƒ½å¯ä»¥æ ¹æ®å®¢æˆ·ç«¯ä¼ ä¸Šæ¥çš„ uid å’Œæ—¶é—´æˆ³ä»¥åŠæœåŠ¡ç«¯è‡ªå·±çš„ç§é’¥è®¡ç®—å¾—åˆ°ã€‚ç”¨æ¨¡ä»¿ TLSçš„è¡Œä¸ºï¼Œæ¥ä¿è¯å¤šæ¬¡ HTTPè¯·æ±‚é—´çš„å®¢æˆ·ç«¯èº«ä»½ï¼Œå¹¶é€šè¿‡æ—¶é—´æˆ³ä¿è¯åŒä¸€äººä¸¤æ¬¡ç™»å½•å¯†é’¥ä¸åŒã€‚ æ¯å±€å¼€å§‹æ—¶ï¼Œè®¿é—®ä¸€ä¸‹ï¼Œè¯·æ±‚ä¸€ä¸‹å…³å¡æ•°æ®ï¼ŒçŽ©å®Œäº†åˆæäº¤ä¸€ä¸‹ï¼ŒéªŒç®—ä¸€ä¸‹æ˜¯å¦åˆæ³•ï¼ŒèŽ·å¾—ä»€ä¹ˆå¥–åŠ±ï¼Œæ•°æ®åº“ç”¨å•å° MySQLæˆ–è€… MongoDBå³å¯ï¼ŒåŽç«¯çš„ Redisåšç¼“å­˜ï¼ˆå¯é€‰ï¼‰ã€‚å¦‚æžœè¦å®žçŽ°é€šçŸ¥ï¼Œé‚£ä¹ˆè®©å®¢æˆ·ç«¯å®šæ—¶15ç§’è½®è¯¢ä¸€ä¸‹æœåŠ¡å™¨ï¼Œå¦‚æžœæœ‰æ¶ˆæ¯å°±å–ä¸‹æ¥ï¼Œå¦‚æžœæ²¡æ¶ˆæ¯å¯ä»¥é€æ­¥æ”¾é•¿è½®è¯¢æ—¶é—´ï¼Œæ¯”å¦‚30ç§’ï¼›å¦‚æžœæœ‰æ¶ˆæ¯ï¼Œå°±ç¼©çŸ­è½®è¯¢æ—¶é—´åˆ°10ç§’ï¼Œ5ç§’ï¼Œå³ä¾¿ä¸¤äººèŠå¤©ï¼Œå»¶è¿Ÿä¹Ÿèƒ½è‡ªé€‚åº”ã€‚ æ­¤ç±»æœåŠ¡å™¨ç”¨æ¥å®žçŽ°ä¸€æ¬¾ä¸‰å›½ç±»ç­–ç•¥æˆ–è€…å¡ç‰ŒåŠé…·è·‘çš„æ¸¸æˆå·²ç»ç»°ç»°æœ‰ä½™ï¼Œè¿™ç±»æ¸¸æˆå› ä¸ºé€»è¾‘ç®€å•ï¼ŒçŽ©å®¶ä¹‹é—´äº¤äº’ä¸å¼ºï¼Œä½¿ç”¨ HTTPæ¥å¼€å‘çš„è¯ï¼Œå¼€å‘é€Ÿåº¦å¿«ï¼Œè°ƒè¯•åªéœ€è¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥æŠŠé€»è¾‘è°ƒè¯•æ¸…æ¥šäº†ã€‚ ç¬¬ä¸€ä»£æ¸¸æˆæœåŠ¡å™¨ 19781978å¹´ï¼Œè‹±å›½è‘—åçš„è´¢ç»å­¦æ ¡University of Essexçš„å­¦ç”Ÿ Roy Trubshawç¼–å†™äº†ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªMUDç¨‹åºã€ŠMUD1ã€‹ï¼Œåœ¨University of EssexäºŽ1980å¹´æŽ¥å…¥ ARPANETä¹‹åŽåŠ å…¥äº†ä¸å°‘å¤–éƒ¨çš„çŽ©å®¶ï¼Œç”šè‡³åŒ…æ‹¬å›½å¤–çš„çŽ©å®¶ã€‚ã€ŠMUD1ã€‹ç¨‹åºçš„æºä»£ç åœ¨ ARPANETå…±äº«ä¹‹åŽå‡ºçŽ°äº†ä¼—å¤šçš„æ”¹ç¼–ç‰ˆæœ¬ï¼Œè‡³æ­¤MUDæ‰åœ¨å…¨ä¸–ç•Œå¹¿æ³›æµè¡Œèµ·æ¥ã€‚ä¸æ–­å®Œå–„çš„ MUD1çš„åŸºç¡€ä¸Šäº§ç”Ÿäº†å¼€æºçš„ MudOSï¼ˆ1991ï¼‰ï¼Œæˆä¸ºä¼—å¤šç½‘æ¸¸çš„é¼»ç¥–ï¼š MUDOSé‡‡ç”¨ Cè¯­è¨€å¼€å‘ï¼Œå› ä¸ºçŽ©å®¶å’ŒçŽ©å®¶ä¹‹é—´æœ‰æ¯”è¾ƒå¼ºçš„äº¤äº’ï¼ˆèŠå¤©ï¼Œäº¤æ˜“ï¼ŒPKï¼‰ï¼ŒMUDOSä½¿ç”¨å•çº¿ç¨‹æ— é˜»å¡žå¥—æŽ¥å­—æ¥æœåŠ¡æ‰€æœ‰çŽ©å®¶ï¼Œæ‰€æœ‰çŽ©å®¶çš„è¯·æ±‚éƒ½å‘åˆ°åŒä¸€ä¸ªçº¿ç¨‹åŽ»å¤„ç†ï¼Œä¸»çº¿ç¨‹æ¯éš”1ç§’é’Ÿæ›´æ–°ä¸€æ¬¡æ‰€æœ‰å¯¹è±¡ï¼ˆç½‘ç»œæ”¶å‘ï¼Œæ›´æ–°å¯¹è±¡çŠ¶æ€æœºï¼Œå¤„ç†è¶…æ—¶ï¼Œåˆ·æ–°åœ°å›¾ï¼Œåˆ·æ–°NPCï¼‰ã€‚ æ¸¸æˆä¸–ç•Œé‡‡ç”¨æˆ¿é—´çš„å½¢å¼ç»„ç»‡èµ·æ¥ï¼Œæ¯ä¸ªæˆ¿é—´æœ‰ä¸œå—è¥¿åŒ—å››ä¸ªæ–¹å‘å¯ä»¥ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæˆ¿é—´ï¼Œç”±äºŽæ¬§ç¾Žæœ€æ—©çš„ç½‘æ¸¸éƒ½æ˜¯åœ°ç‰¢è¿·å®«å½¢å¼çš„ï¼Œå› æ­¤åœºæ™¯çš„åŸºæœ¬å•ä½è¢«æˆä¸º â€œæˆ¿é—´â€ã€‚MUDOSä½¿ç”¨ä¸€é—¨ç§°ä¸ºLPCçš„è„šæœ¬è¯­è¨€æ¥æè¿°æ•´ä¸ªä¸–ç•Œï¼ˆåŒ…æ‹¬æˆ¿é—´æ‹“æ‰‘ï¼Œé…ç½®ï¼ŒNPCï¼Œä»¥åŠå„ç§å‰§æƒ…ï¼‰ã€‚æ¸¸æˆé‡Œé¢çš„é«˜çº§çŽ©å®¶ï¼ˆå·«å¸ˆï¼‰ï¼Œå¯ä»¥ä¸æ–­çš„é€šè¿‡ä¿®æ”¹è„šæœ¬æ¥ä¸ºæ¸¸æˆæ·»åŠ æˆ¿é—´ä»¥åŠå¢žåŠ å‰§æƒ…ã€‚æ—©å¹´ MUD1ä¸Šçº¿æ—¶åªæœ‰17ä¸ªæˆ¿é—´ï¼ŒRoy Trubshawæ¯•ä¸šä»¥åŽäº¤ç»™ä»–çš„å¸ˆå¼Ÿ Richard Battleï¼Œåœ¨ Richard Battleæ‰‹ä¸Šï¼Œä¸æ–­çš„æ·»åŠ å„ç§çŽ©æ³•åˆ°ä¸€ç™¾å¤šä¸ªæˆ¿é—´ï¼Œç»ˆäºŽè®© MUDå‘æ‰¬å…‰å¤§ã€‚ ç”¨æˆ·ä½¿ç”¨ Telnetä¹‹ç±»çš„å®¢æˆ·ç«¯ç”¨ Tcpåè®®è¿žæŽ¥åˆ° MUDOSä¸Šï¼Œä½¿ç”¨çº¯æ–‡å­—è¿›è¡Œæ¸¸æˆï¼Œæ¯æ¡æŒ‡ä»¤ç”¨å›žè½¦è¿›è¡Œåˆ†å‰²ã€‚æ¯”å¦‚ 1995å¹´å›½å†…ç¬¬ä¸€æ¬¾ MUDæ¸¸æˆã€Šä¾ å®¢è¡Œã€‹ï¼Œä½ æ•²å…¥ï¼šâ€go eastâ€ï¼Œæ¸¸æˆå°±ä¼šæç¤ºä½ ï¼šâ€œåŽèŠ±å›­ - è¿™é‡Œæ˜¯å½’äº‘åº„çš„åŽèŠ±å›­ï¼Œç§æ»¡äº†èŠ±è‰ï¼Œå‡ ä¸ªåº„ä¸æ­£åœ¨æµ‡èŠ±ã€‚æ­¤åœ°ä¹ƒæ˜¯å«ç¾žè‰ç”Ÿé•¿ä¹‹åœ°ã€‚è¿™é‡Œå”¯ä¸€çš„å‡ºå£æ˜¯ northã€‚è¿™é‡Œæœ‰ï¼šèŠ±å¾…é˜¿ç‰§ï¼ˆA muï¼‰ï¼Œè¿˜æœ‰äºŒä½åº„ä¸ï¼ˆZhuang Dingï¼‰â€ï¼Œç„¶åŽä½ ç»§ç»­ç”¨æ–‡å­—æ“ä½œï¼ŒæŸ¥çœ‹é˜¿ç‰§çš„ä¿¡æ¯ï¼šâ€œlook a muâ€ï¼Œç³»ç»Ÿæç¤ºï¼šâ€œèŠ±å¾…é˜¿ç‰§ï¼ˆA muï¼‰ä»–æ˜¯é™†ä¹˜é£Žçš„å¼Ÿå­ï¼Œå—å‘½åœ¨æ­¤çœ‹ç®¡å«ç¾žè‰ã€‚ä»–çœ‹èµ·æ¥ä¸‰åå¤šå²ï¼Œç”Ÿå¾—çœ‰æ¸…ç›®ç§€ï¼Œç«¯æ­£å¤§æ–¹ï¼Œä¸€è¡¨äººæ‰ã€‚ä»–çš„æ­¦è‰ºçœ‹ä¸ŠåŽ»ã€ä¸æ˜¯å¾ˆé«˜ã€‘ï¼Œå‡ºæ‰‹ä¼¼ä¹Žã€æžè½»ã€‘â€ã€‚ç„¶åŽä½ å¯ä»¥é€‰æ‹©å‡»è´¥ä»–èŽ·å¾—å«ç¾žè‰ï¼Œä½†æ˜¯ä½ åƒäº†å«ç¾žè‰å´åˆå¯èƒ½ä¼šä¸­æ¯’æ­»äº¡ã€‚åœ¨æ—©æœŸç½‘ä¸Šèµ„æºè´«ä¹çš„æ—¶å€™ï¼Œè¿™æ ·çš„æ¸¸æˆæœ‰å¾ˆå¼ºçš„ä»£å…¥æ„Ÿã€‚ ç”¨æˆ·æ•°æ®ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·ç™»å½•æ—¶ï¼Œä»Žæ–‡æœ¬æ–‡ä»¶é‡ŒæŠŠç”¨æˆ·çš„æ•°æ®å…¨éƒ¨åŠ è½½è¿›æ¥ï¼Œæ“ä½œå…¨éƒ¨åœ¨å†…å­˜é‡Œé¢è¿›è¡Œï¼Œæ— éœ€é©¬ä¸Šåˆ·å›žç£ç›˜ã€‚ç”¨æˆ·é€€å‡ºäº†ï¼Œæˆ–è€…æ¯éš”5åˆ†é’Ÿæ£€æŸ¥åˆ°æ•°æ®æ”¹åŠ¨äº†ï¼Œéƒ½ä¼šä¿å­˜ä¼šç£ç›˜ã€‚è¿™æ ·çš„ç³»ç»Ÿåœ¨å½“æ—¶æ¯å°æœåŠ¡å™¨æ‰¿è½½ä¸ª4000äººåŒæ—¶æ¸¸æˆï¼Œä¸æ˜¯ç‰¹åˆ«å¤§çš„é—®é¢˜ã€‚ä»Ž1991å¹´çš„ MUDOSå‘å¸ƒåŽï¼Œå…¨çƒå„åœ°éƒ½åœ¨ä¸ºä»–æ”¹è¿›ï¼Œæ‰©å……ï¼Œé€€å‡ºæ–°ç‰ˆæœ¬ï¼Œéšç€ Windowså›¾å½¢æœºèƒ½çš„å¢žå¼ºã€‚1997æ¸¸æˆã€ŠUOã€‹åœ¨ MUDOSçš„åŸºç¡€ä¸Šä¸ºè§’è‰²å¢žåŠ çš„x,yåæ ‡ï¼Œä¸ºæ¯ä¸ªæˆ¿é—´å¢žåŠ äº†åœ°å›¾ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªè§’è‰²å¢žåŠ äº†åŠ¨ç”»ï¼Œå½¢æˆäº†ç¬¬ä¸€ä»£çš„å›¾å½¢ç½‘ç»œæ¸¸æˆã€‚ å› ä¸ºæ¸¸æˆå†…å®¹åŸºæœ¬å¯ä»¥é€šè¿‡ LPCè„šæœ¬è¿›è¡Œå®šåˆ¶ï¼Œæ‰€ä»¥MUDOSä¹Ÿæˆä¸ºåå‰¯å…¶å®žçš„ç¬¬ä¸€æ¬¾æœåŠ¡ç«¯å¼•æ“Žï¼Œå¼•æ“Žä¸€æ¬¡æ€§å¼€å‘å‡ºæ¥ï¼Œç„¶åŽåˆ¶ä½œä¸åŒæ¸¸æˆå†…å®¹ã€‚åŽç»­å›½å†…çš„ã€Šä¸‡çŽ‹ä¹‹çŽ‹ã€‹ç­‰æ¸¸æˆï¼Œå¾ˆå¤šéƒ½æ˜¯è·Ÿã€ŠUOã€‹ä¸€æ ·ï¼Œç›´æŽ¥åœ¨ MUDOSä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼ŒåŠ å…¥æˆ¿é—´çš„åœ°å›¾è¿˜æœ‰è§’è‰²çš„åæ ‡ç­‰è¦ç´ ï¼Œè¯¥æž¶æž„ä¸€ç›´ä¸ºå›½å†…çš„ç¬¬ä¸€ä»£ MMORPGæä¾›äº†ç¨³å›ºçš„æ”¯æŒï¼Œç›´åˆ° 2003å¹´ï¼Œè¿˜æœ‰æ¸¸æˆåŸºäºŽ MUDOSå¼€å‘ã€‚ è™½ç„¶åŽé¢å›¾å½¢åŒ–å¢žåŠ äº†å¾ˆå¤šä¸œè¥¿ï¼Œä½†æ˜¯è¿™äº›MMORPGåŽç«¯çš„æœ¬è´¨è¿˜æ˜¯ MUDOSã€‚éšç€æ¸¸æˆå†…å®¹çš„è¶Šæ¥è¶Šå¤æ‚ï¼Œæž¶æž„å˜å¾—è¶Šæ¥è¶Šåƒä¸æ¶ˆäº†ï¼Œå„ç§è´Ÿè½½é—®é¢˜æ…¢æ…¢æµ®ä¸Šæ°´é¢ï¼ŒäºŽæ˜¯æœ‰äº†æˆ‘ä»¬çš„ç¬¬äºŒä»£æ¸¸æˆæœåŠ¡å™¨ã€‚ ç±»åž‹3ï¼šç¬¬äºŒä»£æ¸¸æˆæœåŠ¡å™¨ 2003 2000å¹´åŽï¼Œç½‘æ¸¸å·²ç»è„±ç¦»æœ€åˆçš„æ–‡å­—MUDï¼Œè¿›å…¥å…¨é¢å›¾å½¢åŒ–å¹´ä»£ã€‚æœ€å…ˆæ‰¿å—ä¸ä½çš„å…¶å®žæ˜¯å¾ˆå¤šå°æ–‡ä»¶ï¼Œç”¨æˆ·ä¸Šä¸‹çº¿ï¼Œé¢‘ç¹çš„è¯»å–å†™å…¥ç”¨æˆ·æ•°æ®ï¼Œå¯¼è‡´è´Ÿè½½è¶Šæ¥è¶Šå¤§ã€‚éšç€åœ¨çº¿äººæ•°çš„å¢žåŠ å’Œæ¸¸æˆæ•°æ®çš„å¢žåŠ ï¼ŒæœåŠ¡å™¨å˜å¾—ä¸æŠ—é‡è´Ÿã€‚åŒæ—¶æ—©æœŸ EXTç£ç›˜åˆ†åŒºæ¯”è¾ƒè„†å¼±ï¼Œç¨å¾®åœç”µï¼Œå®¹æ˜“å‘ç”Ÿå¤§é¢ç§¯æ•°æ®ä¸¢å¤±ã€‚å› æ­¤ç¬¬ä¸€æ­¥å°±æ˜¯æ‹†åˆ†æ–‡ä»¶å­˜å‚¨åˆ°æ•°æ®åº“åŽ»ã€‚ æ­¤æ—¶æ¸¸æˆæœåŠ¡ç«¯å·²ç»è„±ç¦»é™ˆæ—§çš„ MUDOSä½“ç³»ï¼Œå„ä¸ªå…¬å¸åœ¨å‚è€ƒ MUDOSç»“æž„çš„æƒ…å†µä¸‹ï¼Œå¼€å§‹è‡ªå·±ç”¨ Cåœ¨é‡æ–°å¼€å‘è‡ªå·±çš„æ¸¸æˆæœåŠ¡ç«¯ã€‚å¹¶ä¸”è„šæœ¬ä¹ŸæŠ›å¼ƒäº† LPCï¼Œé‡‡ç”¨æ‰©å±•æ€§æ›´å¥½çš„ Pythonæˆ–è€… Luaæ¥ä»£æ›¿ã€‚ç”±äºŽä¸»é€»è¾‘ä½¿ç”¨å•çº¿ç¨‹æ¨¡åž‹ï¼Œéšç€æ¸¸æˆå†…å®¹çš„å¢žåŠ ï¼Œä¼ ç»Ÿå•æœåŠ¡å™¨çš„ç»“æž„è¿›ä¸€æ­¥æˆä¸ºç“¶é¢ˆã€‚äºŽæ˜¯æœ‰äººå¼€å§‹æ‹†åˆ†æ¸¸æˆä¸–ç•Œï¼Œå˜ä¸ºä¸‹é¢çš„æ¨¡åž‹ï¼š æ¸¸æˆæœåŠ¡å™¨åŽ‹åŠ›æ‹†åˆ†åŽå¾—æ„ç¼“è§£ï¼Œä½†æ˜¯ä¸¤å°æ¸¸æˆæœåŠ¡å™¨åŒæ—¶è®¿é—®æ•°æ®åº“ï¼Œå¤§é‡é‡å¤è®¿é—®ï¼Œå¤§é‡æ•°æ®äº¤æ¢ï¼Œä½¿å¾—æ•°æ®åº“æˆä¸ºä¸‹ä¸€ä¸ªç“¶é¢ˆã€‚äºŽæ˜¯å½¢æˆäº†æ•°æ®åº“å‰ç«¯ä»£ç†ï¼ˆDB Proxyï¼‰ï¼Œæ¸¸æˆæœåŠ¡å™¨ä¸ç›´æŽ¥è®¿é—®æ•°æ®åº“è€Œæ˜¯è®¿é—®ä»£ç†ï¼Œå†æœ‰ä»£ç†è®¿é—®æ•°æ®åº“ï¼ŒåŒæ—¶æä¾›å†…å­˜çº§åˆ«çš„cacheã€‚æ—©å¹´ MySQL4ä¹‹å‰æ²¡æœ‰æä¾›å­˜å‚¨è¿‡ç¨‹ï¼Œè¿™ä¸ªå‰ç«¯ä»£ç†ä¸€èˆ¬å’Œ MySQLè·‘åœ¨åŒä¸€å°ä¸Šï¼Œå®ƒè½¬åŒ–æ¸¸æˆæœåŠ¡å™¨å‘è¿‡æ¥çš„é«˜çº§æ•°æ®æ“ä½œæŒ‡ä»¤ï¼Œæ‹†åˆ†æˆå…·ä½“çš„æ•°æ®åº“æ“ä½œï¼Œä¸€å®šç¨‹åº¦ä¸Šä»£æ›¿äº†å­˜å‚¨è¿‡ç¨‹ï¼š ä½†æ˜¯è¿™æ ·çš„ç»“æž„å¹¶æ²¡æœ‰æŒç»­å¤ªé•¿æ—¶é—´ï¼Œå› ä¸ºçŽ©å®¶åˆ‡æ¢åœºæ™¯ç»å¸¸è¦åˆ‡æ¢è¿žæŽ¥ï¼Œä¸­é—´çš„çŠ¶æ€å®¹æ˜“é”™ä¹±ã€‚è€Œä¸”æ¸¸æˆæœåŠ¡å™¨å¤šäº†ä»¥åŽï¼Œç›¸äº’ä¹‹é—´æ•°æ®äº¤äº’åˆä¼šå˜å¾—æ¯”è¾ƒéº»çƒ¦ï¼ŒäºŽæ˜¯äººä»¬æ‹†åˆ†äº†ç½‘ç»œåŠŸèƒ½ï¼Œç‹¬ç«‹å‡ºä¸€ä¸ªç½‘å…³æœåŠ¡ Gateï¼ˆæœ‰çš„åœ°æ–¹å« Sessionï¼Œæœ‰çš„åœ°æ–¹å« LinkSvrä¹‹ç±»çš„ï¼Œåå­—ä¸åŒè€Œå·²ï¼‰ï¼š æŠŠç½‘ç»œåŠŸèƒ½å•ç‹¬æå–å‡ºæ¥ï¼Œè®©ç”¨æˆ·ç»Ÿä¸€åŽ»è¿žæŽ¥ä¸€ä¸ªç½‘å…³æœåŠ¡å™¨ï¼Œå†æœ‰ç½‘å…³æœåŠ¡å™¨è½¬å‘æ•°æ®åˆ°åŽç«¯æ¸¸æˆæœåŠ¡å™¨ã€‚è€Œæ¸¸æˆæœåŠ¡å™¨ä¹‹é—´æ•°æ®äº¤æ¢ä¹Ÿç»Ÿä¸€è¿žæŽ¥åˆ°ç½‘ç®¡è¿›è¡Œäº¤æ¢ã€‚è¿™æ ·ç±»åž‹çš„æœåŠ¡å™¨åŸºæœ¬èƒ½ç¨³å®šçš„ä¸ºçŽ©å®¶æä¾›æ¸¸æˆæœåŠ¡ï¼Œä¸€å°ç½‘å…³æœåŠ¡1-2ä¸‡äººï¼ŒåŽé¢çš„æ¸¸æˆæœåŠ¡å™¨æ¯å°æœåŠ¡5k-1wï¼Œä¾æ¸¸æˆç±»åž‹å’Œå¤æ‚åº¦ä¸åŒè€Œå·²ï¼Œå›¾ä¸­éšè—äº†å¾ˆå¤šä¸é‡è¦çš„æœåŠ¡å™¨ï¼Œå¦‚ç™»å½•å’Œç®¡ç†ã€‚è¿™æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿çš„ä¸€ä¸ªæ¨¡åž‹ï¼Œåˆ°ä»Šå¤©ä»»ç„¶å¾ˆå¤šæ–°é¡¹ç›®ä¼šæ‰ç”¨è¿™æ ·çš„ç»“æž„æ¥æ­å»ºã€‚ äººéƒ½æ˜¯æœ‰æƒ¯æ€§çš„ï¼ŒæŒ‰ç…§å…ˆå‰çš„ç»éªŒï¼Œä¼¼ä¹ŽæŠŠ MUDOSæ‹†åˆ†çš„è¶Šå¼€æ€§èƒ½è¶Šå¥½ã€‚äºŽæ˜¯å¤§å®¶ç»§ç»­æƒ³ï¼Œç½‘å…³å¯ä»¥æ‹†åˆ†å‘€ï¼ŒåŸºç¡€æœåŠ¡å¦‚èŠå¤©äº¤æ˜“ï¼Œå¯ä»¥æ‹†åˆ†å‘€ï¼Œè¿˜å¯ä»¥æä¾›webæŽ¥å£ï¼Œæ•°æ®åº“å¯ä»¥æ‹†åˆ†å‘€ï¼ŒäºŽæ˜¯æœ‰äº†ä¸‹é¢çš„æ¨¡åž‹ï¼š è¿™æ ·çš„æ¨¡åž‹å¥½ç”¨ä¹ˆï¼Ÿç¡®å®žæœ‰æˆåŠŸæ¸¸æˆä½¿ç”¨ç±»ä¼¼è¿™æ ·çš„æž¶æž„ï¼Œå¹¶ä¸”å‘æŒ¥äº†å®ƒçš„æ€§èƒ½ä¼˜åŠ¿ï¼Œæ¯”å¦‚ä¸€äº›å¤§åž‹ MMORPGã€‚ä½†æ˜¯æœ‰ä¸¤ä¸ªæŒ‘æˆ˜ï¼šæ¯å¢žåŠ ä¸€çº§æœåŠ¡å™¨ï¼ŒçŠ¶æ€æœºå¤æ‚åº¦å¯èƒ½ä¼šç¿»å€ï¼Œå¯¼è‡´ç ”å‘å’Œæ‰¾bugçš„æˆæœ¬ä¸Šå‡ï¼›å¹¶ä¸”å¯¹å¼€å‘ç»„æŒ‘æˆ˜æ¯”è¾ƒå¤§ï¼Œä¸€æ—¦é¡¹ç›®æ—¶é—´åƒç´§ï¼Œå¼€å‘äººå‘˜ç»éªŒä¸è¶³ï¼Œå¾ˆå®¹æ˜“å¼„æŒ‚ã€‚ æ¯”å¦‚æˆ‘è§è¿‡æŸä¸Šæµ·ä¸€çº¿æ¸¸æˆå…¬å¸çš„ä¸€ä¸ª RPGä¸Šæ¥å°±è¦ä¸Šè¿™æ ·çš„æž¶æž„ï¼Œæˆ‘çœ‹äº†ä¸‹ä»–ä»¬å›¢é˜Ÿæˆå‘˜çš„ç»éªŒï¼Œé—®äº†ä¸‹ä»–ä»¬çš„ä¸Šçº¿æ—¥æœŸï¼ŒåŠä»–ä»¬ç”¨å‰é¢ç¨å¾®ç®€å•ä¸€ç‚¹çš„æ¨¡åž‹ã€‚äººå®¶è‡ªä¿¡å¾—å¾ˆï¼Œè®¤ä¸ºæœ‰æˆåŠŸé¡¹ç›®æ˜¯è¿™ä¹ˆåšçš„ï¼Œä»–ä»¬ä¹Ÿè¦è¿™ä¹ˆåšï¼Œè‡ªå·±å¾ˆæƒ³å®žçŽ°ä¸€å¥—ã€‚äºŽæ˜¯ä»–ä»¬ä¹‰æ— åé¡¾çš„å¼€å§‹ç¼–ç ï¼Œé¡¹ç›®åšäº†ä¸€å¹´å¤šï¼Œç„¶åŽï¼Œå°±æ²¡æœ‰ç„¶åŽäº†ã€‚ çŽ°ä»Šåœ¨æ¸¸æˆæˆåŠŸçŽ‡ä¸é«˜çš„æƒ…å†µä¸‹ï¼Œä¸€å¼€å§‹ä¸Šä¸€å¥—æ¯”è¾ƒå¤æ‚çš„æž¶æž„éœ€è¦è€ƒè™‘æŠ•èµ„å›žæŠ¥çŽ‡ï¼Œæ¯”å¦‚ä½ çš„æ¸¸æˆä¸Šçº¿åŠå¹´å†… PCUä¼šåŽ»åˆ°å¤šå°‘ï¼Ÿå¦‚æžœä¸€ä¸ª APRGæ¸¸æˆï¼Œæ¯ç»„æœåŠ¡å™¨5åƒäººéƒ½åˆ°ä¸äº†çš„è¯ï¼Œé‚£ä¹ˆé€‰æ‹©ä¸€å¥—æ›´ä¸ºè´´è¿‘å®žé™…æƒ…å†µçš„ç»“æž„æ›´ä¸ºç»æµŽã€‚å³ä½¿åŽé¢ä½ çš„é¡¹ç›®çœŸçš„è¶…è¿‡5åƒäººæœç€1ä¸‡äººç›®æ ‡å¥”çš„è¯ï¼Œç›¸ä¿¡é‚£ä¸ªæ—¶å€™ä½ çš„é¡¹ç›®å·²ç»æŒ£å¤§é’±äº†ï¼Œä½ æ•°ç€é’±åŠ ç€ç­åŽ»é€æ­¥è¿­ä»£ï¼Œä¸€æ¬¡æ¬¡æ‹†åˆ†å®ƒï¼Œç›¸ä¿¡å¿ƒé‡Œä¹Ÿæ˜¯ä¹å¼€èŠ±çš„ã€‚ ä¸Šé¢è¿™äº›ç±»åž‹åŸºæœ¬éƒ½æ˜¯ä»Žæ‹†åˆ† MUDOSå¼€å§‹ï¼Œå°† MUDOSä¸­çš„å„ä¸ªéƒ¨ä»¶ä»Žå•æœºä¸€æ­¥æ­¥æ‹†æˆåˆ†å¸ƒå¼ã€‚è™½ç„¶ä»Šå¤©ä»»ç„¶å¾ˆå¤šæ–°é¡¹ç›®åœ¨ç”¨ä¸Šé¢æŸä¸€ç§ç±»ä¼¼çš„ç»“æž„ï¼Œæˆ–è€…è‡ªå·±åˆåšäº†å…¶ä»–çƒ­ç‚¹æ¨¡å—çš„æ‹†åˆ†ã€‚å› ä¸ºä»–ä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹ MUDOSçš„åˆ†è§£ï¼Œæ•…å°†ä»–ä»¬å½’çº³ä¸ºç¬¬äºŒä»£æ¸¸æˆæœåŠ¡å™¨ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[linuxç¼–ç¨‹é¡»çŸ¥(é˜…è¯»å¼€æºæœåŠ¡å™¨æºç åŸºç¡€)]]></title>
    <url>%2F2016%2F07%2F04%2Flinux%E7%BC%96%E7%A8%8B%E9%A1%BB%E7%9F%A5(%E9%98%85%E8%AF%BB%E5%BC%80%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%BA%90%E7%A0%81%E5%9F%BA%E7%A1%80)%2F</url>
    <content type="text"><![CDATA[å½“é˜…è¯»ä¸€äº›å¼€æºæœåŠ¡å™¨æºç çš„æ—¶å€™, å¦‚æžœä¸çŸ¥é“ä»¥ä¸‹çŸ¥è¯†, å°±ä¼šæœ‰çŸ¥è¯†ç›²ç‚¹, å¯¼è‡´ä¸çŸ¥æ‰€äº‘.è¿™ç¯‡åšå®¢ä¼šè®²è¿°ä¸€äº›ç›¸å…³çš„ç¼–ç¨‹çŸ¥è¯†ç‚¹, æŠŠä¹‹å‰çš„ç¬”è®°æ€»ç»“ä¸€ä¸‹.è¿˜æ˜¯é‚£å¥è€è¯, å¸¦ç€é—®é¢˜é˜…è¯»æ˜¯æœ€å®¹æ˜“è®©äººç±»è¿…é€Ÿè¿›å…¥çŠ¶æ€çš„. è¿›ç¨‹çš„å†…å­˜å¸ƒå±€æ˜¯ä»€ä¹ˆæ ·çš„? çº¿ç¨‹çš„åŒæ­¥æœºåˆ¶æœ‰å“ªäº›? äº’æ–¥é‡ æ¡ä»¶å˜é‡ è‡ªæ—‹é” è¯»å†™é” å±éšœ å¦‚ä½•é¿å…æ­»é” é¡ºåºåŠ é”(ä¾‹å¦‚ï¼Œçº¿ç¨‹2å’Œçº¿ç¨‹3åªæœ‰åœ¨èŽ·å–äº†é”Aä¹‹åŽæ‰èƒ½å°è¯•èŽ·å–é”C(è¯‘è€…æ³¨ï¼šèŽ·å–é”Aæ˜¯èŽ·å–é”Cçš„å¿…è¦æ¡ä»¶)ã€‚å› ä¸ºçº¿ç¨‹1å·²ç»æ‹¥æœ‰äº†é”Aï¼Œæ‰€ä»¥çº¿ç¨‹2å’Œ3éœ€è¦ä¸€ç›´ç­‰åˆ°é”Aè¢«é‡Šæ”¾ã€‚ç„¶åŽåœ¨å®ƒä»¬å°è¯•å¯¹Bæˆ–CåŠ é”ä¹‹å‰ï¼Œå¿…é¡»æˆåŠŸåœ°å¯¹AåŠ äº†é”ã€‚ åŠ é”æ—¶é™(å¦å¤–ä¸€ä¸ªå¯ä»¥é¿å…æ­»é”çš„æ–¹æ³•æ˜¯åœ¨å°è¯•èŽ·å–é”çš„æ—¶å€™åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€åœ¨å°è¯•èŽ·å–é”çš„è¿‡ç¨‹ä¸­è‹¥è¶…è¿‡äº†è¿™ä¸ªæ—¶é™è¯¥çº¿ç¨‹åˆ™æ”¾å¼ƒå¯¹è¯¥é”è¯·æ±‚ã€‚) è¿›ç¨‹é—´çš„åŒæ­¥æœºåˆ¶(ä¹Ÿå°±æ˜¯è¿›ç¨‹é—´é€šä¿¡, èƒ½é€šä¿¡å°±èƒ½åŒæ­¥äº†å˜›)æœ‰å“ªäº›? ç®¡é“ FIFO æ¶ˆæ¯é˜Ÿåˆ— ä¿¡å·é‡ å…±äº«å†…å­˜ å¥—æŽ¥å­— linuxçš„ä»»åŠ¡è°ƒåº¦æœºåˆ¶æ˜¯ä»€ä¹ˆï¼ŸLinux åˆ†å®žæ—¶è¿›ç¨‹å’Œæ™®é€šè¿›ç¨‹ï¼Œå®žæ—¶è¿›ç¨‹åº”è¯¥å…ˆäºŽæ™®é€šè¿›ç¨‹è€Œè¿è¡Œã€‚è€Œå®žæ—¶è¿›ç¨‹çš„è°ƒåº¦æœºåˆ¶ä¸ºï¼š FIFO(å…ˆå…¥å…ˆå‡ºæœåŠ¡è°ƒåº¦) RRï¼ˆæ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼‰ã€‚]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>UNP</tag>
        <tag>TLPI</tag>
        <tag>APUE</tag>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDBèƒ½å–ä»£MySQLæˆ–è€…Redisèƒ½å–ä»£memcachedä¹ˆ]]></title>
    <url>%2F2016%2F06%2F30%2FMongoDB%E8%83%BD%E5%8F%96%E4%BB%A3MySQL%E6%88%96%E8%80%85Redis%E8%83%BD%E5%8F%96%E4%BB%A3memcached%E4%B9%88%2F</url>
    <content type="text"><![CDATA[mongodbå’Œmemcachedä¸æ˜¯ä¸€ä¸ªèŒƒç•´å†…çš„ä¸œè¥¿ã€‚ mongodbæ˜¯æ–‡æ¡£åž‹çš„éžå…³ç³»åž‹æ•°æ®åº“ï¼Œå…¶ä¼˜åŠ¿åœ¨äºŽæŸ¥è¯¢åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œèƒ½å­˜å‚¨æµ·é‡æ•°æ®ã€‚ mongodbå’Œmemcachedä¸å­˜åœ¨è°æ›¿æ¢è°çš„é—®é¢˜ã€‚å’Œmemcachedæ›´ä¸ºæŽ¥è¿‘çš„æ˜¯redisã€‚ å®ƒä»¬éƒ½æ˜¯å†…å­˜åž‹æ•°æ®åº“ï¼Œæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé€šè¿‡tcpç›´æŽ¥å­˜å–ï¼Œä¼˜åŠ¿æ˜¯é€Ÿåº¦å¿«ï¼Œå¹¶å‘é«˜ï¼Œç¼ºç‚¹æ˜¯æ•°æ®&gt; ç±»åž‹æœ‰é™ï¼ŒæŸ¥è¯¢åŠŸèƒ½ä¸å¼ºï¼Œä¸€èˆ¬ç”¨ä½œç¼“å­˜ã€‚ ä¸€èˆ¬çŽ°åœ¨çš„é¡¹ç›®ä¸­ï¼Œç”¨redisæ¥æ›¿ä»£memcachedã€‚ Redisç›¸æ¯”memcachedï¼š rediså…·æœ‰æŒä¹…åŒ–æœºåˆ¶ï¼Œå¯ä»¥å®šæœŸå°†å†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Šã€‚ rediså…·å¤‡binlogåŠŸèƒ½ï¼Œå¯ä»¥å°†æ‰€æœ‰æ“ä½œå†™å…¥æ—¥å¿—ï¼Œå½“rediså‡ºçŽ°æ•…éšœï¼Œå¯ä¾ç…§binlogè¿›è¡Œæ•°æ®æ¢å¤ã€‚ redisæ”¯æŒvirtual memoryï¼Œå¯ä»¥é™å®šå†…å­˜ä½¿ç”¨å¤§å°ï¼Œå½“æ•°æ®è¶…è¿‡é˜ˆå€¼ï¼Œåˆ™é€šè¿‡ç±»ä¼¼LRUçš„ç®—æ³•æŠŠå†…å­˜ä¸­çš„æœ€ä¸å¸¸ç”¨æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜çš„é¡µé¢æ–‡ä»¶ä¸­ã€‚ redisåŽŸç”Ÿæ”¯æŒçš„æ•°æ®ç±»åž‹æ›´å¤šï¼Œä½¿ç”¨çš„æƒ³è±¡ç©ºé—´æ›´å¤§ã€‚ mongodb æ˜¯æ–‡æ¡£æ•°æ®åº“ï¼Œç”¨äºŽæ–¹ä¾¿æ‡’äººæ›¿ä»£mysqlç­‰å…³ç³»æ•°æ®åº“çš„ã€‚ä¸è¿‡mongodbåœ¨å†…å­˜è¶³å¤Ÿçš„æƒ…å†µä¸‹è¯»å†™æ€§èƒ½ä¸é”™ï¼Œå¤§éƒ¨åˆ†åº”ç”¨å¯ä»¥çœåŽ»cacheè¿™ä¸€å±‚äº†ã€‚ æ ¹æ®ä¸šåŠ¡åœºæ™¯, æ‡’äººå¯ä»¥ä½¿ç”¨MongoDBæ¥å–ä»£MySQL+memcached,.]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>mongodb</tag>
        <tag>redis</tag>
        <tag>mysql</tag>
        <tag>memcached</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NATç©¿è¶ŠåŸºç¡€]]></title>
    <url>%2F2016%2F06%2F21%2FNAT%E7%A9%BF%E8%B6%8A%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[NATæœ‰å“ªäº›ç±»åž‹åŠå…¶ç©¿é€åŽŸç†æ˜¯ä»€ä¹ˆ? NATç±»åž‹ : é”¥NAT å…¨é”¥NAT ï¼šå…¨é”¥NAT æŠŠæ‰€æœ‰æ¥è‡ªç›¸åŒå†…éƒ¨IP åœ°å€å’Œç«¯å£çš„è¯·æ±‚æ˜ å°„åˆ°ç›¸åŒçš„å¤–éƒ¨IP åœ°å€å’Œç«¯å£ã€‚ä»»ä½•ä¸€ä¸ªå¤–éƒ¨ä¸»æœºå‡å¯é€šè¿‡è¯¥æ˜ å°„å‘é€æ•°æ®åŒ…åˆ°è¯¥å†…éƒ¨ä¸»æœºã€‚ é™åˆ¶æ€§é”¥NAT ï¼šé™åˆ¶æ€§é”¥NAT æŠŠæ‰€æœ‰æ¥è‡ªç›¸åŒå†…éƒ¨IP åœ°å€å’Œç«¯å£çš„è¯·æ±‚æ˜ å°„åˆ°ç›¸åŒçš„å¤–éƒ¨IP åœ°å€å’Œç«¯å£ã€‚ä½†æ˜¯, å’Œå…¨é”¥NAT ä¸åŒçš„æ˜¯ï¼šåªæœ‰å½“å†…éƒ¨ä¸»æœºå…ˆç»™å¤–éƒ¨ä¸»æœºå‘é€æ•°æ®åŒ…, è¯¥å¤–éƒ¨ä¸»æœºæ‰èƒ½å‘è¯¥å†…éƒ¨ä¸»æœºå‘é€æ•°æ®åŒ…ã€‚ ç«¯å£é™åˆ¶æ€§é”¥NAT ï¼šç«¯å£é™åˆ¶æ€§é”¥NAT ä¸Žé™åˆ¶æ€§é”¥NAT ç±»ä¼¼, åªæ˜¯å¤šäº†ç«¯å£å·çš„é™åˆ¶, å³åªæœ‰å†…éƒ¨ä¸»æœºå…ˆå‘å¤–éƒ¨åœ°å€ï¼šç«¯å£å·å¯¹å‘é€æ•°æ®åŒ…, è¯¥å¤–éƒ¨ä¸»æœºæ‰èƒ½ä½¿ç”¨ç‰¹å®šçš„ç«¯å£å·å‘å†…éƒ¨ä¸»æœºå‘é€æ•°æ®åŒ…ã€‚ å¯¹ç§°NAT ï¼šå¯¹ç§°NAT ä¸Žä¸Šè¿°3 ç§ç±»åž‹éƒ½ä¸åŒ, ä¸ç®¡æ˜¯å…¨é”¥NAT ï¼Œé™åˆ¶æ€§é”¥NAT è¿˜æ˜¯ç«¯å£é™åˆ¶æ€§é”¥NAT ï¼Œå®ƒä»¬éƒ½å±žäºŽé”¥NAT ï¼ˆCone NAT ï¼‰ã€‚å½“åŒä¸€å†…éƒ¨ä¸»æœºä½¿ç”¨ç›¸åŒçš„ç«¯å£ä¸Žä¸åŒåœ°å€çš„å¤–éƒ¨ä¸»æœºè¿›è¡Œé€šä¿¡æ—¶, å¯¹ç§°NAT ä¼šé‡æ–°å»ºç«‹ä¸€ä¸ªSession ï¼Œä¸ºè¿™ä¸ªSession åˆ†é…ä¸åŒçš„ç«¯å£å·ï¼Œæˆ–è®¸è¿˜ä¼šæ”¹å˜IP åœ°å€ã€‚ ç©¿é€åŽŸç† : æŸ¥çœ‹è¿™ç¯‡åšå®¢]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>nat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLè¿›é˜¶(äºŒ)]]></title>
    <url>%2F2016%2F06%2F16%2FMySQL%E8%BF%9B%E9%98%B6(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[äº‹åŠ¡ MySQL äº‹åŠ¡ä¸»è¦ç”¨äºŽå¤„ç†æ“ä½œé‡å¤§ï¼Œå¤æ‚åº¦é«˜çš„æ•°æ®ã€‚æ¯”å¦‚è¯´ï¼Œåœ¨äººå‘˜ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä½ åˆ é™¤ä¸€ä¸ªäººå‘˜ï¼Œä½ å³éœ€è¦åˆ é™¤äººå‘˜çš„åŸºæœ¬èµ„æ–™ï¼Œä¹Ÿè¦åˆ é™¤å’Œè¯¥äººå‘˜ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ä¿¡ç®±ï¼Œæ–‡ç« ç­‰ç­‰ï¼Œè¿™æ ·ï¼Œè¿™äº›æ•°æ®åº“æ“ä½œè¯­å¥å°±æž„æˆä¸€ä¸ªäº‹åŠ¡ï¼ åœ¨ MySQL ä¸­åªæœ‰ä½¿ç”¨äº† Innodb æ•°æ®åº“å¼•æ“Žçš„æ•°æ®åº“æˆ–è¡¨æ‰æ”¯æŒäº‹åŠ¡ã€‚ äº‹åŠ¡å¤„ç†å¯ä»¥ç”¨æ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œä¿è¯æˆæ‰¹çš„ SQL è¯­å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚ äº‹åŠ¡ç”¨æ¥ç®¡ç† insert,update,delete è¯­å¥ ACID ä¸€èˆ¬æ¥è¯´ï¼Œäº‹åŠ¡æ˜¯å¿…é¡»æ»¡è¶³4ä¸ªæ¡ä»¶ï¼ˆACIDï¼‰ï¼š Atomicityï¼ˆåŽŸå­æ€§ï¼‰ã€Consistencyï¼ˆä¸€è‡´æ€§æˆ–ç¨³å®šæ€§ï¼‰ã€Isolationï¼ˆéš”ç¦»æ€§ï¼‰ã€Durabilityï¼ˆæŒä¹…æ€§ï¼‰ äº‹åŠ¡çš„åŽŸå­æ€§ï¼šä¸€ç»„äº‹åŠ¡ï¼Œè¦ä¹ˆæˆåŠŸï¼›è¦ä¹ˆæ’¤å›žã€‚ ç¨³å®šæ€§ ï¼šæœ‰éžæ³•æ•°æ®ï¼ˆå¤–é”®çº¦æŸä¹‹ç±»ï¼‰ï¼Œäº‹åŠ¡æ’¤å›žã€‚ éš”ç¦»æ€§ï¼šäº‹åŠ¡ç‹¬ç«‹è¿è¡Œã€‚ä¸€ä¸ªäº‹åŠ¡å¤„ç†åŽçš„ç»“æžœï¼Œå½±å“äº†å…¶ä»–äº‹åŠ¡ï¼Œé‚£ä¹ˆå…¶ä»–äº‹åŠ¡ä¼šæ’¤å›žã€‚äº‹åŠ¡çš„100%éš”ç¦»ï¼Œéœ€è¦ç‰ºç‰²é€Ÿåº¦ã€‚ æŒä¹…æ€§ï¼šè½¯ã€ç¡¬ä»¶å´©æºƒåŽï¼ŒInnoDBæ•°æ®è¡¨é©±åŠ¨ä¼šåˆ©ç”¨æ—¥å¿—æ–‡ä»¶é‡æž„ä¿®æ”¹ã€‚å¯é æ€§å’Œé«˜é€Ÿåº¦ä¸å¯å…¼å¾—. åœ¨ MySQL å‘½ä»¤è¡Œçš„é»˜è®¤è®¾ç½®ä¸‹ï¼Œäº‹åŠ¡éƒ½æ˜¯è‡ªåŠ¨æäº¤çš„ï¼Œå³æ‰§è¡Œ SQL è¯­å¥åŽå°±ä¼šé©¬ä¸Šæ‰§è¡Œ COMMIT æ“ä½œã€‚å› æ­¤è¦æ˜¾å¼åœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡åŠ¡é¡»ä½¿ç”¨å‘½ä»¤ BEGIN æˆ– START TRANSACTIONï¼Œæˆ–è€…æ‰§è¡Œå‘½ä»¤ SET AUTOCOMMIT=0ï¼Œç”¨æ¥ç¦æ­¢ä½¿ç”¨å½“å‰ä¼šè¯çš„è‡ªåŠ¨æäº¤ã€‚ äº‹ç‰©æŽ§åˆ¶è¯­å¥ï¼š BEGINæˆ–START TRANSACTIONï¼›æ˜¾å¼åœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼› COMMITï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨COMMIT WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚COMMITä¼šæäº¤äº‹åŠ¡ï¼Œå¹¶ä½¿å·²å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹ç§°ä¸ºæ°¸ä¹…æ€§çš„ï¼› ROLLBACKï¼›æœ‰å¯ä»¥ä½¿ç”¨ROLLBACK WORKï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚å›žæ»šä¼šç»“æŸç”¨æˆ·çš„äº‹åŠ¡ï¼Œå¹¶æ’¤é”€æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼› SAVEPOINT identifierï¼›SAVEPOINTå…è®¸åœ¨äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªä¿å­˜ç‚¹ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥æœ‰å¤šä¸ªSAVEPOINTï¼› RELEASE SAVEPOINT identifierï¼›åˆ é™¤ä¸€ä¸ªäº‹åŠ¡çš„ä¿å­˜ç‚¹ï¼Œå½“æ²¡æœ‰æŒ‡å®šçš„ä¿å­˜ç‚¹æ—¶ï¼Œæ‰§è¡Œè¯¥è¯­å¥ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼› ROLLBACK TO identifierï¼›æŠŠäº‹åŠ¡å›žæ»šåˆ°æ ‡è®°ç‚¹ï¼› SET TRANSACTIONï¼›ç”¨æ¥è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚InnoDBå­˜å‚¨å¼•æ“Žæä¾›äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰READ UNCOMMITTEDã€READ COMMITTEDã€REPEATABLE READå’ŒSERIALIZABLEã€‚ MYSQL äº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š ç”¨ BEGIN, ROLLBACK, COMMITæ¥å®žçŽ° BEGIN å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ ROLLBACK äº‹åŠ¡å›žæ»š COMMIT äº‹åŠ¡ç¡®è®¤ ç›´æŽ¥ç”¨ SET æ¥æ”¹å˜ MySQL çš„è‡ªåŠ¨æäº¤æ¨¡å¼: SET AUTOCOMMIT=0 ç¦æ­¢è‡ªåŠ¨æäº¤ SET AUTOCOMMIT=1 å¼€å¯è‡ªåŠ¨æäº¤ äº‹åŠ¡çš„4ä¸ªéš”ç¦»çº§åˆ« å…·ä½“ä¾‹å­å‚è€ƒè¿™ç¯‡åšå®¢ æœªæäº¤è¯»(Read Uncommitted)ï¼šå…è®¸è„è¯»ï¼Œä¹Ÿå°±æ˜¯å¯èƒ½è¯»å–åˆ°å…¶ä»–ä¼šè¯ä¸­æœªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ® æäº¤è¯»(Read Committed)ï¼šåªèƒ½è¯»å–åˆ°å·²ç»æäº¤çš„æ•°æ®ã€‚Oracleç­‰å¤šæ•°æ•°æ®åº“é»˜è®¤éƒ½æ˜¯è¯¥çº§åˆ« (ä¸é‡å¤è¯») å¯é‡å¤è¯»(Repeated Read)ï¼šå¯é‡å¤è¯»ã€‚åœ¨åŒä¸€ä¸ªäº‹åŠ¡å†…çš„æŸ¥è¯¢éƒ½æ˜¯äº‹åŠ¡å¼€å§‹æ—¶åˆ»ä¸€è‡´çš„ï¼ŒInnoDBé»˜è®¤çº§åˆ«ã€‚åœ¨SQLæ ‡å‡†ä¸­ï¼Œè¯¥éš”ç¦»çº§åˆ«æ¶ˆé™¤äº†ä¸å¯é‡å¤è¯»ï¼Œä½†æ˜¯è¿˜å­˜åœ¨å¹»è±¡è¯» ä¸²è¡Œè¯»(Serializable)ï¼šå®Œå…¨ä¸²è¡ŒåŒ–çš„è¯»ï¼Œæ¯æ¬¡è¯»éƒ½éœ€è¦èŽ·å¾—è¡¨çº§å…±äº«é”ï¼Œè¯»å†™ç›¸äº’éƒ½ä¼šé˜»å¡ž ç›¸å…³æœ¯è¯­ è„è¯» :è„è¯»å°±æ˜¯æŒ‡å½“ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨è®¿é—®æ•°æ®ï¼Œå¹¶ä¸”å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œè¿™ç§ä¿®æ”¹è¿˜æ²¡æœ‰æäº¤åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¿™ä¸ªæ•°æ®ï¼Œç„¶åŽä½¿ç”¨äº†è¿™ä¸ªæ•°æ®ã€‚ ä¸å¯é‡å¤è¯» :æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ï¼Œå¤šæ¬¡è¯»åŒä¸€æ•°æ®ã€‚åœ¨è¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¯¥åŒä¸€æ•°æ®ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸¤æ¬¡è¯»æ•°æ®ä¹‹é—´ï¼Œç”±äºŽç¬¬äºŒä¸ªäº‹åŠ¡çš„ä¿®æ”¹ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»åˆ°çš„çš„æ•°æ®å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ ·å°±å‘ç”Ÿäº†åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤ç§°ä¸ºæ˜¯ä¸å¯é‡å¤è¯»ã€‚ å¹»è¯» :ç¬¬ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè¿™ç§ä¿®æ”¹æ¶‰åŠåˆ°è¡¨ä¸­çš„å…¨éƒ¨æ•°æ®è¡Œã€‚åŒæ—¶ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿä¿®æ”¹è¿™ä¸ªè¡¨ä¸­çš„æ•°æ®ï¼Œè¿™ç§ä¿®æ”¹æ˜¯å‘è¡¨ä¸­æ’å…¥ä¸€è¡Œæ–°æ•°æ®ã€‚é‚£ä¹ˆï¼Œä»¥åŽå°±ä¼šå‘ç”Ÿæ“ä½œç¬¬ä¸€ä¸ªäº‹åŠ¡çš„ç”¨æˆ·å‘çŽ°è¡¨ä¸­è¿˜æœ‰æ²¡æœ‰ä¿®æ”¹çš„æ•°æ®è¡Œï¼Œå°±å¥½è±¡å‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ã€‚ ä¸´æ—¶è¡¨ä¸´æ—¶è¡¨åœ¨æˆ‘ä»¬éœ€è¦ä¿å­˜ä¸€äº›ä¸´æ—¶æ•°æ®æ—¶æ˜¯éžå¸¸æœ‰ç”¨çš„ã€‚ä¸´æ—¶è¡¨åªåœ¨å½“å‰è¿žæŽ¥å¯è§ï¼Œå½“å…³é—­è¿žæŽ¥æ—¶ï¼ŒMysqlä¼šè‡ªåŠ¨åˆ é™¤è¡¨å¹¶é‡Šæ”¾æ‰€æœ‰ç©ºé—´ã€‚ é˜²SQLæ³¨å…¥ é˜²æ­¢SQLæ³¨å…¥ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š æ°¸è¿œä¸è¦ä¿¡ä»»ç”¨æˆ·çš„è¾“å…¥ã€‚å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œæ ¡éªŒï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–é™åˆ¶é•¿åº¦ï¼›å¯¹å•å¼•å·å’Œ åŒâ€-â€œè¿›è¡Œè½¬æ¢ç­‰ã€‚ æ°¸è¿œä¸è¦ä½¿ç”¨åŠ¨æ€æ‹¼è£…sqlï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°åŒ–çš„sqlæˆ–è€…ç›´æŽ¥ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹è¿›è¡Œæ•°æ®æŸ¥è¯¢å­˜å–ã€‚ æ°¸è¿œä¸è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™çš„æ•°æ®åº“è¿žæŽ¥ï¼Œä¸ºæ¯ä¸ªåº”ç”¨ä½¿ç”¨å•ç‹¬çš„æƒé™æœ‰é™çš„æ•°æ®åº“è¿žæŽ¥ã€‚ ä¸è¦æŠŠæœºå¯†ä¿¡æ¯ç›´æŽ¥å­˜æ”¾ï¼ŒåŠ å¯†æˆ–è€…hashæŽ‰å¯†ç å’Œæ•æ„Ÿçš„ä¿¡æ¯ã€‚ åº”ç”¨çš„å¼‚å¸¸ä¿¡æ¯åº”è¯¥ç»™å‡ºå°½å¯èƒ½å°‘çš„æç¤ºï¼Œæœ€å¥½ä½¿ç”¨è‡ªå®šä¹‰çš„é”™è¯¯ä¿¡æ¯å¯¹åŽŸå§‹é”™è¯¯ä¿¡æ¯è¿›è¡ŒåŒ…è£… sqlæ³¨å…¥çš„æ£€æµ‹æ–¹æ³•ä¸€èˆ¬é‡‡å–è¾…åŠ©è½¯ä»¶æˆ–ç½‘ç«™å¹³å°æ¥æ£€æµ‹ï¼Œè½¯ä»¶ä¸€èˆ¬é‡‡ç”¨sqlæ³¨å…¥æ£€æµ‹å·¥å…·jskyï¼Œç½‘ç«™å¹³å°å°±æœ‰äº¿æ€ç½‘ç«™å®‰å…¨å¹³å°æ£€æµ‹å·¥å…·ã€‚MDCSOFT SCANç­‰ã€‚é‡‡ç”¨MDCSOFT-IPSå¯ä»¥æœ‰æ•ˆçš„é˜²å¾¡SQLæ³¨å…¥ï¼ŒXSSæ”»å‡»ç­‰ã€‚ å¯ä»¥æ€»ç»“ä¸º : è¿žæŽ¥æƒé™ åŒ…è£…æç¤º æ ¡éªŒè¾“å…¥]]></content>
      <categories>
        <category>DB</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MySQLè¿›é˜¶(ä¸€)]]></title>
    <url>%2F2016%2F06%2F14%2FMySQL%E8%BF%9B%E9%98%B6(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[å¼•æ“Ž MySQLæ˜¯æœ‰å¤šä¸ªå¼•æ“Žçš„, ä¸åŒçš„åœºæ™¯æƒ…å†µç”¨ä¸åŒçš„å¼•æ“Žä»¥æå‡æ€§èƒ½å’Œçµæ´»æ€§. ä¸‰å¤§æœ€å¸¸ç”¨çš„å¼•æ“Ž : InnoDB : å¯é çš„äº‹åŠ¡å¤„ç†å¼•æ“Ž ,ä¸æ”¯æŒå…¨æ–‡æœç´¢ MyISAM : æ”¯æŒå…¨æ–‡æœç´¢, ä¸æ”¯æŒäº‹åŠ¡å¤„ç† MEMORY : åŠŸèƒ½ç­‰åŒäºŽMyISAM, ä½†æ•°æ®å­˜å‚¨åœ¨å†…å­˜è€Œä¸æ˜¯ç£ç›˜, æ‰€ä»¥é€Ÿåº¦éžå¸¸å¿«, ç‰¹åˆ«é€‚ç”¨äºŽä¸´æ—¶è¡¨(temporary table) ç´¢å¼• ç´¢å¼•æ˜¯ç”¨æ¥æ”¹å–„æœç´¢æ€§èƒ½çš„, ä¸è¦æ»¥ç”¨ç´¢å¼•, ç´¢å¼•ä¼šé™ä½Žæ›´æ–°è¡¨çš„é€Ÿåº¦ï¼Œå¦‚å¯¹è¡¨è¿›è¡ŒINSERTã€UPDATEå’ŒDELETEã€‚å› ä¸ºæ›´æ–°è¡¨æ—¶ï¼ŒMySQLä¸ä»…è¦ä¿å­˜æ•°æ®ï¼Œè¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶ã€‚ ç´¢å¼•æœ‰ä¸‰ç§ : æ™®é€šç´¢å¼•normal å”¯ä¸€ç´¢å¼•unique : å®ƒä¸Žå‰é¢çš„æ™®é€šç´¢å¼•ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚å¦‚æžœæ˜¯ç»„åˆç´¢å¼•ï¼Œåˆ™åˆ—å€¼çš„ç»„åˆå¿…é¡»å”¯ä¸€ã€‚ å…¨æ–‡ç´¢å¼•fulltext : è¡¨ç¤º å…¨æ–‡æœç´¢çš„ç´¢å¼•ã€‚ FULLTEXT ç”¨äºŽæœç´¢å¾ˆé•¿ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ•ˆæžœæœ€å¥½ã€‚ç”¨åœ¨æ¯”è¾ƒçŸ­çš„æ–‡æœ¬ï¼Œå¦‚æžœå°±ä¸€ä¸¤è¡Œå­—çš„ï¼Œæ™®é€šçš„ INDEX ä¹Ÿå¯ä»¥ã€‚ å»ºç«‹ç´¢å¼•éœ€è¦éµå®ˆçš„è§„åˆ™ : é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼• ä¸ºç»å¸¸éœ€è¦æŽ’åºã€åˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼• ä¸ºå¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µå»ºç«‹ç´¢å¼• é™åˆ¶ç´¢å¼•çš„æ•°ç›® å°½é‡ä½¿ç”¨æ•°æ®é‡å°‘çš„ç´¢å¼• å°½é‡ä½¿ç”¨å‰ç¼€æ¥ç´¢å¼• åˆ é™¤ä¸å†ä½¿ç”¨æˆ–è€…å¾ˆå°‘ä½¿ç”¨çš„ç´¢å¼• ä¸€äº›ä¼˜åŒ–å»ºè®® likeå’Œfulltext likeæ²¡æœ‰fulltextå¿«, ä½†éœ€è¦å¤§å†…å®¹çš„å…¨æ–‡æœ¬æœç´¢çš„æ—¶å€™æ¥ä¸€å‘fulltextå§ é€‰æ‹©æ­£ç¡®æ•°æ®ç±»åž‹ æ¯”å¦‚ : å®šé•¿çš„æ•°æ®ç±»åž‹æ¯”å¯å˜é•¿åº¦çš„æ•°æ®ç±»åž‹æ€§èƒ½è¦é«˜ æ­£ç¡®ä½¿ç”¨ç´¢å¼• å‹¿æ»¥ç”¨select *è¯­å¥ å…³é—­è‡ªåŠ¨æäº¤]]></content>
      <categories>
        <category>DB</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UE4æ—‹è½¬ç¬”è®°]]></title>
    <url>%2F2016%2F05%2F31%2FUE4%E6%97%8B%E8%BD%AC%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æƒ³å°†ä¸€ä¸ªvectorè½¬åŒ–ä¸ºrotatorï¼Œè½¬è€Œéœ€è¦è€ƒè™‘UE4åˆ°åº•æ˜¯æ€Žä¹ˆæ—‹è½¬çš„ã€‚ä¸‹é¢æˆ‘ä»¬åšä¸ªå®žéªŒï¼š æˆ‘ä»¬å…ˆå°†ä¸¤ä¸ªstaticMeshæ”¾å…¥åœºæ™¯ï¼Œå¹¶å°†å®ƒä»¬çš„rotationè°ƒæˆä¸€æ ·ï¼Œå¦‚ä¸Šå›¾ã€‚ä¸Šé¢é‚£ä¸ªä¸ºrenti_a_gearï¼Œä¸‹é¢é‚£ä¸ªä¸ºrenti_a_gear2. ç¬¬ä¸€ç§æƒ…å†µï¼š ç»•è‡ªèº«åæ ‡ç³»æ¥æ—‹è½¬ å¦‚ä¸Šå›¾ï¼Œä¸¤ä¸ªstaticMeshæ—‹è½¬ä¹‹åŽrotationæ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥è¯æ˜Žï¼Œç»•è‡ªèº«åæ ‡ç³»æ—‹è½¬çš„é¡ºåºæ˜¯Z-&gt;Y-&gt;X ç¬¬äºŒç§æƒ…å†µï¼š ç»•ä¸–ç•Œåæ ‡ç³»æ¥æ—‹è½¬ å¦‚ä¸Šå›¾ï¼Œä¸¤ä¸ªstaticMeshæ—‹è½¬ä¹‹åŽrotationæ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥è¯æ˜Žï¼Œç»•ä¸–ç•Œåæ ‡ç³»æ—‹è½¬çš„é¡ºåºè·Ÿç¬¬ä¸€ç§æƒ…å†µåˆšå¥½åè¿‡æ¥ï¼Œ æ˜¯X-&gt;Y-&gt;Z]]></content>
      <categories>
        <category>UE4</category>
      </categories>
      <tags>
        <tag>UE4</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpæŠ¥æ–‡ç¬”è®°æ•´ç†]]></title>
    <url>%2F2016%2F05%2F24%2Fhttp%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%E4%B9%8B%E6%8A%A5%E6%96%87%2F</url>
    <content type="text"><![CDATA[çœ‹äº†ä¹¦å’Œå„ç§ç½‘ä¸Šèµ„æ–™, å­¦ä¸œè¥¿å˜›, è¦åšæ€»ç»“, è¿™äº›è€ç¬”è®°æ•´ç†ä¸€ä¸‹, ä¾›ä»¥åŽæ–¹ä¾¿æŸ¥é˜…ä¹ŸåŠ å¼ºå°è±¡å’Œç†è§£. æŠ¥æ–‡çš„ç»„æˆ èµ·å§‹è¡Œ(start line) é¦–éƒ¨(header) ä¸»ä½“(body) å¯ç»†åˆ†ä¸º : æ–¹æ³• :å¦‚GET, HEAD, POST å…³äºŽHTTPè¯·æ±‚GETå’ŒPOSTçš„åŒºåˆ« : 1.æäº¤æ–¹å¼çš„åŒºåˆ«: GETæäº¤ï¼Œè¯·æ±‚çš„æ•°æ®ä¼šé™„åœ¨URLä¹‹åŽï¼ˆå°±æ˜¯æŠŠæ•°æ®æ”¾ç½®åœ¨httpèµ·å§‹è¡Œä¸­ï¼‰ï¼Œä»¥?åˆ†å‰²URLå’Œä¼ è¾“æ•°æ®ï¼Œå¤šä¸ªå‚æ•°ç”¨&amp;è¿žæŽ¥;ä¾‹å¦‚ï¼šlogin.action?name=hyddd&amp;password=idontknow&amp;verify=%E4%BD%A0 %E5%A5%BDã€‚å¦‚æžœæ•°æ®æ˜¯è‹±æ–‡å­—æ¯/æ•°å­—ï¼ŒåŽŸæ ·å‘é€ï¼Œå¦‚æžœæ˜¯ç©ºæ ¼ï¼Œè½¬æ¢ä¸º+ï¼Œå¦‚æžœæ˜¯ä¸­æ–‡/å…¶ä»–å­—ç¬¦ï¼Œåˆ™ç›´æŽ¥æŠŠå­—ç¬¦ä¸²ç”¨BASE64åŠ å¯†ï¼Œå¾—å‡ºå¦‚ï¼š %E4%BD%A0%E5%A5%BDï¼Œå…¶ä¸­ï¼…XXä¸­çš„XXä¸ºè¯¥ç¬¦å·ä»¥16è¿›åˆ¶è¡¨ç¤ºçš„ASCIIã€‚ POSTæäº¤ï¼šæŠŠæäº¤çš„æ•°æ®æ”¾ç½®åœ¨æ˜¯HTTPä¸»ä½“ä¸­ã€‚ å› æ­¤ï¼ŒGETæäº¤çš„æ•°æ®ä¼šåœ¨åœ°å€æ ä¸­æ˜¾ç¤ºå‡ºæ¥ï¼Œè€ŒPOSTæäº¤ï¼Œåœ°å€æ ä¸ä¼šæ”¹å˜ 2.ä¼ è¾“æ•°æ®çš„å¤§å°ï¼šé¦–å…ˆå£°æ˜Ž,HTTPåè®®æ²¡æœ‰å¯¹ä¼ è¾“çš„æ•°æ®å¤§å°è¿›è¡Œé™åˆ¶ï¼ŒHTTPåè®®è§„èŒƒä¹Ÿæ²¡æœ‰å¯¹URLé•¿åº¦è¿›è¡Œé™åˆ¶ã€‚ è€Œåœ¨å®žé™…å¼€å‘ä¸­å­˜åœ¨çš„é™åˆ¶ä¸»è¦æœ‰ï¼š GET:ç‰¹å®šæµè§ˆå™¨å’ŒæœåŠ¡å™¨å¯¹URLé•¿åº¦æœ‰é™åˆ¶ï¼Œä¾‹å¦‚IEå¯¹URLé•¿åº¦çš„é™åˆ¶æ˜¯2083å­—èŠ‚(2K+35)ã€‚å¯¹äºŽå…¶ä»–æµè§ˆå™¨ï¼Œå¦‚Netscapeã€FireFoxç­‰ï¼Œç†è®ºä¸Šæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œå…¶é™åˆ¶å–å†³äºŽæ“ä½œç³»ç»Ÿçš„æ”¯æŒã€‚ å› æ­¤å¯¹äºŽGETæäº¤æ—¶ï¼Œä¼ è¾“æ•°æ®å°±ä¼šå—åˆ°URLé•¿åº¦çš„é™åˆ¶ã€‚ POST:ç”±äºŽä¸æ˜¯é€šè¿‡URLä¼ å€¼ï¼Œç†è®ºä¸Šæ•°æ®ä¸å—é™ã€‚ä½†å®žé™…å„ä¸ªWEBæœåŠ¡å™¨ä¼šè§„å®šå¯¹postæäº¤æ•°æ®å¤§å°è¿›è¡Œé™åˆ¶ï¼ŒApacheã€IIS6éƒ½æœ‰å„è‡ªçš„é…ç½®ã€‚ 3.å®‰å…¨æ€§ï¼šPOSTçš„å®‰å…¨æ€§è¦æ¯”GETçš„å®‰å…¨æ€§é«˜ã€‚æ³¨æ„ï¼šè¿™é‡Œæ‰€è¯´çš„å®‰å…¨æ€§å’Œä¸Šé¢GETæåˆ°çš„â€œå®‰å…¨â€ä¸æ˜¯åŒä¸ªæ¦‚å¿µã€‚ä¸Šé¢â€œå®‰å…¨â€çš„å«ä¹‰ä»…ä»…æ˜¯ä¸ä½œæ•°æ®ä¿®æ”¹ï¼Œè€Œè¿™é‡Œå®‰å…¨çš„å«ä¹‰æ˜¯çœŸæ­£çš„Securityçš„å«ä¹‰ï¼Œæ¯”å¦‚ï¼šé€šè¿‡GETæäº¤æ•°æ®ï¼Œç”¨æˆ·åå’Œå¯†ç å°†æ˜Žæ–‡å‡ºçŽ°åœ¨URLä¸Šï¼Œå› ä¸º (1)ç™»å½•é¡µé¢æœ‰å¯èƒ½è¢«æµè§ˆå™¨ç¼“å­˜ï¼Œ (2)å…¶ä»–äººæŸ¥çœ‹æµè§ˆå™¨çš„åŽ†å²çºªå½•ï¼Œé‚£ä¹ˆåˆ«äººå°±å¯ä»¥æ‹¿åˆ°ä½ çš„è´¦å·å’Œå¯†ç äº†ï¼Œ è¯·æ±‚URL URLæ˜¯æµè§ˆå™¨å¯»æ‰¾ä¿¡æ¯æ—¶æ‰€éœ€çš„èµ„æºä½ç½® .URLåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† : URLæ–‡æ¡ˆ æœåŠ¡å™¨ä½ç½® èµ„æºè·¯å¾„ ç‰ˆæœ¬å·ä¸Šå›¾ä¸­çš„HTTP/1.0 200 OK, HTTP/1.0å°±æ˜¯ç‰ˆæœ¬å· çŠ¶æ€ç  : å¦‚æœ€è‘—åçš„404, 302, å¦‚ä¸Šå›¾ä¸­çš„HTTP/1.0 200 OKä¸­, çŠ¶æ€ç å°±æ˜¯200 åŽŸå› çŸ­è¯­ å¦‚ä¸Šå›¾ä¸­çš„HTTP/1.0 200 OKä¸­, OKå°±æ˜¯åŽŸå› çŸ­è¯­ é¦–éƒ¨ ä¸»ä½“ä¸»ä½“éƒ¨åˆ†æ˜¯å¯é€‰çš„, ä¸»ä½“æ˜¯httpæŠ¥æ–‡è¦ä¼ è¾“çš„å†…å®¹, å¯ä»¥æ‰¿è½½å¾ˆå¤šç±»åž‹çš„æ•°å­—æ•°æ® : å›¾ç‰‡, è§†é¢‘, è½¯ä»¶åº”ç”¨ç¨‹åº, ç”µå­é‚®ä»¶ç­‰]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[phpä¸Žcgi]]></title>
    <url>%2F2016%2F05%2F22%2Fhttp%E7%AC%94%E8%AE%B0%E4%B9%8Bphp%E4%B8%8Ecgi%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆï¼ŒCGIæ˜¯å¹²å˜›çš„ï¼ŸCGIæ˜¯ä¸ºäº†ä¿è¯web serverä¼ é€’è¿‡æ¥çš„æ•°æ®æ˜¯æ ‡å‡†æ ¼å¼çš„ï¼Œæ–¹ä¾¿CGIç¨‹åºçš„ç¼–å†™è€…ã€‚ web serverï¼ˆæ¯”å¦‚è¯´nginxï¼‰åªæ˜¯å†…å®¹çš„åˆ†å‘è€…ã€‚æ¯”å¦‚ï¼Œå¦‚æžœè¯·æ±‚/index.htmlï¼Œé‚£ä¹ˆweb serverä¼šåŽ»æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œå‘é€ç»™æµè§ˆå™¨ï¼Œè¿™é‡Œåˆ†å‘çš„æ˜¯é™æ€æ•°æ®ã€‚å¥½äº†ï¼Œå¦‚æžœçŽ°åœ¨è¯·æ±‚çš„æ˜¯/index.phpï¼Œæ ¹æ®é…ç½®æ–‡ä»¶ï¼ŒnginxçŸ¥é“è¿™ä¸ªä¸æ˜¯é™æ€æ–‡ä»¶ï¼Œéœ€è¦åŽ»æ‰¾PHPè§£æžå™¨æ¥å¤„ç†ï¼Œé‚£ä¹ˆä»–ä¼šæŠŠè¿™ä¸ªè¯·æ±‚ç®€å•å¤„ç†åŽäº¤ç»™PHPè§£æžå™¨ã€‚Nginxä¼šä¼ å“ªäº›æ•°æ®ç»™PHPè§£æžå™¨å‘¢ï¼Ÿurlè¦æœ‰å§ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²ä¹Ÿå¾—æœ‰å§ï¼ŒPOSTæ•°æ®ä¹Ÿè¦æœ‰ï¼ŒHTTP headerä¸èƒ½å°‘å§ï¼Œå¥½çš„ï¼ŒCGIå°±æ˜¯è§„å®šè¦ä¼ å“ªäº›æ•°æ®ã€ä»¥ä»€ä¹ˆæ ·çš„æ ¼å¼ä¼ é€’ç»™åŽæ–¹å¤„ç†è¿™ä¸ªè¯·æ±‚çš„åè®®ã€‚ä»”ç»†æƒ³æƒ³ï¼Œä½ åœ¨PHPä»£ç ä¸­ä½¿ç”¨çš„ç”¨æˆ·ä»Žå“ªé‡Œæ¥çš„ã€‚ å½“web serveræ”¶åˆ°/index.phpè¿™ä¸ªè¯·æ±‚åŽï¼Œä¼šå¯åŠ¨å¯¹åº”çš„CGIç¨‹åºï¼Œè¿™é‡Œå°±æ˜¯PHPçš„è§£æžå™¨ã€‚æŽ¥ä¸‹æ¥PHPè§£æžå™¨ä¼šè§£æžphp.iniæ–‡ä»¶ï¼Œåˆå§‹åŒ–æ‰§è¡ŒçŽ¯å¢ƒï¼Œç„¶åŽå¤„ç†è¯·æ±‚ï¼Œå†ä»¥è§„å®šCGIè§„å®šçš„æ ¼å¼è¿”å›žå¤„ç†åŽçš„ç»“æžœï¼Œé€€å‡ºè¿›ç¨‹ã€‚web serverå†æŠŠç»“æžœè¿”å›žç»™æµè§ˆå™¨ã€‚ å¥½äº†ï¼ŒCGIæ˜¯ä¸ªåè®®ï¼Œè·Ÿè¿›ç¨‹ä»€ä¹ˆçš„æ²¡å…³ç³»ã€‚é‚£fastcgiåˆæ˜¯ä»€ä¹ˆå‘¢ï¼ŸFastcgiæ˜¯ç”¨æ¥æé«˜CGIç¨‹åºæ€§èƒ½çš„ã€‚ æé«˜æ€§èƒ½ï¼Œé‚£ä¹ˆCGIç¨‹åºçš„æ€§èƒ½é—®é¢˜åœ¨å“ªå‘¢ï¼Ÿâ€PHPè§£æžå™¨ä¼šè§£æžphp.iniæ–‡ä»¶ï¼Œåˆå§‹åŒ–æ‰§è¡ŒçŽ¯å¢ƒâ€ï¼Œå°±æ˜¯è¿™é‡Œäº†ã€‚æ ‡å‡†çš„CGIå¯¹æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¿™äº›æ­¥éª¤ï¼ˆä¸é—²ç´¯å•Šï¼å¯åŠ¨è¿›ç¨‹å¾ˆç´¯çš„è¯´ï¼ï¼‰ï¼Œæ‰€ä»¥å¤„ç†æ¯ä¸ªæ—¶é—´çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚è¿™æ˜Žæ˜¾ä¸åˆç†å˜›ï¼é‚£ä¹ˆFastcgiæ˜¯æ€Žä¹ˆåšçš„å‘¢ï¼Ÿé¦–å…ˆï¼ŒFastcgiä¼šå…ˆå¯ä¸€ä¸ªmasterï¼Œè§£æžé…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–æ‰§è¡ŒçŽ¯å¢ƒï¼Œç„¶åŽå†å¯åŠ¨å¤šä¸ªworkerã€‚å½“è¯·æ±‚è¿‡æ¥æ—¶ï¼Œmasterä¼šä¼ é€’ç»™ä¸€ä¸ªworkerï¼Œç„¶åŽç«‹å³å¯ä»¥æŽ¥å—ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚è¿™æ ·å°±é¿å…äº†é‡å¤çš„åŠ³åŠ¨ï¼Œæ•ˆçŽ‡è‡ªç„¶æ˜¯é«˜ã€‚è€Œä¸”å½“workerä¸å¤Ÿç”¨æ—¶ï¼Œmasterå¯ä»¥æ ¹æ®é…ç½®é¢„å…ˆå¯åŠ¨å‡ ä¸ªworkerç­‰ç€ï¼›å½“ç„¶ç©ºé—²workerå¤ªå¤šæ—¶ï¼Œä¹Ÿä¼šåœæŽ‰ä¸€äº›ï¼Œè¿™æ ·å°±æé«˜äº†æ€§èƒ½ï¼Œä¹ŸèŠ‚çº¦äº†èµ„æºã€‚è¿™å°±æ˜¯fastcgiçš„å¯¹è¿›ç¨‹çš„ç®¡ç†ã€‚ é‚£PHP-FPMåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸€ä¸ªå®žçŽ°äº†Fastcgiçš„ç¨‹åºï¼Œè¢«PHPå®˜æ–¹æ”¶äº†ã€‚ å¤§å®¶éƒ½çŸ¥é“ï¼ŒPHPçš„è§£é‡Šå™¨æ˜¯php-cgiã€‚php-cgiåªæ˜¯ä¸ªCGIç¨‹åºï¼Œä»–è‡ªå·±æœ¬èº«åªèƒ½è§£æžè¯·æ±‚ï¼Œè¿”å›žç»“æžœï¼Œä¸ä¼šè¿›ç¨‹ç®¡ç†ï¼ˆçš‡ä¸Šï¼Œè‡£å¦¾çœŸçš„åšä¸åˆ°å•Šï¼ï¼‰æ‰€ä»¥å°±å‡ºçŽ°äº†ä¸€äº›èƒ½å¤Ÿè°ƒåº¦php-cgiè¿›ç¨‹çš„ç¨‹åºï¼Œæ¯”å¦‚è¯´ç”±lighthttpdåˆ†ç¦»å‡ºæ¥çš„spawn-fcgiã€‚å¥½äº†PHP-FPMä¹Ÿæ˜¯è¿™ä¹ˆä¸ªä¸œä¸œï¼Œåœ¨é•¿æ—¶é—´çš„å‘å±•åŽï¼Œé€æ¸å¾—åˆ°äº†å¤§å®¶çš„è®¤å¯ï¼ˆè¦çŸ¥é“ï¼Œå‰å‡ å¹´å¤§å®¶å¯æ˜¯æŠ±æ€¨PHP-FPMç¨³å®šæ€§å¤ªå·®çš„ï¼‰ï¼Œä¹Ÿè¶Šæ¥è¶Šæµè¡Œã€‚å¥½äº†ï¼Œæœ€åŽæ¥å›žæ¥ä½ çš„é—®é¢˜ã€‚ ç½‘ä¸Šæœ‰çš„è¯´ï¼Œfastcgiæ˜¯ä¸€ä¸ªåè®®ï¼Œphp-fpmå®žçŽ°äº†è¿™ä¸ªåè®® å¯¹ã€‚ æœ‰çš„è¯´ï¼Œphp-fpmæ˜¯fastcgiè¿›ç¨‹çš„ç®¡ç†å™¨ï¼Œç”¨æ¥ç®¡ç†fastcgiè¿›ç¨‹çš„ å¯¹ã€‚php-fpmçš„ç®¡ç†å¯¹è±¡æ˜¯php-cgiã€‚ä½†ä¸èƒ½è¯´php-fpmæ˜¯fastcgiè¿›ç¨‹çš„ç®¡ç†å™¨ï¼Œå› ä¸ºå‰é¢è¯´äº†fastcgiæ˜¯ä¸ªåè®®ï¼Œä¼¼ä¹Žæ²¡æœ‰è¿™ä¹ˆä¸ªè¿›ç¨‹å­˜åœ¨ï¼Œå°±ç®—å­˜åœ¨php-fpmä¹Ÿç®¡ç†ä¸äº†ä»–ï¼ˆè‡³å°‘ç›®å‰æ˜¯ï¼‰ã€‚ æœ‰çš„è¯´ï¼Œphp-fpmæ˜¯phpå†…æ ¸çš„ä¸€ä¸ªè¡¥ä¸ ä»¥å‰æ˜¯å¯¹çš„ã€‚å› ä¸ºæœ€å¼€å§‹çš„æ—¶å€™php-fpmæ²¡æœ‰åŒ…å«åœ¨PHPå†…æ ¸é‡Œé¢ï¼Œè¦ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦æ‰¾åˆ°ä¸Žæºç ç‰ˆæœ¬ç›¸åŒçš„php-fpmå¯¹å†…æ ¸æ‰“è¡¥ä¸ï¼Œç„¶åŽå†ç¼–è¯‘ã€‚åŽæ¥PHPå†…æ ¸é›†æˆäº†PHP-FPMä¹‹åŽå°±æ–¹ä¾¿å¤šäº†ï¼Œä½¿ç”¨â€“enalbe-fpmè¿™ä¸ªç¼–è¯‘å‚æ•°å³å¯ã€‚ æœ‰çš„è¯´ï¼Œä¿®æ”¹äº†php.inié…ç½®æ–‡ä»¶åŽï¼Œæ²¡åŠžæ³•å¹³æ»‘é‡å¯ï¼Œæ‰€ä»¥å°±è¯žç”Ÿäº†php-fpm æ˜¯çš„ï¼Œä¿®æ”¹php.iniä¹‹åŽï¼Œphp-cgiè¿›ç¨‹çš„ç¡®æ˜¯æ²¡åŠžæ³•å¹³æ»‘é‡å¯çš„ã€‚php-fpmå¯¹æ­¤çš„å¤„ç†æœºåˆ¶æ˜¯æ–°çš„workerç”¨æ–°çš„é…ç½®ï¼Œå·²ç»å­˜åœ¨çš„workerå¤„ç†å®Œæ‰‹ä¸Šçš„æ´»å°±å¯ä»¥æ­‡ç€äº†ï¼Œé€šè¿‡è¿™ç§æœºåˆ¶æ¥å¹³æ»‘è¿‡åº¦ã€‚ è¿˜æœ‰çš„è¯´PHP-CGIæ˜¯PHPè‡ªå¸¦çš„FastCGIç®¡ç†å™¨ï¼Œé‚£è¿™æ ·çš„è¯å¹²å—åˆå¼„ä¸ªphp-fpmå‡º ä¸å¯¹ã€‚php-cgiåªæ˜¯è§£é‡ŠPHPè„šæœ¬çš„ç¨‹åºè€Œå·²ã€‚ å‚è€ƒ]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>cgi</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vectorçš„å†…å­˜åˆ†é…ä¸Žä½¿ç”¨æ³¨æ„ç‚¹]]></title>
    <url>%2F2016%2F05%2F17%2Fvector%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E7%82%B9%2F</url>
    <content type="text"><![CDATA[å¢žé•¿æ–¹å¼ä¸ºäº†æ”¯æŒå¿«é€Ÿéšæœºè®¿é—® ï¼Œ vector å°†å…ƒç´ è¿žç»­å­˜å‚¨ä¸€ä¸€æ¯ä¸ªå…ƒç´ ç´§æŒ¨ç€å‰ä¸€ä¸ªå…ƒç´ å­˜å‚¨ ã€‚ å‡å®šå®¹å™¨ä¸­å…ƒç´ æ˜¯è¿žç»­å­˜å‚¨ çš„ï¼Œ ä¸”å®¹å™¨çš„å¤§å°æ˜¯å¯å˜çš„ ï¼Œ è€ƒè™‘ å‘ vector æˆ– stringä¸­æ·»åŠ å…ƒç´ ä¼šå‘ç”Ÿä»€ä¹ˆ : å¦‚æžœæ²¡æœ‰ç©ºé—´å®¹çº³æ–°å…ƒç´ ï¼Œå®¹å™¨ä¸å¯èƒ½ç®€å•åœ°å°†å®ƒæ·»åŠ åˆ°å†…å­˜ä¸­å…¶ä»–ä½ç½®ä¸€ä¸€å› ä¸ºå…ƒç´ å¿…é¡»è¿žç»­å­˜å‚¨ã€‚ å®¹å™¨å¿…é¡»åˆ†é…æ–°çš„å†…å­˜ç©ºé—´æ¥ä¿å­˜å·±æœ‰å…ƒç´ å’Œæ–°å…ƒç´  ï¼Œ å°†å·²æœ‰å…ƒç´ ä»Ž æ—§ä½ç½®ç§»åŠ¨åˆ°æ–°ç©º é—´ä¸­ï¼Œ ç„¶åŽæ·»åŠ æ–°å…ƒç´ ï¼Œé‡Šæ”¾æ—§å­˜å‚¨ç©ºé—´ ã€‚ å¦‚æžœæˆ‘ä»¬æ¯æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼Œ vector å°±æ‰§è¡Œä¸€æ¬¡è¿™æ ·çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æ“ä½œ ï¼Œæ€§èƒ½ä¼šæ…¢åˆ°ä¸å¯æŽ¥å— ã€‚ ä¸ºäº†é¿å…è¿™ç§ä»£ä»·ï¼Œæ ‡å‡†åº“å®žçŽ°è€…é‡‡ç”¨äº†å¯ä»¥å‡å°‘å®¹å™¨ç©ºé—´é‡æ–°åˆ†é…æ¬¡æ•°çš„ç­–ç•¥ã€‚ å½“ä¸å¾—ä¸åœ¨å–æ–°çš„å†… å­˜ç©ºé—´ æ—¶ï¼Œ vector å’Œ string çš„å®žçŽ°é€šå¸¸ä¼šåˆ†é…æ¯”æ–°çš„ç©ºé—´éœ€æ±‚æ›´å¤§çš„å†…å­˜ç©ºé—´ ã€‚ å®¹å™¨é¢„ç•™è¿™äº›ç©ºé—´ä½œä¸ºå¤‡ç”¨ ï¼Œ å¯ç”¨æ¥ä¿å­˜æ›´å¤šçš„æ–°å…ƒç´  ã€‚ è¿™æ ·ï¼Œå°±ä¸éœ€è¦æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ éƒ½é‡æ–°åˆ†é…å®¹å™¨çš„å†…å­˜ç©ºé—´äº† ã€‚ è¿™ç§åˆ†é…ç­–ç•¥æ¯”æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ æ—¶éƒ½é‡æ–°åˆ†é…å®¹å™¨å†…å­˜ç©ºé—´çš„ç­–ç•¥è¦é«˜æ•ˆå¾—å¤š ã€‚ å…¶å®žé™…æ€§èƒ½ä¹Ÿè¡¨çŽ°å¾—è¶³å¤Ÿå¥½ä¸€ä¸€è™½ç„¶ vector åœ¨æ¯æ¬¡é‡æ–°åˆ†é…å†…å­˜ç©ºé—´æ—¶éƒ½è¦ç§»åŠ¨æ‰€æœ‰å…ƒç´ ï¼Œä½†ä½¿ç”¨ æ­¤ç­–ç•¥åŽï¼Œå…¶æ‰©å¼ æ“ä½œé€šå¸¸æ¯” list å’Œ deque è¿˜è¦å¿« ã€‚ å¢žé•¿æ–¹å¼çš„å…·ä½“å®žçŽ°STLæä¾›äº†å¾ˆå¤šæ³›åž‹å®¹å™¨ï¼Œå¦‚vectorï¼Œlistå’Œmapã€‚ç¨‹åºå‘˜åœ¨ä½¿ç”¨è¿™äº›å®¹å™¨æ—¶åªéœ€å…³å¿ƒä½•æ—¶å¾€å®¹å™¨å†…å¡žå¯¹è±¡ï¼Œè€Œä¸ç”¨å…³å¿ƒå¦‚ä½•ç®¡ç†å†…å­˜ï¼Œéœ€è¦ç”¨å¤šå°‘å†…å­˜ï¼Œè¿™äº›STLå®¹å™¨æžå¤§åœ°æ–¹ä¾¿äº†C++ç¨‹åºçš„ç¼–å†™ã€‚ä¾‹å¦‚å¯ä»¥é€šè¿‡ä»¥ä¸‹è¯­å¥åˆ›å»ºä¸€ä¸ªvectorï¼Œå®ƒå®žé™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‰éœ€å¢žé•¿çš„åŠ¨æ€æ•°ç»„ï¼Œå…¶æ¯ä¸ªå…ƒç´ çš„ç±»åž‹ä¸ºintæ•´åž‹ï¼š stl::vector&lt;int&gt; array; æ‹¥æœ‰è¿™æ ·ä¸€ä¸ªåŠ¨æ€æ•°ç»„åŽï¼Œç”¨æˆ·åªéœ€è¦è°ƒç”¨push_backæ–¹æ³•å¾€é‡Œé¢æ·»åŠ å¯¹è±¡ï¼Œè€Œä¸éœ€è¦è€ƒè™‘éœ€è¦å¤šå°‘å†…å­˜ï¼š 12array.push_back(10); array.push_back(2); vectorä¼šæ ¹æ®éœ€è¦è‡ªåŠ¨å¢žé•¿å†…å­˜ï¼Œåœ¨arrayé€€å‡ºå…¶ä½œç”¨åŸŸæ—¶ä¹Ÿä¼šè‡ªåŠ¨é”€æ¯å æœ‰çš„å†…å­˜ï¼Œè¿™äº›å¯¹äºŽç”¨æˆ·æ¥è¯´æ˜¯é€æ˜Žçš„ï¼Œstlå®¹å™¨å·§å¦™çš„é¿å¼€äº†ç¹çä¸”æ˜“å‡ºé”™çš„å†…å­˜ç®¡ç†å·¥ä½œã€‚ éšè—åœ¨è¿™äº›å®¹å™¨åŽçš„å†…å­˜ç®¡ç†å·¥ä½œæ˜¯é€šè¿‡STLæä¾›çš„ä¸€ä¸ªé»˜è®¤çš„allocatorå®žçŽ°çš„ã€‚å½“ç„¶ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥å®šåˆ¶è‡ªå·±çš„allocatorï¼Œåªè¦å®žçŽ°allocatoræ¨¡æ¿æ‰€å®šä¹‰çš„æŽ¥å£æ–¹æ³•å³å¯ï¼Œç„¶åŽé€šè¿‡å°†è‡ªå®šä¹‰çš„allocatorä½œä¸ºæ¨¡æ¿å‚æ•°ä¼ é€’ç»™STLå®¹å™¨ï¼Œåˆ›å»ºä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰allocatorçš„STLå®¹å™¨å¯¹è±¡ï¼Œå¦‚ï¼š stl::vector&lt;int, UserDefinedAllocator&gt; array; å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒSTLé»˜è®¤çš„allocatorå°±å·²ç»è¶³å¤Ÿäº†ã€‚è¿™ä¸ªallocatoræ˜¯ä¸€ä¸ªç”±ä¸¤çº§åˆ†é…å™¨æž„æˆçš„å†…å­˜ç®¡ç†å™¨ï¼Œå½“ç”³è¯·çš„å†…å­˜å¤§å°å¤§äºŽ128byteæ—¶ï¼Œå°±å¯åŠ¨ç¬¬ä¸€çº§åˆ†é…å™¨é€šè¿‡mallocç›´æŽ¥å‘ç³»ç»Ÿçš„å †ç©ºé—´åˆ†é…ï¼Œå¦‚æžœç”³è¯·çš„å†…å­˜å¤§å°å°äºŽ128byteæ—¶ï¼Œå°±å¯åŠ¨ç¬¬äºŒçº§åˆ†é…å™¨ï¼Œä»Žä¸€ä¸ªé¢„å…ˆåˆ†é…å¥½çš„å†…å­˜æ± ä¸­å–ä¸€å—å†…å­˜äº¤ä»˜ç»™ç”¨æˆ·ï¼Œè¿™ä¸ªå†…å­˜æ± ç”±16ä¸ªä¸åŒå¤§å°ï¼ˆ8çš„å€æ•°ï¼Œ8~128byteï¼‰çš„ç©ºé—²åˆ—è¡¨ç»„æˆï¼Œallocatorä¼šæ ¹æ®ç”³è¯·å†…å­˜çš„å¤§å°ï¼ˆå°†è¿™ä¸ªå¤§å°round upæˆ8çš„å€æ•°ï¼‰ä»Žå¯¹åº”çš„ç©ºé—²å—åˆ—è¡¨å–è¡¨å¤´å—ç»™ç”¨æˆ·ã€‚ è¿™ç§åšæ³•æœ‰ä¸¤ä¸ªä¼˜ç‚¹ï¼š 1ï¼‰å°å¯¹è±¡çš„å¿«é€Ÿåˆ†é…ã€‚å°å¯¹è±¡æ˜¯ä»Žå†…å­˜æ± åˆ†é…çš„ï¼Œè¿™ä¸ªå†…å­˜æ± æ˜¯ç³»ç»Ÿè°ƒç”¨ä¸€æ¬¡mallocåˆ†é…ä¸€å—è¶³å¤Ÿå¤§çš„åŒºåŸŸç»™ç¨‹åºå¤‡ç”¨ï¼Œå½“å†…å­˜æ± è€—å°½æ—¶å†å‘ç³»ç»Ÿç”³è¯·ä¸€å—æ–°çš„åŒºåŸŸï¼Œæ•´ä¸ªè¿‡ç¨‹ç±»ä¼¼äºŽæ‰¹å‘å’Œé›¶å”®ï¼Œèµ·å…ˆæ˜¯ç”±allocatorå‘æ€»ç»å•†æ‰¹å‘ä¸€å®šé‡çš„è´§ç‰©ï¼Œç„¶åŽé›¶å”®ç»™ç”¨æˆ·ï¼Œä¸Žæ¯æ¬¡éƒ½æ€»ç»å•†è¦ä¸€ä¸ªè´§ç‰©å†é›¶å”®ç»™ç”¨æˆ·çš„è¿‡ç¨‹ç›¸æ¯”ï¼Œæ˜¾ç„¶æ˜¯å¿«æ·äº†ã€‚å½“ç„¶ï¼Œè¿™é‡Œçš„ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå†…å­˜æ± ä¼šå¸¦æ¥ä¸€äº›å†…å­˜çš„æµªè´¹ï¼Œæ¯”å¦‚å½“åªéœ€åˆ†é…ä¸€ä¸ªå°å¯¹è±¡æ—¶ï¼Œä¸ºäº†è¿™ä¸ªå°å¯¹è±¡å¯èƒ½è¦ç”³è¯·ä¸€å¤§å—çš„å†…å­˜æ± ï¼Œä½†è¿™ä¸ªæµªè´¹è¿˜æ˜¯å€¼å¾—çš„ï¼Œå†µä¸”è¿™ç§æƒ…å†µåœ¨å®žé™…åº”ç”¨ä¸­ä¹Ÿå¹¶ä¸å¤šè§ã€‚ 2ï¼‰é¿å…äº†å†…å­˜ç¢Žç‰‡çš„ç”Ÿæˆã€‚ç¨‹åºä¸­çš„å°å¯¹è±¡çš„åˆ†é…æžæ˜“é€ æˆå†…å­˜ç¢Žç‰‡ï¼Œç»™æ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†å¸¦æ¥äº†å¾ˆå¤§åŽ‹åŠ›ï¼Œç³»ç»Ÿä¸­ç¢Žç‰‡çš„å¢žå¤šä¸ä½†ä¼šå½±å“å†…å­˜åˆ†é…çš„é€Ÿåº¦ï¼Œè€Œä¸”ä¼šæžå¤§åœ°é™ä½Žå†…å­˜çš„åˆ©ç”¨çŽ‡ã€‚ä»¥å†…å­˜æ± ç»„ç»‡å°å¯¹è±¡çš„å†…å­˜ï¼Œä»Žç³»ç»Ÿçš„è§’åº¦çœ‹ï¼Œåªæ˜¯ä¸€å¤§å—å†…å­˜æ± ï¼Œçœ‹ä¸åˆ°å°å¯¹è±¡å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ã€‚ vectorçš„å†…å­˜é‡Šæ”¾ç”±äºŽvectorçš„å†…å­˜å ç”¨ç©ºé—´åªå¢žä¸å‡ï¼Œæ¯”å¦‚ä½ é¦–å…ˆåˆ†é…äº†10,000ä¸ªå­—èŠ‚ï¼Œ ç„¶åŽeraseæŽ‰åŽé¢9,999ä¸ªï¼Œç•™ä¸‹ä¸€ä¸ªæœ‰æ•ˆå…ƒç´ ï¼Œä½†æ˜¯å†…å­˜å ç”¨ä»ä¸º10,000ä¸ªã€‚ æ‰€æœ‰å†…å­˜ç©ºé—´æ˜¯åœ¨vectoræžæž„æ—¶å€™æ‰èƒ½è¢«ç³»ç»Ÿå›žæ”¶ã€‚empty()ç”¨æ¥æ£€æµ‹å®¹å™¨æ˜¯å¦ä¸ºç©ºçš„ï¼Œ clear()å¯ä»¥æ¸…ç©ºæ‰€æœ‰å…ƒç´ ã€‚ä½†æ˜¯å³ä½¿clear()ï¼Œ vectoræ‰€å ç”¨çš„å†…å­˜ç©ºé—´ä¾ç„¶å¦‚æ•…ï¼Œæ— æ³•ä¿è¯å†…å­˜çš„å›žæ”¶ã€‚ å¦‚æžœéœ€è¦ç©ºé—´åŠ¨æ€ç¼©å°ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨dequeã€‚å¦‚æžœvectorï¼Œå¯ä»¥ç”¨swap()æ¥å¸®åŠ©ä½ é‡Šæ”¾å†…å­˜ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š vector&lt;Point&gt;().swap(pointVec); //æˆ–è€…pointVec.swap(vector&lt;Point&gt; ()) è¿­ä»£å™¨å¤±æ•ˆçœ‹äº†ä¸Šæ–¹çš„å®žçŽ°æ–¹å¼, ç›¸ä¿¡å¾ˆå®¹æ˜“èƒ½ç†è§£è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜äº†å•Š å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ å’Œä»Žå®¹å™¨ä¸­åˆ é™¤å…ƒç´  çš„æ“ä½œå¯èƒ½(ä¸‹é¢å°†ä¼šè®¨è®ºä¸ºä»€ä¹ˆæ˜¯å¯èƒ½)ä¼šä½¿æŒ‡å‘å®¹å™¨å…ƒç´ çš„æŒ‡é’ˆã€å¼•ç”¨æˆ–æ³•ä»£å™¨å¤±æ•ˆã€‚ ä¸€ä¸ªå¤±æ•ˆçš„æŒ‡é’ˆã€å¼•ç”¨æˆ–æ³•ä»£å™¨å°†ä¸å†è¡¨ç¤ºä»»ä½•å…ƒç´  ã€‚ ä½¿ç”¨å¤±æ•ˆçš„æŒ‡é’ˆã€å¼•ç”¨æˆ–è¿­ä»£å™¨æ˜¯ä¸€ç§ä¸¥é‡çš„ç¨‹åºè®¾è®¡é”™è¯¯ï¼Œå¾ˆå¯èƒ½å¼•èµ·ä¸Žä½¿ç”¨æœªåˆå§‹åŒ–æŒ‡é’ˆä¸€æ ·çš„é—®é¢˜ ä»¥ä¸‹ä¸‰ç§æƒ…å†µéƒ½æ˜¯åœ¨ubuntu g++çŽ¯å¢ƒæµ‹è¯•çš„, ä¸åŒå¹³å°ä¸åŒç¼–è¯‘å™¨ä¼šæœ‰ä¸åŒè¡¨çŽ°, æ¯”å¦‚åŒæ ·çš„ä»£ç æœ‰å¯èƒ½ä¼šåœ¨vsä¸‹å´©æºƒæ‰€ä»¥ å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ å’Œä»Žå®¹å™¨ä¸­åˆ é™¤å…ƒç´  çš„æ“ä½œéƒ½éœ€è¦é‡ç½®ä¸€ä¸‹è¿­ä»£å™¨ : i = q.insert(i,22); i = q.erase(i); åˆ é™¤å…ƒç´ 123456789101112131415161718192021//eraseæ“ä½œ#include&lt;vector&gt;#include&lt;iostream&gt;using namespace std;int main()&#123; vector&lt;int&gt;q&#123;1,2,3,4,5,6,7,8,9,10&#125;; int cnt = 0; int flag = 0; for(vector&lt;int&gt;::iterator i = q.begin(); i != q.end(); ++i)&#123; ++cnt; if(cnt &gt; 15)&#123; cout&lt;&lt;&quot;gg&quot;&lt;&lt;endl; break; &#125; if(*i == 3) //åˆ é™¤ç¬¬ä¸‰ä¸ª i = q.erase(i); cout &lt;&lt; *i &lt;&lt; endl; cout &lt;&lt; &amp;(*i) &lt;&lt; endl; &#125; return 0;&#125; output:12345678910111213141516171810xc7215820xc7215c40xc7216050xc7216460xc7216870xc7216c80xc7217090xc72174100xc72178 è¾“å‡ºç»“æžœåˆ†æž: å½“åˆ é™¤ç¬¬3ä¸ªå…ƒç´ ä»¥åŽæˆ‘ä»¬å‘çŽ°ç¬¬å››ä¸ªå…ƒç´ æ˜¯ç´§é‚»ç¬¬äºŒä¸ªå…ƒç´ çš„ï¼ˆåˆšå¥½å·®ä¸€ä¸ªintçš„å†…å­˜ï¼‰ ä¹Ÿå°±æ˜¯è¯´vectoræ‰§è¡Œeraseï¼ˆiï¼‰åŽä¼šå°†è¿­ä»£å™¨iä¹‹åŽçš„å…ƒç´ é€ä¸ªå‘å‰ç§»åŠ¨ä¸€ä¸ªtypeå•ä½, æ‰€ä»¥å…¶å®žè¿™ç§c++å®žçŽ°è¿­ä»£å™¨æ²¡å¤±æ•ˆ ä½†æ˜¯å…¶ä»–çš„c++å®žçŽ°, æœ‰å¯èƒ½æ‰€æœ‰å…ƒç´ å…¨éƒ¨ç§»åˆ°å¦å¤–ä¸€å—å†…å­˜, æ¯”å¦‚è¿™æ®µä»£ç æ”¾åˆ°vsæ˜¯ä¼šå´©æºƒçš„ æ·»åŠ å…ƒç´ æ—¶è‹¥é¢„åˆ†é…çš„å†…å­˜è¶³å¤Ÿè¿­ä»£å™¨å°±ä¸ä¼šå¤±æ•ˆ123456789101112131415161718192021222324252627282930//insertæ“ä½œ//å†…å­˜å……è¶³æƒ…å†µ#include&lt;vector&gt;#include&lt;iostream&gt;using namespace std;int main()&#123; vector&lt;int&gt;q&#123;1,2,3,4,5,6,7,8,9,10&#125;; q.push_back(11); cout&lt;&lt;&quot;åˆå§‹vectoråˆ†é…çš„å®¹é‡:&quot;&lt;&lt;q.capacity()&lt;&lt;endl; int cnt = 0; int flag = 0; //flagä¿è¯åªæ’å…¥ä¸€æ¬¡ for(vector&lt;int&gt;::iterator i = q.begin(); i != q.end(); ++i)&#123; ++cnt; if(cnt &gt; 15)&#123; cout&lt;&lt; &quot;gg&quot; &lt;&lt;endl; break; &#125; if(*i == 3&amp;&amp;!flag)&#123; flag = 1; i = q.insert(i,22); cout&lt;&lt;&quot;æ’å…¥å…ƒç´ åŽvectoråˆ†é…çš„å®¹é‡:&quot; &lt;&lt;q.capacity() &lt;&lt;endl; &#125; cout &lt;&lt; *i &lt;&lt; endl; cout &lt;&lt; &amp;(*i) &lt;&lt; endl; &#125; return 0;&#125; è¾“å‡ºä¸º:1234567891011121314151617181920212223242526åˆå§‹vectoråˆ†é…çš„å®¹é‡:20 1 0x1f2188 2 0x1f218c æ’å…¥å…ƒç´ åŽvectoråˆ†é…çš„å®¹é‡:20 22 0x1f2190 3 0x1f2194 4 0x1f2198 5 0x1f219c 6 0x1f21a0 7 0x1f21a4 8 0x1f21a8 9 0x1f21ac 10 0x1f21b0 11 0x1f21b4 è¾“å‡ºç»“æžœåˆ†æž: å¾ˆæ˜¾ç„¶å½“å†…å­˜å……è¶³çš„æƒ…å†µä¸‹, æ‰§è¡Œinsertæ“ä½œåªä¼šå°†è¿­ä»£å™¨iåŠiä¹‹åŽçš„çš„æ‰€æœ‰å…ƒç´ å‘åŽç§»åŠ¨ä¸€ä¸ªtypeå•ä½.æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹å³ä½¿æ²¡æœ‰ä½¿ç”¨è¿”å›žå€¼ä¹Ÿä¸ä¼šå‘ç”Ÿè¿­ä»£å™¨å¤±æ•ˆ æ·»åŠ å…ƒç´ æ—¶è‹¥é¢„åˆ†é…çš„å†…å­˜ä¸è¶³è¿­ä»£å™¨å°±ä¼šå¤±æ•ˆ1234567891011121314151617181920212223242526272829303132333435//insertæ“ä½œ//å†…å­˜ä¸å¤Ÿæƒ…å†µ#include&lt;vector&gt;#include&lt;iostream&gt;using namespace std;int main()&#123; vector&lt;int&gt;q&#123;1,2,3,4,5,6,7,8,9,10&#125;; // c++11åˆ—è¡¨åˆå§‹åŒ– vector&lt;int&gt;::iterator j = q.begin(); j++; cout&lt;&lt;&quot;ç¬¬äºŒä¸ªå…ƒç´ :&quot;&lt;&lt;*j&lt;&lt;endl; cout&lt;&lt;&quot;ç¬¬äºŒä¸ªå…ƒç´ åœ°å€:&quot;&lt;&lt;&amp;(*j)&lt;&lt;endl; cout&lt;&lt;&quot;åˆå§‹vectoråˆ†é…çš„å®¹é‡:&quot;&lt;&lt;q.capacity()&lt;&lt;endl; // æœ‰å¤šå°‘å…ƒç´ å³åˆ†é…å¤šå°‘å†…å­˜ int cnt = 0; int flag = 0; //flagä¿è¯åªæ’å…¥ä¸€æ¬¡ for(vector&lt;int&gt;::iterator i = q.begin(); i != q.end(); ++i)&#123; ++cnt; if(cnt &gt; 15)&#123; cout&lt;&lt; &quot;gg&quot; &lt;&lt;endl; break; &#125; if(*i == 3&amp;&amp;!flag)&#123; flag = 1; i = q.insert(i,22); cout&lt;&lt;&quot;\næ’å…¥åŽç¬¬äºŒä¸ªå…ƒç´ :&quot;&lt;&lt;*j&lt;&lt;endl; cout&lt;&lt;&quot;æ’å…¥åŽç¬¬äºŒä¸ªå…ƒç´ åœ°å€:&quot;&lt;&lt;&amp;(*j)&lt;&lt;endl; cout&lt;&lt;&quot;æ’å…¥å…ƒç´ åŽvectoråˆ†é…çš„å®¹é‡:&quot; &lt;&lt;q.capacity() &lt;&lt;endl; &#125; cout &lt;&lt; *i &lt;&lt; endl; cout &lt;&lt; &amp;(*i) &lt;&lt; endl; &#125; return 0;&#125; output:1234567891011121314151617181920212223242526272829ç¬¬äºŒä¸ªå…ƒç´ :2 ç¬¬äºŒä¸ªå…ƒç´ åœ°å€:0xe5215c åˆå§‹vectoråˆ†é…çš„å®¹é‡:10 1 0xe52158 2 0xe5215c æ’å…¥åŽç¬¬äºŒä¸ªå…ƒç´ :15007936 æ’å…¥åŽç¬¬äºŒä¸ªå…ƒç´ åœ°å€:0xe5215c æ’å…¥å…ƒç´ åŽvectoråˆ†é…çš„å®¹é‡:20 22 0xe52190 3 0xe52194 4 0xe52198 5 0xe5219c 6 0xe521a0 7 0xe521a4 8 0xe521a8 9 0xe521ac 10 0xe521b0 è¾“å‡ºç»“æžœåˆ†æž: vectorå†…å­˜åˆ†é…ç­–ç•¥ä¸º äºŒå€æ‰©å®¹ , æ¯æ¬¡å½“å†…å­˜ä¸å¤Ÿçš„æƒ…å†µä¸‹vectorä¼šå°†å®¹é‡æ‰©å±•ä¸ºå½“å‰çš„ä¸¤å€. é‚£è¿™äº›æ–°åˆ†é…çš„ä¼šåœ¨åŽŸå†…å­˜çš„åŽé¢å—ï¼Ÿ æ ¹æ®è¾“å‡ºç»“æžœæ˜¾ç„¶ä¸æ˜¯çš„ã€‚ ä¸Šä¾‹ä»£ç åœ¨æ’å…¥å…ƒç´ 22 åŽ, æ–°çš„3å·å…ƒç´ å†…å­˜ä½ç½®è·ç¦»ä¸Šä¸€ä¸ªå…ƒç´ ä¸æ˜¯4byte(1ä¸ªintå•ä½), ä¹Ÿå°±æ˜¯è¯´ å½“vectoræ‰©å®¹æ—¶, ä¼šåœ¨å¦ä¸€ä¸ªå†…å­˜åˆ†é…ä¸€æ®µæ–°çš„å†…å­˜(åŽŸå†…å­˜çš„äºŒå€). å¹¶æŠŠåŽŸå†…å­˜ä¸­çš„å…ƒç´ å…¨éƒ¨æ‹·è´åˆ°æ–°å†…å­˜ä¸­â€¦ æŒ‡å‘äºŒå·å…ƒç´ çš„è¿­ä»£å™¨åœ¨æ’å…¥æ“ä½œä¹‹åŽæŒ‡å‘çš„å€¼ç”±2å˜æˆäº†15007936,ä¹ŸéªŒè¯äº†ä¸Šè¿°ç»“è®º. capacity &amp; size ç†è§£ capacity å’Œ size çš„åŒºåˆ«éžå¸¸é‡è¦ã€‚ å®¹å™¨çš„ size æ˜¯æŒ‡å®ƒå·²ç»ä¿å­˜çš„å…ƒç´ çš„æ•°ç›® ; è€Œ capacity åˆ™æ˜¯åœ¨ä¸åˆ†é…æ–°çš„å†…å­˜ç©ºé—´çš„å‰æä¸‹å®ƒæœ€å¤šå¯ä»¥ä¿å­˜å¤šå°‘å…ƒç´ ã€‚ å‡½æ•° å‡½æ•° è¡¨è¿° c.assign(beg,end) å°†[beg; end)åŒºé—´ä¸­çš„æ•°æ®èµ‹å€¼ç»™cã€‚ c.assign(n,elem) å°†nä¸ªelemçš„æ‹·è´èµ‹å€¼ç»™cã€‚ c.at(idx) ä¼ å›žç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®ï¼Œå¦‚æžœidxè¶Šç•Œï¼ŒæŠ›å‡ºout_of_rangeã€‚ c.back() ä¼ å›žæœ€åŽä¸€ä¸ªæ•°æ®ï¼Œä¸æ£€æŸ¥è¿™ä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ã€‚ c.begin() ä¼ å›žè¿­ä»£å™¨é‡çš„å¯ä¸€ä¸ªæ•°æ®ã€‚ c.capacity() è¿”ä¸åˆ†é…æ–°çš„å†…å­˜ç©ºé—´çš„å‰æä¸‹å®ƒæœ€å¤šå¯ä»¥ä¿å­˜å¤šå°‘å…ƒç´ ã€‚ c.clear() ç§»é™¤å®¹å™¨ä¸­æ‰€æœ‰æ•°æ®ã€‚ c.empty() åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚ c.end() æŒ‡å‘è¿­ä»£å™¨ä¸­çš„æœ€åŽä¸€ä¸ªæ•°æ®åœ°å€ã€‚ c.erase(iter) åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œä¼ å›žä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚ c.erase(beg,end) åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œä¼ å›žä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚ c.front() ä¼ å›žç¬¬ä¸€ä¸ªæ•°æ®ã€‚ get_allocator ä½¿ç”¨æž„é€ å‡½æ•°è¿”å›žä¸€ä¸ªæ‹·è´ã€‚ c.insert(iter,elem) åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemæ‹·è´ï¼Œä¼ å›žæ–°æ•°æ®ä½ç½®ã€‚ c.insert(pos,n,elem) åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ã€‚æ— è¿”å›žå€¼ã€‚ c.insert(pos,beg,end) åœ¨posä½ç½®æ’å…¥åœ¨[beg,end)åŒºé—´çš„æ•°æ®ã€‚æ— è¿”å›žå€¼ã€‚ c.max_size() è¿”å›žå®¹å™¨ä¸­æœ€å¤§æ•°æ®çš„æ•°é‡ã€‚ c.pop_back() åˆ é™¤æœ€åŽä¸€ä¸ªæ•°æ®ã€‚ c.push_back(elem) åœ¨å°¾éƒ¨åŠ å…¥ä¸€ä¸ªæ•°æ®ã€‚ c.rbegin() ä¼ å›žä¸€ä¸ªé€†å‘é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªæ•°æ®ã€‚ c.rend() ä¼ å›žä¸€ä¸ªé€†å‘é˜Ÿåˆ—çš„æœ€åŽä¸€ä¸ªæ•°æ®çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚ c.resize(num) é‡æ–°æŒ‡å®šé˜Ÿåˆ—çš„é•¿åº¦ã€‚ c.reserve() ä¿ç•™é€‚å½“çš„å®¹é‡ã€‚ c.size() è¿”å›žå®¹å™¨ä¸­å®žé™…æ•°æ®çš„ä¸ªæ•°ã€‚ c1.swap(c2) å°†c1å’Œc2å…ƒç´ äº’æ¢ã€‚ swap(c1,c2) åŒä¸Šæ“ä½œã€‚ æž„é€  &amp; é”€æ¯ å†™æ³• è¡¨è¿° vector c åˆ›å»ºä¸€ä¸ªç©ºçš„vectorã€‚ vector c1(c2) å¤åˆ¶ä¸€ä¸ªvectorã€‚ vector c(n) åˆ›å»ºä¸€ä¸ªvectorï¼Œå«æœ‰nä¸ªæ•°æ®ï¼Œæ•°æ®å‡å·²ç¼ºçœæž„é€ äº§ç”Ÿã€‚ vector c(n, elem) åˆ›å»ºä¸€ä¸ªå«æœ‰nä¸ªelemæ‹·è´çš„vectorã€‚ vector c(beg,end) åˆ›å»ºä¸€ä¸ªä»¥[beg;end)åŒºé—´çš„vectorã€‚ c.~ vector () é”€æ¯æ‰€æœ‰æ•°æ®ï¼Œé‡Šæ”¾å†…å­˜ã€‚]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>stl</tag>
        <tag>vector</tag>
        <tag>string</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[stlå…³è”å®¹å™¨çš„ç‰¹æ€§]]></title>
    <url>%2F2016%2F04%2F26%2Fstl%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8%E7%9A%84%E7%89%B9%E6%80%A7%2F</url>
    <content type="text"><![CDATA[æ¦‚ç» å…³è”å®¹å™¨å’Œ é¡ºåºå®¹å™¨æœ‰ç€æ ¹æœ¬çš„ä¸é—® : å…³è”å®¹å™¨ä¸­çš„å…ƒç´ æ˜¯æŒ‰å…³é”®å­—æ¥ä¿åœ¨å’Œè®¿é—®çš„ ã€‚ ä¸Žä¹‹ç›¸å¯¹ï¼Œé¡ºåºå®¹å™¨ä¸­çš„å…ƒç´ æ˜¯æŒ‰å®ƒä»¬åœ¨å®¹å™¨ä¸­çš„ä½ç½®æ¥é¡ºåºä¿å­˜å’Œè®¿é—®çš„ ã€‚ å…³è”å®¹å™¨æ”¯æŒé«˜æ•ˆçš„å…³é”®å­—æŸ¥æ‰¾å’Œè®¿é—® ã€‚ ä¸¤ä¸ªä¸»è¦çš„å…³è”å®¹å™¨ç±»åž‹æ˜¯ map set map ä¸­ çš„å…ƒç´ æ˜¯ä¸€äº›å…³é”®å­—ä¸€å€¼ ( key-value )å¯¹ : å…³é”®å­—èµ·åˆ°ç´¢ å¼• çš„ä½œç”¨ï¼Œå€¼åˆ™è¡¨ç¤ºä¸Žç´¢å¼•ç›¸å…³è”çš„æ•°æ® ã€‚ set ä¸­æ¯ä¸ªå…ƒç´ åªåŒ…å«ä¸€ä¸ªå…³é”®å­— : set æ”¯æŒé«˜æ•ˆçš„å…³é”®å­—æ£€æŸ¥ä¸€ä¸ªç»™å®šå…³é”®å­—æ˜¯å¦åœ¨ set ä¸­ ã€‚ ä¾‹å¦‚ï¼Œåœ¨æŸäº›æ–‡æœ¬å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª set æ¥ä¿å­˜æƒ³è¦å¿½ç•¥çš„å•è¯ã€‚å­—å…¸åˆ™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½¿ç”¨ map çš„ä¾‹å­ : å¯ ä»¥å°†å•è¯ä½œä¸ºå…³é”®å­— ï¼Œ å°†å•è¯é‡Šä¹‰ä½œä¸ºå€¼ ã€‚ map &amp; set çš„å®žçŽ°å› ä¸ºéœ€è¦å¿«é€Ÿå®šä½åˆ°é”®å€¼çš„å…³ç³», ä»¥çº¢é»‘æ ‘çš„ç»“æž„å®žçŽ°ï¼Œå…¶è‡ªå¹³è¡¡ç‰¹æ€§å¯ä»¥è®©æ’å…¥åˆ é™¤ç­‰æ“ä½œéƒ½å¯ä»¥åœ¨O(log n)æ—¶é—´å†…å®Œæˆ mapçš„åŸºæœ¬æ“ä½œå‡½æ•° å‡½æ•° å«ä¹‰ begin() è¿”å›žæŒ‡å‘mapå¤´éƒ¨çš„è¿­ä»£å™¨ clear(ï¼‰ åˆ é™¤æ‰€æœ‰å…ƒç´  count() è¿”å›žæŒ‡å®šå…ƒç´ å‡ºçŽ°çš„æ¬¡æ•° empty() å¦‚æžœmapä¸ºç©ºåˆ™è¿”å›žtrue end() è¿”å›žæŒ‡å‘mapæœ«å°¾çš„è¿­ä»£å™¨ equal_range() è¿”å›žç‰¹æ®Šæ¡ç›®çš„è¿­ä»£å™¨å¯¹ erase() åˆ é™¤ä¸€ä¸ªå…ƒç´  find() æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´  get_allocator() è¿”å›žmapçš„é…ç½®å™¨ insert() æ’å…¥å…ƒç´  key_comp() è¿”å›žæ¯”è¾ƒå…ƒç´ keyçš„å‡½æ•° lower_bound() è¿”å›žé”®å€¼&gt;=ç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½® max_size() è¿”å›žå¯ä»¥å®¹çº³çš„æœ€å¤§å…ƒç´ ä¸ªæ•° rbegin() è¿”å›žä¸€ä¸ªæŒ‡å‘mapå°¾éƒ¨çš„é€†å‘è¿­ä»£å™¨ rend() è¿”å›žä¸€ä¸ªæŒ‡å‘mapå¤´éƒ¨çš„é€†å‘è¿­ä»£å™¨ size() è¿”å›žmapä¸­å…ƒç´ çš„ä¸ªæ•° swap() äº¤æ¢ä¸¤ä¸ªmap upper_bound() è¿”å›žé”®å€¼&gt;ç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½® value_comp() è¿”å›žæ¯”è¾ƒå…ƒç´ valueçš„å‡½æ•° è¿­ä»£å™¨å¤±æ•ˆ123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;map&gt;#include &lt;string&gt;#include &lt;iostream&gt;using namespace std;int main()&#123; map&lt;int, string&gt; map_student; map_student.insert(pair&lt;int, string&gt;(1, &quot;stu1&quot;)); map_student.insert(pair&lt;int, string&gt;(2, &quot;stu2&quot;)); map_student.insert(pair&lt;int, string&gt;(3, &quot;stu3&quot;)); map_student.insert(pair&lt;int, string&gt;(4, &quot;stu4&quot;)); map&lt;int, string&gt;::iterator iter; if (map_student.find(2) != map_student.end()) &#123; cout &lt;&lt; &quot;found&quot; &lt;&lt; endl; &#125; for (iter = map_student.begin(); iter != map_student.end(); iter++) &#123; if (iter-&gt;first == 2) &#123; map_student.erase(iter); // ç§»é™¤å…ƒç´ ä¼šè®©è¿­ä»£å™¨å¤±æ•ˆ, æ‰€ä»¥ä¸Šé¢è¿™è¡Œåº”æ”¹ä¸º:iter = map_student.erase(iter); // map_student.insert(pair&lt;int, string&gt;(5, &quot;stu5&quot;)); // mapå¢žåŠ å…ƒç´ å¹¶ä¸ä¼šä½¿è¿­ä»£å™¨å¤±æ•ˆ, å› ä¸ºmapå¢žåŠ å…ƒç´ è·Ÿvectorä¸ä¸€æ ·, // vectorè¦é‡æ–°æ‰¾ä¸€å—å†…å­˜æŠŠå½“å‰æ‰€æœ‰å…ƒç´ å¤åˆ¶è¿‡åŽ»å¹¶é‡Šæ”¾åŽŸæœ‰å…ƒç´ æ‰€ä»¥ä¼šå¯¼è‡´vectorçš„è¿­ä»£å™¨å¤±æ•ˆ, // ä½†æ˜¯mapåªæ˜¯ç›´æŽ¥åœ¨çº¢é»‘æ ‘ä¸Šå¢žåŠ ä¸€ä¸ªç»“ç‚¹è€Œå·², å¹¶ä¸ä¼šç§»åŠ¨åŽŸæœ‰å…ƒç´ , å†…å­˜æ²¡åŠ¨, // è‡ªç„¶mapçš„è¿­ä»£å™¨ä¸ä¼šå¤±æ•ˆäº† &#125; cout &lt;&lt; iter-&gt;first &lt;&lt; &quot; : &quot; &lt;&lt; iter-&gt;second &lt;&lt; endl; &#125; return 0;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>stl</tag>
        <tag>map</tag>
        <tag>set</tag>
        <tag>pair</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5åˆ†é’Ÿå­¦ä¼šgit(äºŒ)]]></title>
    <url>%2F2016%2F04%2F13%2F5%E5%88%86%E9%92%9F%E5%AD%A6%E4%BC%9Agit(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[è´®è—stash è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯åšæ–°çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™çªç„¶æœ‰ä¸€ä¸ªç´§æ€¥çš„bugéœ€è¦ä¿®å¤ï¼Œè€Œä¸”ä¿®å¤å®Œä¹‹åŽéœ€è¦ç«‹å³å‘å¸ƒã€‚å½“ç„¶ä½ è¯´æˆ‘å…ˆæŠŠåˆšå†™çš„ä¸€ç‚¹ä»£ç è¿›è¡Œæäº¤ä¸å°±è¡Œäº†ä¹ˆï¼Ÿè¿™æ ·ç†è®ºä¸Šå½“ç„¶æ˜¯okçš„ï¼Œä½†æ˜¯è¿™ä¼šäº§å“åžƒåœ¾commitï¼ŒåŽŸåˆ™ä¸Šæˆ‘ä»¬æ¯æ¬¡çš„commitéƒ½è¦æœ‰å®žé™…çš„æ„ä¹‰ï¼Œä½ çš„ä»£ç åªæ˜¯åˆšå†™äº†ä¸€åŠï¼Œè¿˜æ²¡æœ‰ä»€ä¹ˆå®žé™…çš„æ„ä¹‰æ˜¯ä¸å»ºè®®å°±è¿™æ ·commitçš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ¯”è¾ƒå¥½çš„åŠžæ³•ï¼Œå¯ä»¥è®©æˆ‘æš‚æ—¶åˆ‡åˆ°åˆ«çš„åˆ†æ”¯ï¼Œä¿®å¤å®Œbugå†åˆ‡å›žæ¥ï¼Œè€Œä¸”ä»£ç ä¹Ÿèƒ½ä¿ç•™çš„å‘¢ï¼Ÿ è¯•è¯•git stashå§ git stash : æŠŠå½“å‰çš„æ–‡ä»¶æ”¹åŠ¨è´®è—èµ·æ¥ git stash list: æŸ¥çœ‹å½“å‰æœ‰å“ªäº›è´®è—è®°å½• git stash pop stash_list_id: ä¼šå¸®ä½ æŠŠä»£ç è¿˜åŽŸï¼Œè¿˜è‡ªåŠ¨å¸®ä½ æŠŠè¿™æ¡ stash è®°å½•åˆ é™¤ 12345678910111213141516171819202122232425b@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git checkout old_demo error: Your local changes to the following files would be overwritten by checkout: README.mdPlease, commit your changes or stash them before you can switch branches.Abortingb@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git stash Saved working directory and index state WIP on new_test_branch: b3ad5d2 modify mdHEAD is now at b3ad5d2 modify mdb@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git checkout old_demo Switched to branch &apos;old_demo&apos;Your branch is up-to-date with &apos;origin/old_demo&apos;.b@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git checkout new_test_branch Switched to branch &apos;new_test_branch&apos;b@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git stash liststash@&#123;0&#125;: WIP on new_test_branch: b3ad5d2 modify mdb@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git stash pop stash@&#123;0&#125;On branch new_test_branchChanges not staged for commit: (use &quot;git add &lt;file&gt;...&quot; to update what will be committed) (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) modified: README.mdno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)Dropped stash@&#123;0&#125; (88cd440c10c80bb6eaef9f4d86ab4a0be3d6dc00) å¯¹æ¯”diff æ¯”å¦‚æŸ¥çœ‹å½“å‰è¿˜æœªgit addçš„æ–‡ä»¶çš„ä¸åŒ : git diff æ¯”å¦‚æŸ¥çœ‹å½“å‰å·²ç»add æ²¡æœ‰commit çš„æ”¹åŠ¨ : git diff â€“cached æ¯”å¦‚æŸ¥çœ‹å½“å‰æ‰€æœ‰æ”¹åŠ¨å’ŒHEADçš„åŒºåˆ«(å½“å‰è¿˜æœªgit addçš„æ–‡ä»¶çš„æ”¹åŠ¨å’Œå½“å‰å½“å‰å·²ç»add ä½†æ²¡æœ‰commit çš„æ”¹åŠ¨), ä¹Ÿå°±æ˜¯ä¸Šé¢ä¸¤æ¡å‘½ä»¤çš„åˆå¹¶ : git diff HEAD æ¯”å¦‚æŸ¥çœ‹ commit_idä¸ºaå’Œcommit_idä¸ºbçš„tempæ–‡ä»¶å¤¹çš„å·®å¼‚ : git diff a b temp å¤„ç†å†²çª å‡è®¾è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼ŒAå’ŒBä¸¤ä½åŒå­¦å„è‡ªå¼€äº†ä¸¤ä¸ªåˆ†æ”¯æ¥å¼€å‘ä¸åŒçš„åŠŸèƒ½ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½ä¼šå°½é‡äº’ä¸å¹²æ‰°çš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªéœ€æ±‚Aéœ€è¦æ”¹åŠ¨ä¸€ä¸ªåŸºç¡€åº“ä¸­çš„ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œä¸å·§Bè¿™ä¸ªæ—¶å€™ç”±äºŽä¸šåŠ¡éœ€è¦ä¹Ÿæ”¹åŠ¨äº†åŸºç¡€åº“çš„è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºè¿™ç§æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼ŒAå’ŒBéƒ½è®¤ä¸ºä¸ä¼šå¯¹åœ°æ–¹é€ æˆå½±å“ï¼Œç­‰ä¸¤äººå„è‡ªæŠŠåŠŸèƒ½åšå®Œäº†ï¼Œéœ€è¦åˆå¹¶çš„åˆ°ä¸»åˆ†æ”¯ master çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‡è®¾å…ˆåˆå¹¶Açš„åˆ†æ”¯ï¼Œè¿™ä¸ªæ—¶å€™æ²¡é—®é¢˜çš„ï¼Œä¹‹åŽå†ç»§ç»­åˆå¹¶Bçš„åˆ†æ”¯ï¼Œè¿™ä¸ªæ—¶å€™æƒ³æƒ³ä¹ŸçŸ¥é“å°±æœ‰å†²çªäº†ï¼Œå› ä¸ºAå’ŒBä¸¤ä¸ªäººåŒæ—¶æ›´æ”¹äº†åŒä¸€ä¸ªåœ°æ–¹ï¼ŒGit æœ¬èº«ä»–æ²¡æ³•åˆ¤æ–­ä½ ä»¬ä¸¤ä¸ªè°æ›´æ”¹çš„å¯¹ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä»–ä¼šæ™ºèƒ½çš„æç¤ºæœ‰ conflicts å°±åƒä¸‹é¢è¿™ç§æƒ…å†µ :1234b@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git merge plugin Auto-merging README.mdCONFLICT (content): Merge conflict in README.mdAutomatic merge failed; fix conflicts and then commit the result. æ‰“å¼€READ.mdæ–‡ä»¶ä¸€çœ‹å‘çŽ°å†²çªçš„åœ°æ–¹å¦‚ä¸‹:12345&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADmmmp=======nani&gt;&gt;&gt;&gt;&gt;&gt;&gt; plugin å†²çªçš„åœ°æ–¹ç”± ==== åˆ†å‡ºäº†ä¸Šä¸‹ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸Šéƒ¨åˆ†ä¸€ä¸ªå« HEAD çš„å­—æ ·ä»£è¡¨æ˜¯æˆ‘å½“å‰æ‰€åœ¨åˆ†æ”¯çš„ä»£ç ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯ä¸€ä¸ªå« plugin åˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ° HEAD æ˜¯é‚£é‡ŒåŠ äº†ä¸€è¡Œmmmpï¼Œè€Œpluginåˆ†æ”¯åˆ™åŠ äº†ä¸€å¥nani, æ‰€ä»¥æˆ‘ä»¬å¾—è·Ÿå›¢é˜Ÿçš„å…¶ä»–äººå•†é‡ä¸€ä¸‹çœ‹çœ‹è¦æ”¹æˆä»€ä¹ˆæ ·ï¼Œè€Œä¸”åŒæ—¶ä¹Ÿè¦æŠŠé‚£äº› Â«&lt; HEADã€==== ä»¥åŠ Â»Â»Â»plugin è¿™äº›æ ‡è®°ç¬¦å·ä¹Ÿä¸€å¹¶åˆ é™¤ï¼Œæœ€åŽè¿›è¡Œä¸€æ¬¡ commit å°±okäº†ã€‚ æ ‡ç­¾tag ä¸»è¦ä»‹ç»é™„æ³¨æ ‡ç­¾( annotated tag) åˆ›å»ºé™„æ³¨æ ‡ç­¾git tag -a v0.1.2 -m â€œ0.1.2ç‰ˆæœ¬â€ åˆ›å»ºè½»é‡æ ‡ç­¾ä¸éœ€è¦ä¼ é€’å‚æ•°ï¼Œç›´æŽ¥æŒ‡å®šæ ‡ç­¾åç§°å³å¯ã€‚åˆ›å»ºé™„æ³¨æ ‡ç­¾æ—¶ï¼Œå‚æ•°aå³annotatedçš„ç¼©å†™ï¼ŒæŒ‡å®šæ ‡ç­¾ç±»åž‹ï¼ŒåŽé™„æ ‡ç­¾åã€‚å‚æ•°mæŒ‡å®šæ ‡ç­¾è¯´æ˜Žï¼Œè¯´æ˜Žä¿¡æ¯ä¼šä¿å­˜åœ¨æ ‡ç­¾å¯¹è±¡ä¸­ã€‚ åˆ‡æ¢åˆ°æ ‡ç­¾ä¸Žåˆ‡æ¢åˆ†æ”¯å‘½ä»¤ç›¸åŒï¼Œç”¨git checkout [tagname] æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯ç”¨git showå‘½ä»¤å¯ä»¥æŸ¥çœ‹æ ‡ç­¾çš„ç‰ˆæœ¬ä¿¡æ¯ï¼šgit show v0.1.2 åˆ é™¤æ ‡ç­¾è¯¯æ‰“æˆ–éœ€è¦ä¿®æ”¹æ ‡ç­¾æ—¶ï¼Œéœ€è¦å…ˆå°†æ ‡ç­¾åˆ é™¤ï¼Œå†æ‰“æ–°æ ‡ç­¾ã€‚git tag -d v0.1.2 # åˆ é™¤æ ‡ç­¾ å‚æ•°då³deleteçš„ç¼©å†™ï¼Œæ„ä¸ºåˆ é™¤å…¶åŽæŒ‡å®šçš„æ ‡ç­¾ã€‚ ç»™æŒ‡å®šçš„commitæ‰“æ ‡ç­¾æ‰“æ ‡ç­¾ä¸å¿…è¦åœ¨headä¹‹ä¸Šï¼Œä¹Ÿå¯åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸Šæ‰“ï¼Œè¿™éœ€è¦ä½ çŸ¥é“æŸä¸ªæäº¤å¯¹è±¡çš„æ ¡éªŒå’Œï¼ˆé€šè¿‡git logèŽ·å–ï¼‰ã€‚git tag -a v0.1.1 9fbc3d0 æ ‡ç­¾å‘å¸ƒé€šå¸¸çš„git pushä¸ä¼šå°†æ ‡ç­¾å¯¹è±¡æäº¤åˆ°gitæœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ˜¾å¼çš„æ“ä½œï¼š git push origin v0.1.2 # å°†v0.1.2æ ‡ç­¾æäº¤åˆ°gitæœåŠ¡å™¨git push origin -â€“tags # å°†æœ¬åœ°æ‰€æœ‰æ ‡ç­¾ä¸€æ¬¡æ€§æäº¤åˆ°gitæœåŠ¡å™¨]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5åˆ†é’Ÿå­¦ä¼šgit(ä¸€)]]></title>
    <url>%2F2016%2F04%2F12%2F5%E5%88%86%E9%92%9F%E5%AD%A6%E4%BC%9Agit(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[æˆ‘ä¹‹å‰æœ‰ä¸€ä»½ç§äººgitç¬”è®°è€é•¿è€é•¿äº†, ä»Šå¤©å¾—ç©º, æŠŠå®ƒæµ“ç¼©æˆ5åˆ†é’Ÿç‰ˆæœ¬.æ„Ÿè§‰çº¯åŸºç¡€æ€§çš„ä¸œè¥¿æ•´ç†æˆåšå®¢å·®ä¹Ÿå·®ä¸å¤šäº†, è¿˜æœ‰å¾ˆå¤šå‡Œä¹±çš„å·¥ä½œç¬”è®°æ…¢æ…¢åœ¨ä¸€ç‚¹ä¸€ç‚¹æ•´ç†æ”¾ä¸Šæ¥å§,ä¼°è®¡ä¸‹é¢å‡ ç¯‡åšå®¢å°±å¼€å§‹æ¸¸æˆæœåŠ¡å™¨çš„å¼€å‘å¿ƒå¾—ä¹‹ç±»çš„äº†. æœ¬ç¯‡åšå®¢å› ä¸ºè¦5åˆ†é’Ÿæ’¸å®Œgit, æ‰€ä»¥è¯­è¨€å°½é‡ç²¾ç®€, åªè¯´æ–°äººå¿…é¡»çŸ¥é“çš„, å¦‚æžœè¦gitè¿›é˜¶çš„, åŽé¢å†å¦å†™åšå®¢è¯´æ˜Ž, ä¸è¯¥è¯´çš„åºŸè¯å°±ä¸è¯´äº† å®‰è£… sudo apt-get install git æŸ¥çœ‹çŠ¶æ€ æ¯”å¦‚æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„çŠ¶æ€ : git status, è¿™æ¡å‘½ä»¤ä¹Ÿä¼šç»™å¾ˆå¤šå…¶ä»–çš„gitå‘½ä»¤æç¤ºçš„å–” æŸ¥çœ‹å½“å‰åœ¨å“ªä¸ªåˆ†æ”¯ : git branch12345b@b-VirtualBox:~/git_test_link/Flock-AI-Fish-Unreal-VR$ git branch master new_test_branch* old_demo plugin æ ‡è®°ä¸º*çš„é‚£ä¸ªå°±æ˜¯å½“å‰åˆ†æ”¯, ä¹Ÿå°±æ˜¯old_demoåˆ†æ”¯ å…‹éš† æ¯”å¦‚ä»Žæˆ‘çš„ä¸€ä¸ªè¿œç«¯githubé¡¹ç›®å…‹éš†ä¸€ä»½åˆ°æœ¬åœ° : git clone git@github.com:nosix1992/Flock-AI-Fish-Unreal-VR.gitè¿™ä¸ªåœ°å€æ˜¯è¿™æ ·å¾—æ¥çš„, å¦‚å›¾ : åˆ†æ”¯ æ¯”å¦‚åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯test_branch : git branch test_branch æ¯”å¦‚åˆ‡æ¢åˆ°åˆ†æ”¯test_branch : git checkout test_branch æ¯”å¦‚æŠŠtest_branchåˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ : å…ˆåˆ‡æ¢åˆ°masterä¸Šæ¥git checkout master ç„¶åŽ git merge test_branch git rebase test_branch rebase è·Ÿ merge çš„åŒºåˆ«ä½ ä»¬å¯ä»¥ç†è§£æˆæœ‰ä¸¤ä¸ªä¹¦æž¶ï¼Œä½ éœ€è¦æŠŠä¸¤ä¸ªä¹¦æž¶çš„ä¹¦æ•´ç†åˆ°ä¸€èµ·åŽ»ï¼Œç¬¬ä¸€ç§åšæ³•æ˜¯ merge ï¼Œæ¯”è¾ƒç²—é²æš´åŠ›ï¼Œå°±ç›´æŽ¥è…¾å‡ºä¸€å—åœ°æ–¹æŠŠå¦ä¸€ä¸ªä¹¦æž¶çš„ä¹¦å…¨éƒ¨æ”¾è¿›åŽ»ï¼Œè™½ç„¶æš´åŠ›ï¼Œä½†æ˜¯è¿™ç§åšæ³•ä½ å¯ä»¥çŸ¥é“å“ªäº›ä¹¦æ˜¯æ¥è‡ªå¦ä¸€ä¸ªä¹¦æž¶çš„ï¼›ç¬¬äºŒç§åšæ³•å°±æ˜¯ rebase ï¼Œä»–ä¼šæŠŠä¸¤ä¸ªä¹¦æž¶çš„ä¹¦å…ˆè¿›è¡Œæ¯”è¾ƒï¼ŒæŒ‰ç…§è´­ä¹¦çš„æ—¶é—´æ¥ç»™ä»–é‡æ–°æŽ’åºï¼Œç„¶åŽé‡æ–°æ”¾ç½®å¥½ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯åˆå¹¶ä¹‹åŽçš„ä¹¦æž¶çœ‹èµ·æ¥å¾ˆæœ‰é€»è¾‘ï¼Œä½†æ˜¯ä½ å¾ˆéš¾æ¸…æ™°çš„çŸ¥é“å“ªäº›ä¹¦æ¥è‡ªå“ªä¸ªä¹¦æž¶çš„ã€‚å„æœ‰å¥½å¤„çš„ï¼Œä¸åŒçš„å›¢é˜Ÿæ ¹æ®ä¸åŒçš„éœ€è¦ä»¥åŠä¸åŒçš„ä¹ æƒ¯æ¥é€‰æ‹©å°±å¥½ã€‚ æ¯”å¦‚åˆ é™¤åˆ†æ”¯test_branch : git branch -d test_branch git branch -D test_branch æœ‰äº›æ—¶å€™å¯èƒ½ä¼šåˆ é™¤å¤±è´¥ï¼Œæ¯”å¦‚å¦‚æžœaåˆ†æ”¯çš„ä»£ç è¿˜æ²¡æœ‰åˆå¹¶åˆ°masterï¼Œä½ æ‰§è¡Œ git branch -d a æ˜¯åˆ é™¤ä¸äº†çš„ï¼Œå®ƒä¼šæ™ºèƒ½çš„æç¤ºä½ aåˆ†æ”¯è¿˜æœ‰æœªåˆå¹¶çš„ä»£ç ï¼Œä½†æ˜¯å¦‚æžœä½ éžè¦åˆ é™¤ï¼Œé‚£å°±æ‰§è¡Œ git branch -D a å°±å¯ä»¥å¼ºåˆ¶åˆ é™¤aåˆ†æ”¯ã€‚ æäº¤ æ¯”å¦‚å°†ä¿®æ”¹ä¹‹åŽçš„æ–‡ä»¶test_fileåŠ å…¥åˆ°æš‚å­˜åŒºé‡Œ : git add test_file æ’¤é”€åˆšåˆšçš„git add(ä¹Ÿå°±æ˜¯è¯´æŠŠtest_fileä»Žæš‚å­˜åŒºä¸­ç§»å‡º) : git reset HEAD test_file æ¯”å¦‚å°†æš‚å­˜åŒºé‡Œçš„æäº¤å¹¶åŠ å…¥æäº¤ä¿¡æ¯â€update test_fileâ€ : git commit -m â€œupdate test_fileâ€ æŠŠgit commitæ’¤é”€ : åªæ˜¯æŠŠcommitæ’¤é”€å¹¶ä¸”æŠŠæ–‡ä»¶ä»Žæš‚å­˜åŒºä¸­ç§»å‡º, ä½†ä¿ç•™å·²æœ‰çš„æ–‡ä»¶æ›´æ”¹ : é€šç”¨å‘½ä»¤ä¸º git reset commit_id, è¿™ä¸ªcommit_idç”¨git logå‘½ä»¤æ¥æŸ¥çœ‹, æ¯”å¦‚è¦æ¢å¤åˆ°åˆšåˆšæäº¤çš„ä¸Šä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬, å°±ç”¨git reset HEAD^(è¿™å¥å‘½ä»¤çš„æ„æ€æ˜¯è¯´: æ¢å¤åˆ°commit id ä¸ºHEAD^çš„ç‰ˆæœ¬, HEADæ˜¯æŒ‡å‘æœ€æ–°çš„æäº¤ï¼Œä¸Šä¸€æ¬¡æäº¤æ˜¯HEAD^,ä¸Šä¸Šæ¬¡æ˜¯HEAD^^,ä¹Ÿå¯ä»¥å†™æˆHEADï½ž2 ,ä¾æ¬¡ç±»æŽ¨. ) æŠŠcommitæ’¤é”€ä¸”ä¸ä¿ç•™å·²æœ‰çš„æ–‡ä»¶æ›´æ”¹ : git reset â€“hard commit_id æ¯”å¦‚åªæ˜¯æ’¤é”€æŸä¸ªæ–‡ä»¶test_fileçš„ä¿®æ”¹ : git checkout â€“test_file å°†ä»£ç æŽ¨åˆ°è¿œç«¯ : è¿™ä¹‹å‰çš„æ‰€æœ‰è¿™äº›add, commitéƒ½æ˜¯æœ¬åœ°ä»“åº“çš„æ“ä½œ, æ¯”å¦‚æˆ‘ä»¬æŠŠæœ¬åœ°çš„masteråˆ†æ”¯æŽ¨åˆ°githubçš„é‚£ä¸ªé¡¹ç›®çš„masteråˆ†æ”¯ : git push origin master]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ å¾ˆåŸºç¡€çš„æ˜“æ··æ·†ç‚¹ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2015%2F12%2F09%2FC%2B%2B%20%E5%BE%88%E5%9F%BA%E7%A1%80%E7%9A%84%E6%98%93%E6%B7%B7%E6%B7%86%E7%82%B9%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä½æ“ä½œè¿ç®—ç¬¦çš„é—®é¢˜äºŒè¿›åˆ¶çš„100 çš„ç¬¬0ä½æ˜¯ 01(ç¬¬äºŒä½) 0(ç¬¬ä¸€ä½) 0(ç¬¬0ä½)ï¼Œæ‰€ä»¥æŠŠä¸€ä¸ªæ•°çš„ç¬¬ä¸‰ä½è¿›è¡Œæ¸…é›¶ã€ç½®ä½ã€å–åçš„æ“ä½œå¦‚ä¸‹ï¼š123456789101112131415161718192021#include &lt;stdio.h&gt;#define Bit3 (0X01&lt;&lt;3)/*å¯¹ä¸€ä¸ªæ•°çš„ç¬¬ä¸‰ä½è¿›è¡Œæ¸…é›¶ã€ç½®ä½ã€å–å*/int main()&#123; int a=15 ; // 0000 1111 printf(&quot;åŽŸå¤§å°ï¼š%d\n&quot;, a); a &amp;= ~Bit3; //æ¸…é›¶, 0000 0111 printf(&quot;æ¸…é›¶åŽï¼š%d\n&quot;, a); a |= Bit3; //ç½®ä½, 0000 1111 printf(&quot;ç½®ä½åŽï¼š%d\n&quot;, a); a ^= Bit3; //å–å, 0000 0111 printf(&quot;å–ååŽï¼š%d\n&quot;, a); return 0;&#125; å­—ç¬¦ä¸²åˆ†é…çš„ä½ç½®é—®é¢˜ç¨‹åºçš„å­˜å‚¨åŒºåŸŸåˆ†ä¸ºï¼šä»£ç æ®µã€åªè¯»æ•°æ®æ®µã€å·²åˆå§‹åŒ–çš„è¯»å†™æ•°æ®æ®µã€æœªåˆå§‹åŒ–çš„æ•°æ®æ®µã€å †ã€æ ˆã€‚1ã€ä»£ç æ®µã€åªè¯»æ•°æ®æ®µã€å·²åˆå§‹åŒ–çš„è¯»å†™æ•°æ®æ®µã€æœªåˆå§‹åŒ–çš„æ•°æ®æ®µéƒ½å±žäºŽé™æ€åŒºåŸŸã€‚2ã€å †å†…å­˜åªåœ¨ç¨‹åºè¿è¡Œæ—¶å‡ºçŽ°ï¼Œä¸€èˆ¬æœ‰ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾ã€‚3ã€æ ˆå†…å­˜åªåœ¨ç¨‹åºè¿è¡Œæ—¶å‡ºçŽ°ï¼Œåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„å˜é‡ï¼Œå‡½æ•°å‚æ•°ä»¥åŠè¿”å›žå€¼å°†ä½¿ç”¨æ ˆç©ºé—´ã€‚1234567891011121314151617char* get_str()&#123; char *str = &quot;hello&quot;; //ç¬¬ä¸€ç§æƒ…å†µï¼šåˆ†é…åœ¨é™æ€å­˜å‚¨åŒºä¸Š //char str[] = &quot;hello&quot;; //ç¬¬äºŒç§æƒ…å†µåˆ†é…åœ¨æ ˆä¸Š return str;&#125;int main()&#123; char* p = get_str(); // å¦‚æžœæ˜¯ç¬¬ä¸€ç§æƒ…å†µï¼Œä¸‹è¿°æ‰“å°å¯ä»¥æ‰“å°å‡ºæ­£ç¡®çš„å€¼ï¼›ä½†æ˜¯ç¬¬äºŒç§æƒ…å†µæ‰“å°ç»“æžœæ˜¯é”™çš„ã€‚ printf(&quot;%s/n&quot;, p); *++p = &apos;a&apos;; // å¦‚æžœæ˜¯ç¬¬ä¸€ç§æƒ…å†µï¼Œè¿è¡Œæ—¶å°†ä¼šæ®µé”™è¯¯ï¼Œå› ä¸ºä¸èƒ½ä¿®æ”¹å®ƒï¼› printf(&quot;%s/n&quot;, p); return 0;&#125; å¤æ‚ç±»åž‹çš„å£°æ˜Žå’Œtypedefå®šä¹‰ ç”¨å˜é‡aç»™å‡ºä¸‹é¢çš„å®šä¹‰:ä¸€ä¸ªæœ‰10ä¸ªæŒ‡é’ˆçš„æ•°ç»„ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æœ‰ä¸€ä¸ªæ•´åž‹å‚æ•°å¹¶è¿”å›žä¸€ä¸ªæ•´åž‹æ•° int (*a[10])(int); typedefè¡¨ç¤ºä¸€ä¸ªé•¿åº¦ä¸º4çš„æ•°ç»„;typedef int ARR[4]; typedefè¡¨ç¤ºä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæœ‰ä¸€ä¸ªæ•´åž‹å‚æ•°å¹¶è¿”å›žä¸€ä¸ªæ•´åž‹æ•°ï¼štypedef intï¼ˆ*FUNCï¼‰ï¼ˆintï¼‰ï¼›]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Luaç½‘ç»œç¼–ç¨‹çŽ¯å¢ƒç®€å•å®‰è£…]]></title>
    <url>%2F2015%2F11%2F08%2FLua%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[Install luasudo apt-get install lua5.1 luarocksåˆ°luarocksçš„å®˜ç½‘ä¸‹è½½luarocks, ç›´æŽ¥apt-getçš„å·²ç»å¤ªè€æ—§, é»˜è®¤çš„é…ç½®æ–‡ä»¶æœ‰é”™ luarocks å‘½ä»¤ï¼š luarocks build XXX å»ºç«‹/ç¼–è¯‘ä¸€ä¸ªåŒ… luarocks download XXX ä»ŽrocksæœåŠ¡å™¨ä¸‹è½½ä¸€ä¸ªæŒ‡å®šæ–‡ä»¶æˆ–è€…åŒ… luarocks help luarockså¸®åŠ© luarocks install XXX å®‰è£…åŒ… luarocks make XXX ä¸‹è½½å¹¶ç¼–è¯‘åŒ… luarocks pack æ‰“åŒ… luarocks list æ˜¾ç¤ºå·²å®‰è£…çš„åˆ—è¡¨ luarocks path è¿”å›žåŒ…åœ°å€ luarocks remove XXX åˆ é™¤ luarocks search Query the LuaRocks repositories luarocks show Shows information about an installed rock. luarocks unpack Unpack the contents of a rock. Install lua-socketå¦‚æžœæœ‰å®‰è£… Lua æ¨¡å—çš„å®‰è£…å’Œéƒ¨ç½²å·¥å…· â€“ luarocksï¼Œ é‚£ä¹ˆä¸€æ¡æŒ‡ä»¤å°±èƒ½å®‰è£…éƒ¨ç½²å¥½ LuaSocketï¼š luarocks install luasocket å…³äºŽjsonå¦‚æžœæƒ³å®‰è£…ä¸€ä¸ªè§£æž JSON(JavaScript Object Notation) çš„æ¨¡å—ï¼Œå¯ä»¥ç”¨ search å‚æ•°å…ˆæœç´¢ä¸€ä¸‹æœ‰ä»€ä¹ˆå¯å®‰è£…çš„è§£æž JSON çš„æ¨¡å—ï¼š luarocks search json å‡è®¾æƒ³å®‰è£…ä¸€ä¸ªåä¸º json4lua æ¨¡å—ï¼Œå¯ä»¥ç”¨ install å‚æ•°æ¥å®‰è£…ï¼š luarocks install json4lua]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>lua</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå¸¸ç”¨å‘½ä»¤ç¬”è®°æ•´ç†ä¹‹tcpdump]]></title>
    <url>%2F2015%2F11%2F03%2FLinux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%E4%B9%8Btcpdump%2F</url>
    <content type="text"><![CDATA[å¼ºå¤§çš„æŠ“åŒ…å·¥å…·, åšå¤§ç²¾æ·±å†…å®¹å¤ªå¤š, æ‰€ä»¥è¿™ç¯‡åšå®¢æ•´ç†å¾—åªè¯´å¸¸ç”¨, å…·ä½“çš„å‚è€ƒtcpdumpç”¨æˆ·æ‰‹å†Œ,tcpdumpéœ€è¦rootæƒé™, æ‰€ä»¥è®°å¾—åŠ ä¸Šsudo å¸¸ç”¨å‚æ•° -nné€‰é¡¹ï¼šæ„æ€æ˜¯è¯´å½“tcpdumpé‡åˆ°åè®®å·æˆ–ç«¯å£å·æ—¶ï¼Œä¸è¦å°†è¿™äº›å·ç è½¬æ¢æˆå¯¹åº”çš„åè®®åç§°æˆ–ç«¯å£åç§°ã€‚æ¯”å¦‚ï¼Œå¤§å®¶éƒ½çŸ¥é“80æ˜¯httpç«¯å£ï¼Œtcpdumpå°±ä¸ä¼šå°†å®ƒæ˜¾ç¤ºæˆhttpäº† -cé€‰é¡¹ï¼šæ˜¯Countçš„å«ä¹‰ï¼Œè¿™è®¾ç½®äº†æˆ‘ä»¬å¸Œæœ›tcpdumpå¸®æˆ‘ä»¬æŠ“å‡ ä¸ªåŒ…ã€‚ -i : æŒ‡å®šå“ªä¸€å¼ ç½‘å¡ -l : ä½¿å¾—è¾“å‡ºå˜ä¸ºè¡Œç¼“å†² -t : è¾“å‡ºæ—¶ä¸æ‰“å°æ—¶é—´æˆ³ -v : è¾“å‡ºæ›´è¯¦ç»†çš„ä¿¡æ¯ -F : æŒ‡å®šè¿‡æ»¤è¡¨è¾¾å¼æ‰€åœ¨çš„æ–‡ä»¶, å¯ä»¥å»ºç«‹äº†ä¸€ä¸ªfilter.txtæ–‡æœ¬æ–‡ä»¶æ¥å­˜å‚¨è¿‡æ»¤è¡¨è¾¾å¼ï¼Œç„¶åŽé€šè¿‡-Fæ¥æŒ‡å®šfilter.txt -w : å°†æµé‡ä¿å­˜åˆ°æ–‡ä»¶ä¸­ -r : è¯»å–raw packetsæ–‡ä»¶ å¸¸ç”¨è¿‡æ»¤è§„åˆ™ åªçœ‹åˆ°ç›®çš„æœºå™¨dst(æ¯”å¦‚æ˜¯qq.com)ä¹‹é—´çš„ç½‘ç»œåŒ…sudo tcpdump -i eth0 â€˜dst qq.comâ€™ ä¹Ÿå¯ä»¥å†™æˆ sudo tcpdump -i eth0 â€˜dst host qq.comâ€™ æ³¨ : ä¸Šè¿°çš„é‚£ä¸ªhostå¯ä»¥çœç•¥tcpdumpæ”¯æŒå¦‚ä¸‹çš„ç±»åž‹ï¼š hostï¼šæŒ‡å®šä¸»æœºåæˆ–IPåœ°å€ï¼Œä¾‹å¦‚â€™host roclinux.cnâ€™æˆ–â€™host 202.112.18.34â€² net ï¼šæŒ‡å®šç½‘ç»œæ®µï¼Œä¾‹å¦‚â€™arp net 128.3â€™æˆ–â€™dst net 128.3â€² portrangeï¼šæŒ‡å®šç«¯å£åŒºåŸŸï¼Œä¾‹å¦‚â€™src or dst portrange 6000-6008â€² port : ç«¯å£å¦‚æžœæˆ‘ä»¬æ²¡æœ‰è®¾ç½®è¿‡æ»¤ç±»åž‹ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯hostã€‚ åªæŠ“udpçš„åŒ…sudo tcpdump -i eth0 â€˜udpâ€™ tcpdumpå…·æœ‰æ ¹æ®ç½‘ç»œåŒ…çš„åè®®æ¥è¿›è¡Œè¿‡æ»¤çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠudpæ”¹ä¸ºetherã€ipã€ip6ã€arpã€tcpã€rarpç­‰ åªæŠ“ç›®çš„æœºå™¨çš„æŸä¸ªç«¯å£çš„åŒ…(æ¯”å¦‚åªæŠ“baidu.comçš„53æˆ–è€…80ç«¯å£çš„åŒ…)sudo tcpdump -i eth0 â€˜dst baidu.com and (dst port 53 or dst port 80)â€™ é€šè¿‡eth0ç½‘å¡çš„ï¼Œä¸”æ¥æºæ˜¯qq.comæœåŠ¡å™¨æˆ–è€…ç›®æ ‡æ˜¯qq.comæœåŠ¡å™¨çš„ç½‘ç»œåŒ…sudo tcpdump -i eth0 â€˜host qq.comâ€™ é€šè¿‡eth0ç½‘å¡çš„ï¼Œä¸”qq.comå’Œbaidu.comä¹‹é—´é€šè®¯çš„ç½‘ç»œåŒ…ï¼Œæˆ–è€…qq.comå’Œsina.cnä¹‹é—´é€šè®¯çš„ç½‘ç»œåŒ…tcpdump -i eth0 â€˜host qq.com and (baidu.com or sina.cn)â€™ èŽ·å–å’Œbaidu.comä¹‹é—´å»ºç«‹TCPä¸‰æ¬¡æ¡æ‰‹ä¸­ç¬¬ä¸€ä¸ªç½‘ç»œåŒ…ï¼Œå³å¸¦æœ‰SYNæ ‡è®°ä½çš„ç½‘ç»œåŒ…sudo tcpdump -i eth0 â€˜tcp[tcpflags] &amp; tcp-syn != 0 and dst host baidu.comâ€™ æ³¨ :å› ä¸ºç”¨proto [ expr : size]è¯­æ³•åœ¨å†™è¿‡æ»¤è¡¨è¾¾å¼æ—¶ï¼Œä½ éœ€è¦æŠŠåè®®æ ¼å¼å®Œå…¨èƒŒåœ¨è„‘å­é‡Œï¼Œæ‰èƒ½æŠŠè¡¨è¾¾å¼å†™å¯¹ã€‚å¯è¿™å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œå¯èƒ½æœ‰äº›å›°éš¾ã€‚ä¸ºäº†è®©tcpdumpå·¥å…·æ›´äººæ€§åŒ–ä¸€äº›ï¼Œæœ‰ä¸€äº›å¸¸ç”¨çš„åç§»é‡ï¼Œå¯ä»¥é€šè¿‡ä¸€äº›åç§°æ¥ä»£æ›¿ï¼Œæ¯”å¦‚icmptypeè¡¨ç¤ºICMPåè®®çš„ç±»åž‹åŸŸã€icmpcodeè¡¨ç¤ºICMPçš„codeåŸŸï¼Œtcpflagsåˆ™è¡¨ç¤ºTCPåè®®çš„æ ‡å¿—å­—æ®µåŸŸã€‚ æ›´è¿›ä¸€æ­¥çš„ï¼Œå¯¹äºŽICMPçš„ç±»åž‹åŸŸï¼Œå¯ä»¥ç”¨è¿™äº›åç§°å…·ä½“æŒ‡ä»£ï¼šicmp-echoreply, icmp-unreach, icmp-sourcequench, icmp-redirect, icmp-echo, icmp-routeradvert, icmp-routersolicit, icmp-timxceed, icmp-paramprob, icmp-tstamp, icmp-tstampreply, icmp-ireq, icmp-ireqreply, icmp-maskreq, icmp-maskreplyã€‚ è€Œå¯¹äºŽTCPåè®®çš„æ ‡å¿—å­—æ®µåŸŸï¼Œåˆ™å¯ä»¥ç»†åˆ†ä¸ºtcp-fin, tcp-syn, tcp-rst, tcp-push, tcp-ack, tcp-urgã€‚ è¾“å‡ºå†…å®¹è§£é‡Š1234567891011121314151617b@b-VirtualBox:~$ sudo tcpdump -i eth0 &apos;host baidu.com&apos;tcpdump: verbose output suppressed, use -v or -vv for full protocol decodelistening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes06:46:17.487920 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [S], seq 546310089, win 29200, options [mss 1460,sackOK,TS val 1221546 ecr 0,nop,wscale 7], length 006:46:17.530422 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [S.], seq 3245676077, ack 546310090, win 8192, options [mss 1440,sackOK,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,wscale 5], length 006:46:17.530458 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 1, win 229, length 006:46:17.530982 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [P.], seq 1:504, ack 1, win 229, length 50306:46:17.576476 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [.], ack 504, win 216, length 006:46:17.577447 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [P.], seq 1:291, ack 504, win 216, length 29006:46:17.577459 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 291, win 237, length 006:46:17.577482 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [P.], seq 291:452, ack 504, win 216, length 16106:46:17.577485 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 452, win 245, length 006:46:17.866950 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [P.], seq 291:452, ack 504, win 216, length 16106:46:17.866966 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 452, win 245, options [nop,nop,sack 1 &#123;291:452&#125;], length 006:46:27.865805 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 452, win 245, length 006:46:27.909962 IP 111.13.101.208.http &gt; 192.168.1.57.60110: Flags [.], ack 504, win 216, length 006:46:37.925624 IP 192.168.1.57.60110 &gt; 111.13.101.208.http: Flags [.], ack 452, win 245, length 0]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>tcpdump</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxå¸¸ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤ç¬”è®°æ•´ç†(äºŒ)]]></title>
    <url>%2F2015%2F10%2F23%2Flinux%E5%B8%B8%E7%94%A8%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[sed sedæ˜¯ä¸€ç§æµç¼–è¾‘å™¨ï¼Œå®ƒæ˜¯æ–‡æœ¬å¤„ç†ä¸­éžå¸¸ä¸­çš„å·¥å…·ï¼Œèƒ½å¤Ÿå®Œç¾Žçš„é…åˆæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨ï¼ŒåŠŸèƒ½ä¸åŒå‡¡å“ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰ï¼ŒæŽ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®ŒæˆåŽï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚æŽ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰ æ”¹å˜ï¼Œé™¤éžä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºã€‚Sedä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼›ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œï¼›ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚ sedå‘½ä»¤ a\ åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬ã€‚ i\ åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬ã€‚ c\ æŠŠé€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„æ–‡æœ¬ã€‚ d åˆ é™¤ï¼Œåˆ é™¤é€‰æ‹©çš„è¡Œã€‚ D åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚ s æ›¿æ¢æŒ‡å®šå­—ç¬¦ h æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºã€‚ H è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºã€‚ g èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬ã€‚ G èŽ·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åŽé¢ã€‚ l åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•ã€‚ n è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤ã€‚ N è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åŽé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œï¼Œæ”¹å˜å½“å‰è¡Œå·ç ã€‚ p æ‰“å°æ¨¡æ¿å—çš„è¡Œã€‚ P(å¤§å†™) æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œã€‚ q é€€å‡ºSedã€‚ b lable åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹ï¼Œå¦‚æžœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾ã€‚ r file ä»Žfileä¸­è¯»è¡Œã€‚ t label ifåˆ†æ”¯ï¼Œä»Žæœ€åŽä¸€è¡Œå¼€å§‹ï¼Œæ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚ T label é”™è¯¯åˆ†æ”¯ï¼Œä»Žæœ€åŽä¸€è¡Œå¼€å§‹ï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾ã€‚ w file å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾ã€‚ W file å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾ã€‚ ! è¡¨ç¤ºåŽé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨ã€‚ = æ‰“å°å½“å‰è¡Œå·ç ã€‚ æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰ã€‚ sedæ›¿æ¢æ ‡è®° g è¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢ã€‚ p è¡¨ç¤ºæ‰“å°è¡Œã€‚ w è¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚ x è¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬ã€‚ y è¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºŽæ­£åˆ™è¡¨è¾¾å¼ï¼‰ \1 å­ä¸²åŒ¹é…æ ‡è®° &amp; å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®° sedå…ƒå­—ç¬¦é›† ^ åŒ¹é…è¡Œå¼€å§‹ï¼Œå¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚ $ åŒ¹é…è¡Œç»“æŸï¼Œå¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚ . åŒ¹é…ä¸€ä¸ªéžæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ï¼Œå¦‚ï¼š/s.d/åŒ¹é…såŽæŽ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œæœ€åŽæ˜¯dã€‚ * åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¦‚ï¼š/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åŽç´§è·Ÿsedçš„è¡Œã€‚ [] åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[ss]ed/åŒ¹é…sedå’ŒSedã€‚ [^] åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š/[^A-RT-Z]ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚ (..) åŒ¹é…å­ä¸²ï¼Œä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/(love)able/\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚ &amp; ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s/love/&amp;/ï¼Œloveè¿™æˆloveã€‚ \&lt; åŒ¹é…å•è¯çš„å¼€å§‹ï¼Œå¦‚:/\ åŒ¹é…å•è¯çš„ç»“æŸï¼Œå¦‚/love>/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚ x{m} é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š/0{5}/åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œã€‚ x{m,} é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š/0{5,}/åŒ¹é…è‡³å°‘æœ‰5ä¸ª0çš„è¡Œã€‚ x{m,n} é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºŽnæ¬¡ï¼Œå¦‚ï¼š/0{5,10}/åŒ¹é…5~10ä¸ª0çš„è¡Œã€‚ ç›´æŽ¥ç¼–è¾‘æ–‡ä»¶é€‰é¡¹-iï¼Œå¦åˆ™å¹¶ä¸ä¼šä¿®æ”¹æºæ–‡ä»¶ sedå¸¸ç”¨ç”¨æ³•1ï¼šå¢ž123456b@b-VirtualBox:~/my_temp_test/abc$ cat abc3&amp;&amp; gg&amp;b@b-VirtualBox:~/my_temp_test/abc$ sed -i &apos;/gg/a\hello, my friend&apos; abc3b@b-VirtualBox:~/my_temp_test/abc$ cat abc3&amp;&amp; gg&amp;hello, my friend sed -i â€˜/gg/a\hello, my friendâ€™ abc3çš„å«ä¹‰æ˜¯ï¼šåœ¨abc3æ–‡ä»¶ä¸­çš„â€œggâ€å­—ç¬¦ä¸²çš„ä¸‹ä¸€è¡Œæ’å…¥â€œhelloï¼Œ my friendâ€ sedå¸¸ç”¨ç”¨æ³•2ï¼šåˆ 123456b@b-VirtualBox:~/my_temp_test/abc$ cat abc3&amp;&amp; gg&amp;hello, my friendb@b-VirtualBox:~/my_temp_test/abc$ sed -i &apos;/gg/d&apos; abc3b@b-VirtualBox:~/my_temp_test/abc$ cat abc3hello, my friend sed -i â€˜/gg/dâ€™ abc3çš„å«ä¹‰æ˜¯ï¼šå°†abc3æ–‡ä»¶ä¸­æ‰€æœ‰åŒ…å«çš„â€œggâ€å­—ç¬¦ä¸²çš„è¡Œåˆ é™¤ sedå¸¸ç”¨ç”¨æ³•3ï¼šæ”¹12345b@b-VirtualBox:~/my_temp_test/abc$ cat abc3hello, my friendb@b-VirtualBox:~/my_temp_test/abc$ sed -i &apos;s/hello/welcome/g&apos; abc3b@b-VirtualBox:~/my_temp_test/abc$ cat abc3welcome, my friend sed -i â€˜s/hello/welcome/gâ€™ abc3çš„å«ä¹‰æ˜¯ï¼šå°†abc3æ–‡ä»¶ä¸­æ‰€æœ‰åŒ…å«çš„â€œggâ€å­—ç¬¦ä¸²éƒ½ä¿®æ”¹ä¸ºâ€œwelcomeâ€]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>æ–‡æœ¬å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxå¸¸ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤ç¬”è®°æ•´ç†(ä¸€)]]></title>
    <url>%2F2015%2F10%2F21%2Flinux%E5%B8%B8%E7%94%A8%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[linuxå¸¸ç”¨æ–‡æœ¬å¤„ç†çš„å‘½ä»¤çš„ä½¿ç”¨çŽ‡å¾ˆé«˜ï¼Œ æ‰€ä»¥æ•´ç†äº†ä¸€äº›ä¹‹å‰çš„ç¬”è®°ï¼Œç”¨markdownæ¥è®°å½•å¤‡å¿˜ã€‚é¦–å…ˆæŠ›å‡ºé—®é¢˜ï¼Œ å¸¦ç€é—®é¢˜æ¥å­¦è®°å¿†çŸ¥è¯†æ›´æœ‰åŠ¨åŠ›ï¼š å¦‚ä½•é€šè¿‡ä¸€æ¡å‘½ä»¤å–å¾—eth0çš„IP4åœ°å€ ï¼š ` ifconfig eth0 | grep -w &apos;inet&apos; | awk &apos;{print $2}&apos; | awk -F: &apos;{print $2}&apos;` å¦‚ä½•é€šè¿‡ä¸€æ¡å‘½ä»¤æ›¿æ¢å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­çš„æ‰€æœ‰â€œxxxâ€ä¸ºâ€œyyyâ€œ ï¼š `ls -alF | grep &apos;^-&apos; | xargs sed -i &apos;s/xxx/yyy/g&apos;` å¦‚ä½•é€šè¿‡ä¸€æ¡å‘½ä»¤æ€æŽ‰å ç”¨ç«¯å£34600çš„è¿›ç¨‹ ï¼š` sudo lsof -i:34600 | grep -v &apos;PID&apos; | awk &apos;{print $2}&apos; | xargs kill -9` grep grepï¼ˆglobal search regular expression(RE) and print out the lineï¼Œå…¨é¢æœç´¢æ­£åˆ™è¡¨è¾¾å¼å¹¶æŠŠè¡Œæ‰“å°å‡ºæ¥ï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚ -a ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶æ•°æ®ã€‚ -A&lt;æ˜¾ç¤ºåˆ—æ•°&gt; é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹åŽçš„å†…å®¹ã€‚ -b åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹ã€‚ -c è®¡ç®—ç¬¦åˆèŒƒæœ¬æ ·å¼çš„åˆ—æ•°ã€‚ -C&lt;æ˜¾ç¤ºåˆ—æ•°&gt;æˆ–-&lt;æ˜¾ç¤ºåˆ—æ•°&gt; é™¤äº†æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œå¹¶æ˜¾ç¤ºè¯¥åˆ—ä¹‹å‰åŽçš„å†…å®¹ã€‚ -d&lt;è¿›è¡ŒåŠ¨ä½œ&gt; å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéžæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepå‘½ä»¤å°†å›žæŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œã€‚ -e&lt;èŒƒæœ¬æ ·å¼&gt; æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„èŒƒæœ¬æ ·å¼ã€‚ -E å°†èŒƒæœ¬æ ·å¼ä¸ºå»¶ä¼¸çš„æ™®é€šè¡¨ç¤ºæ³•æ¥ä½¿ç”¨ï¼Œæ„å‘³ç€ä½¿ç”¨èƒ½ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ã€‚ -f&lt;èŒƒæœ¬æ–‡ä»¶&gt; æŒ‡å®šèŒƒæœ¬æ–‡ä»¶ï¼Œå…¶å†…å®¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªèŒƒæœ¬æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆèŒƒæœ¬æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯ä¸€åˆ—çš„èŒƒæœ¬æ ·å¼ã€‚ -F å°†èŒƒæœ¬æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚ -G å°†èŒƒæœ¬æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨ã€‚ -h åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥åˆ—æ‰€å±žçš„æ–‡ä»¶åç§°ã€‚ -H åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œæ ‡ç¤ºè¯¥åˆ—çš„æ–‡ä»¶åç§°ã€‚ -i èƒ¡åˆ—å­—ç¬¦å¤§å°å†™çš„å·®åˆ«ã€‚ï¼ˆå¸¸ç”¨ï¼‰ -l åˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -L åˆ—å‡ºæ–‡ä»¶å†…å®¹ä¸ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚ -n åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œæ ‡ç¤ºå‡ºè¯¥åˆ—çš„ç¼–å·ã€‚ -q ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚ -R/-r æ­¤å‚æ•°çš„æ•ˆæžœå’ŒæŒ‡å®šâ€œ-d recurseâ€å‚æ•°ç›¸åŒã€‚ -s ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ -v åè½¬æŸ¥æ‰¾ã€‚ï¼ˆå¸¸ç”¨ï¼‰ -w åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ—ã€‚ï¼ˆå¸¸ç”¨ï¼‰ -x åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚ -y æ­¤å‚æ•°æ•ˆæžœè·Ÿâ€œ-iâ€ç›¸åŒã€‚ -o åªè¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†ã€‚ awk awkæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œç”¨äºŽåœ¨linux/unixä¸‹å¯¹æ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†ã€‚æ•°æ®å¯ä»¥æ¥è‡ªæ ‡å‡†è¾“å…¥(stdin)ã€ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–å…¶å®ƒå‘½ä»¤çš„è¾“å‡ºã€‚å®ƒæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°å’ŒåŠ¨æ€æ­£åˆ™è¡¨è¾¾å¼ç­‰å…ˆè¿›åŠŸèƒ½ï¼Œæ˜¯linux/unixä¸‹çš„ä¸€ä¸ªå¼ºå¤§ç¼–ç¨‹å·¥å…·ã€‚å®ƒåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼Œä½†æ›´å¤šæ˜¯ä½œä¸ºè„šæœ¬æ¥ä½¿ç”¨ã€‚awkæœ‰å¾ˆå¤šå†…å»ºçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ•°ç»„ã€å‡½æ•°ç­‰ï¼Œè¿™æ˜¯å®ƒå’ŒCè¯­è¨€çš„ç›¸åŒä¹‹å¤„ï¼Œçµæ´»æ€§æ˜¯awkæœ€å¤§çš„ä¼˜åŠ¿ã€‚ å¸¸ç”¨å‘½ä»¤é€‰é¡¹ -F fs fsæŒ‡å®šè¾“å…¥åˆ†éš”ç¬¦ï¼ˆawké»˜è®¤çš„åˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ï¼‰ï¼Œfså¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚-F: -v var=value èµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ï¼Œå°†å¤–éƒ¨å˜é‡ä¼ é€’ç»™awk å¸¸ç”¨ç”¨æ³•123456b@b-VirtualBox:~/my_temp_test/abc$ cat abc3klj;k uu&amp;&amp; ss&amp;b@b-VirtualBox:~/my_temp_test/abc$ cat abc3 | awk &apos;&#123;print $NF&#125;&apos;uuss&amp; cat abc3 | awk â€˜{print $NF}â€™çš„å«ä¹‰æ˜¯ï¼šè¾“å‡ºabc3æ–‡ä»¶çš„æ¯ä¸€è¡Œçš„æœ€åŽä¸€åˆ—12b@b-VirtualBox:~/my_temp_test/abc$ cat abc3 | grep k | awk -F\; &apos;&#123;print $1&#125;&apos;klj cat abc3 | grep k | awk -F\; â€˜{print $1}â€™çš„å«ä¹‰æ˜¯ï¼šå…ˆè¾“å…¥å«æœ‰kçš„é‚£ä¸€è¡Œï¼ˆå³kljï¼›kï¼‰ï¼Œ ç„¶åŽå¯¹é‚£ä¸€è¡Œä»¥ï¼›ï¼ˆ\;ï¼Œ è¿™ä¸ªåˆ†å·éœ€è¦è½¬ä¹‰ï¼‰åˆ†éš”ï¼Œæ‰“å°å‡ºåˆ†éš”åŽçš„ç¬¬ä¸€åˆ—ï¼ˆå³kljï¼‰]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>æ–‡æœ¬å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hashç´¢å¼•btreeç´¢å¼•èšç°‡ç´¢å¼•éžèšç°‡ç´¢å¼•]]></title>
    <url>%2F2015%2F09%2F12%2Fhash%E7%B4%A2%E5%BC%95btree%E7%B4%A2%E5%BC%95%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%2F</url>
    <content type="text"><![CDATA[ç´¢å¼•æ¦‚è¦ç´¢å¼•æ˜¯å¸®åŠ©mysqlèŽ·å–æ•°æ®çš„æ•°æ®ç»“æž„ã€‚æœ€å¸¸è§çš„ç´¢å¼•æ˜¯ Btreeç´¢å¼• Hashç´¢å¼• ä¸åŒçš„å¼•æ“Žå¯¹äºŽç´¢å¼•æœ‰ä¸åŒçš„æ”¯æŒï¼š Innodbå’ŒMyISAMé»˜è®¤çš„ç´¢å¼•æ˜¯Btreeç´¢å¼•ï¼› Mermoryé»˜è®¤çš„ç´¢å¼•æ˜¯Hashç´¢å¼•ã€‚ Hashç´¢å¼• Mermoryé»˜è®¤çš„ç´¢å¼•æ˜¯Hashç´¢å¼•ã€‚ æ‰€è°“Hashç´¢å¼•ï¼Œå½“æˆ‘ä»¬è¦ç»™æŸå¼ è¡¨æŸåˆ—å¢žåŠ ç´¢å¼•æ—¶ï¼Œ å°†è¿™å¼ è¡¨çš„è¿™ä¸€åˆ—è¿›è¡Œå“ˆå¸Œç®—æ³•è®¡ç®—ï¼Œå¾—åˆ°å“ˆå¸Œå€¼ï¼Œ æŽ’åºåœ¨å“ˆå¸Œæ•°ç»„ä¸Šã€‚æ‰€ä»¥Hashç´¢å¼•å¯ä»¥ä¸€æ¬¡å®šä½ï¼Œ å…¶æ•ˆçŽ‡å¾ˆé«˜ï¼Œè€ŒBtreeç´¢å¼•éœ€è¦ç»è¿‡å¤šæ¬¡çš„ç£ç›˜IOï¼Œ ä½†æ˜¯innodbå’Œmyisamä¹‹æ‰€ä»¥æ²¡æœ‰é‡‡ç”¨å®ƒï¼Œæ˜¯å› ä¸ºå®ƒå­˜åœ¨ç€å¥½å¤šç¼ºç‚¹. Hashç´¢å¼•çš„ç¼ºç‚¹ï¼ˆ1ï¼‰Hash ç´¢å¼•ä»…ä»…èƒ½æ»¡è¶³â€=â€,â€INâ€å’Œâ€&lt;=&gt;â€æŸ¥è¯¢ï¼Œä¸èƒ½ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ã€‚ ç”±äºŽ Hash ç´¢å¼•æ¯”è¾ƒçš„æ˜¯è¿›è¡Œ Hash è¿ç®—ä¹‹åŽçš„ Hash å€¼ï¼Œæ‰€ä»¥å®ƒåªèƒ½ç”¨äºŽç­‰å€¼çš„è¿‡æ»¤ï¼Œä¸èƒ½ç”¨äºŽåŸºäºŽèŒƒå›´çš„è¿‡æ»¤ï¼Œå› ä¸ºç»è¿‡ç›¸åº”çš„ Hash ç®—æ³•å¤„ç†ä¹‹åŽçš„ Hash å€¼çš„å¤§å°å…³ç³»ï¼Œå¹¶ä¸èƒ½ä¿è¯å’ŒHashè¿ç®—å‰å®Œå…¨ä¸€æ ·ã€‚ ï¼ˆ2ï¼‰Hash ç´¢å¼•æ— æ³•è¢«ç”¨æ¥é¿å…æ•°æ®çš„æŽ’åºæ“ä½œã€‚ ç”±äºŽ Hash ç´¢å¼•ä¸­å­˜æ”¾çš„æ˜¯ç»è¿‡ Hash è®¡ç®—ä¹‹åŽçš„ Hash å€¼ï¼Œè€Œä¸”Hashå€¼çš„å¤§å°å…³ç³»å¹¶ä¸ä¸€å®šå’Œ Hash è¿ç®—å‰çš„é”®å€¼å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥æ•°æ®åº“æ— æ³•åˆ©ç”¨ç´¢å¼•çš„æ•°æ®æ¥é¿å…ä»»ä½•æŽ’åºè¿ç®—ï¼› ï¼ˆ3ï¼‰Hash ç´¢å¼•ä¸èƒ½åˆ©ç”¨éƒ¨åˆ†ç´¢å¼•é”®æŸ¥è¯¢ã€‚ å¯¹äºŽç»„åˆç´¢å¼•ï¼ŒHash ç´¢å¼•åœ¨è®¡ç®— Hash å€¼çš„æ—¶å€™æ˜¯ç»„åˆç´¢å¼•é”®åˆå¹¶åŽå†ä¸€èµ·è®¡ç®— Hash å€¼ï¼Œè€Œä¸æ˜¯å•ç‹¬è®¡ç®— Hash å€¼ï¼Œæ‰€ä»¥é€šè¿‡ç»„åˆç´¢å¼•çš„å‰é¢ä¸€ä¸ªæˆ–å‡ ä¸ªç´¢å¼•é”®è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼ŒHash ç´¢å¼•ä¹Ÿæ— æ³•è¢«åˆ©ç”¨ã€‚ ï¼ˆ4ï¼‰Hash ç´¢å¼•åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é¿å…è¡¨æ‰«æã€‚ å‰é¢å·²ç»çŸ¥é“ï¼ŒHash ç´¢å¼•æ˜¯å°†ç´¢å¼•é”®é€šè¿‡ Hash è¿ç®—ä¹‹åŽï¼Œå°† Hashè¿ç®—ç»“æžœçš„ Hash å€¼å’Œæ‰€å¯¹åº”çš„è¡ŒæŒ‡é’ˆä¿¡æ¯å­˜æ”¾äºŽä¸€ä¸ª Hash è¡¨ä¸­ï¼Œç”±äºŽä¸åŒç´¢å¼•é”®å­˜åœ¨ç›¸åŒ Hash å€¼ï¼Œæ‰€ä»¥å³ä½¿å–æ»¡è¶³æŸä¸ª Hash é”®å€¼çš„æ•°æ®çš„è®°å½•æ¡æ•°ï¼Œä¹Ÿæ— æ³•ä»Ž Hash ç´¢å¼•ä¸­ç›´æŽ¥å®ŒæˆæŸ¥è¯¢ï¼Œè¿˜æ˜¯è¦é€šè¿‡è®¿é—®è¡¨ä¸­çš„å®žé™…æ•°æ®è¿›è¡Œç›¸åº”çš„æ¯”è¾ƒï¼Œå¹¶å¾—åˆ°ç›¸åº”çš„ç»“æžœã€‚ ï¼ˆ5ï¼‰Hash ç´¢å¼•é‡åˆ°å¤§é‡Hashå€¼ç›¸ç­‰çš„æƒ…å†µåŽæ€§èƒ½å¹¶ä¸ä¸€å®šå°±ä¼šæ¯”B-Treeç´¢å¼•é«˜ã€‚ å¯¹äºŽé€‰æ‹©æ€§æ¯”è¾ƒä½Žçš„ç´¢å¼•é”®ï¼Œå¦‚æžœåˆ›å»º Hash ç´¢å¼•ï¼Œé‚£ä¹ˆå°†ä¼šå­˜åœ¨å¤§é‡è®°å½•æŒ‡é’ˆä¿¡æ¯å­˜äºŽåŒä¸€ä¸ª Hash å€¼ç›¸å…³è”ã€‚è¿™æ ·è¦å®šä½æŸä¸€æ¡è®°å½•æ—¶å°±ä¼šéžå¸¸éº»çƒ¦ï¼Œä¼šæµªè´¹å¤šæ¬¡è¡¨æ•°æ®çš„è®¿é—®ï¼Œè€Œé€ æˆæ•´ä½“æ€§èƒ½ä½Žä¸‹ Btreeç´¢å¼• Innodbå’ŒMyISAMé»˜è®¤çš„ç´¢å¼•æ˜¯Btreeç´¢å¼•ï¼› è‡³äºŽBtreeç´¢å¼•ï¼Œå®ƒæ˜¯ä»¥B+æ ‘ä¸ºå­˜å‚¨ç»“æž„å®žçŽ°çš„ã€‚ ä½†æ˜¯Btreeç´¢å¼•çš„å­˜å‚¨ç»“æž„åœ¨Innodbå’ŒMyISAMä¸­æœ‰å¾ˆå¤§åŒºåˆ«ã€‚ btreeç´¢å¼•åœ¨MyISAMä¸­çš„å®žçŽ°åœ¨MyISAMä¸­ï¼Œæˆ‘ä»¬å¦‚æžœè¦å¯¹æŸå¼ è¡¨çš„æŸåˆ—å»ºç«‹Btreeç´¢å¼•çš„è¯ï¼Œå¦‚å›¾ï¼š æ‰€ä»¥æˆ‘ä»¬ç»å¸¸ä¼šè¯´MyISAMä¸­æ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶æ˜¯åˆ†å¼€çš„ã€‚å› æ­¤MyISAMçš„ç´¢å¼•æ–¹å¼ä¹Ÿç§°ä¸ºéžèšé›†,è‡³äºŽè¾…åŠ©ç´¢å¼•ï¼Œç±»ä¼¼äºŽä¸»ç´¢å¼•ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯ä¸»ç´¢å¼•ä¸Šçš„å€¼ä¸èƒ½é‡å¤ï¼Œè€Œè¾…åŠ©ç´¢å¼•å¯ä»¥é‡å¤ã€‚ å› æ­¤å½“æˆ‘ä»¬æ ¹æ®Btreeç´¢å¼•åŽ»æœç´¢çš„æ—¶å€™ï¼Œè‹¥keyå­˜åœ¨ï¼Œåœ¨dataåŸŸæ‰¾åˆ°å…¶åœ°å€ï¼Œç„¶åŽæ ¹æ®åœ°å€åŽ»è¡¨ä¸­æŸ¥æ‰¾æ•°æ®è®°å½•ã€‚ btreeç´¢å¼•åœ¨Innodbä¸­çš„å®žçŽ°è‡³äºŽInnodbå®ƒè·Ÿä¸Šé¢åˆæœ‰å¾ˆå¤§ä¸åŒï¼Œå®ƒçš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„å¹¶ä¸æ˜¯è¡¨çš„åœ°å€ï¼Œè€Œæ˜¯æ•°æ® æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œå¹¶æ²¡æœ‰å°†åœ°å€æ”¾å…¥å¶å­èŠ‚ç‚¹ï¼Œè€Œæ˜¯ç›´æŽ¥æ”¾å…¥äº†å¯¹åº”çš„æ•°æ®ï¼Œ è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´åˆ°çš„ï¼ŒInnodbçš„ç´¢å¼•æ–‡ä»¶å°±æ˜¯æ•°æ®æ–‡ä»¶ï¼Œ é‚£ä¹ˆå¯¹äºŽInnodbçš„è¾…åŠ©ç´¢å¼•ç»“æž„è·Ÿä¸»ç´¢å¼•ä¹Ÿç›¸å·®å¾ˆå¤šï¼Œå¦‚å›¾ï¼š æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼Œè¿™é‡Œå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®çš„ä¿¡æ¯ï¼Œ æ‰€ä»¥æˆ‘ä»¬åœ¨åˆ©ç”¨è¾…åŠ©ç´¢å¼•çš„æ—¶å€™ï¼Œæ£€ç´¢åˆ°ä¸»é”®ä¿¡æ¯ï¼Œ ç„¶åŽå†é€šè¿‡ä¸»é”®åŽ»ä¸»ç´¢å¼•ä¸­å®šä½è¡¨ä¸­çš„æ•°æ®ï¼Œè¿™å°±å¯ä»¥è¯´æ˜ŽInnodbä¸­ä¸»é”®ä¹‹æ‰€ä»¥ä¸å®œç”¨è¿‡é•¿çš„å­—æ®µï¼Œç”±äºŽæ‰€æœ‰çš„è¾…åŠ©ç´¢å¼•éƒ½åŒ…å«ä¸»ç´¢å¼•ï¼Œ æ‰€ä»¥å¾ˆå®¹æ˜“è®©è¾…åŠ©ç´¢å¼•å˜å¾—åºžå¤§ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥å‘çŽ°ï¼šåœ¨Innodbä¸­å°½é‡ä½¿ç”¨è‡ªå¢žçš„ä¸»é”®ï¼Œ è¿™æ ·æ¯æ¬¡å¢žåŠ æ•°æ®æ—¶åªéœ€è¦åœ¨åŽé¢æ·»åŠ å³å¯ï¼Œ éžå•è°ƒçš„ä¸»é”®åœ¨æ’å…¥æ—¶ä¼šéœ€è¦ç»´æŒB+treeç‰¹æ€§è€Œè¿›è¡Œåˆ†è£‚è°ƒæ•´ï¼Œååˆ†ä½Žæ•ˆã€‚ Btreeç´¢å¼•ä¸­çš„æœ€å·¦åŒ¹é…åŽŸåˆ™ï¼šBtreeæ˜¯æŒ‰ç…§ä»Žå·¦åˆ°å³çš„é¡ºåºæ¥å»ºç«‹æœç´¢æ ‘çš„ã€‚ æ¯”å¦‚ç´¢å¼•æ˜¯(name,age,sex)ï¼Œ ä¼šå…ˆæ£€æŸ¥nameå­—æ®µï¼Œå¦‚æžœnameå­—æ®µç›¸åŒå†åŽ»æ£€æŸ¥åŽä¸¤ä¸ªå­—æ®µã€‚ æ‰€ä»¥å½“ä¼ è¿›æ¥çš„æ˜¯åŽä¸¤ä¸ªå­—æ®µçš„æ•°æ®ï¼ˆageï¼Œsexï¼‰ï¼Œ å› ä¸ºå»ºç«‹æœç´¢æ ‘çš„æ—¶å€™æ˜¯æŒ‰ç…§ç¬¬ä¸€ä¸ªå­—æ®µå»ºç«‹çš„ï¼Œæ‰€ä»¥å¿…é¡»æ ¹æ®nameå­—æ®µæ‰èƒ½çŸ¥é“ä¸‹ä¸€ä¸ªå­—æ®µåŽ»å“ªé‡ŒæŸ¥è¯¢ã€‚ æ‰€ä»¥ä¼ è¿›æ¥çš„æ˜¯ï¼ˆnameï¼Œsexï¼‰æ—¶ï¼Œé¦–å…ˆä¼šæ ¹æ®nameæŒ‡å®šæœç´¢æ–¹å‘ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªå­—æ®µç¼ºå¤±ï¼Œæ‰€ä»¥å°†nameå­—æ®µæ­£ç¡®çš„éƒ½æ‰¾åˆ°åŽï¼Œç„¶åŽæ‰ä¼šåŽ»åŒ¹é…sexçš„æ•°æ®ã€‚ å»ºç«‹ç´¢å¼•çš„è§„åˆ™ï¼š 1ã€åˆ©ç”¨æœ€å·¦å‰ç¼€ï¼šMysqlä¼šä¸€ç›´å‘å³æŸ¥æ‰¾ç›´åˆ°é‡åˆ°èŒƒå›´æ“ä½œï¼ˆ&gt;ï¼Œ&lt;ï¼Œlikeã€betweenï¼‰å°±åœæ­¢åŒ¹é…ã€‚ æ¯”å¦‚a=1 and b=2 and c&gt;3 and d=6ï¼›æ­¤æ—¶å¦‚æžœå»ºç«‹äº†ï¼ˆa,b,c,dï¼‰ç´¢å¼•ï¼Œé‚£ä¹ˆåŽé¢çš„dç´¢å¼•æ˜¯å®Œå…¨æ²¡æœ‰ç”¨åˆ°ï¼Œå½“æ¢æˆäº†ï¼ˆa,b,d,cï¼‰å°±å¯ä»¥ç”¨åˆ°ã€‚ 2ã€ä¸èƒ½è¿‡åº¦ç´¢å¼•ï¼šåœ¨ä¿®æ”¹è¡¨å†…å®¹çš„æ—¶å€™ï¼Œç´¢å¼•å¿…é¡»æ›´æ–°æˆ–è€…é‡æž„ï¼Œæ‰€ä»¥ç´¢å¼•è¿‡å¤šæ—¶ï¼Œä¼šæ¶ˆè€—æ›´å¤šçš„æ—¶é—´ã€‚ 3ã€å°½é‡æ‰©å±•ç´¢å¼•è€Œä¸è¦æ–°å»ºç´¢å¼• 4ã€æœ€é€‚åˆçš„ç´¢å¼•çš„åˆ—æ˜¯å‡ºçŽ°åœ¨whereå­å¥ä¸­çš„åˆ—æˆ–è¿žæŽ¥å­å¥ä¸­æŒ‡å®šçš„åˆ—ã€‚ 5ã€ä¸åŒå€¼è¾ƒå°‘çš„åˆ—ä¸å¿…è¦å»ºç«‹ç´¢å¼•ï¼ˆæ€§åˆ«ï¼‰ã€‚ ç»ƒä¹ é¢˜ æ•°æ®ç´¢å¼•çš„æ­£ç¡®æ˜¯(æ­£ç¡®ç­”æ¡ˆA, D) Aã€ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšæ—ç´¢å¼•ï¼Œå¤šä¸ªéžèšæ—ç´¢å¼•Bã€å­—ç¬¦ä¸²æ¨¡ç³ŠæŸ¥è¯¢ä¸é€‚åˆç´¢å¼•Cã€å“ˆå¸Œ ç´¢å¼•æœ‰åˆ©äºŽæŸ¥è¯¢å­—æ®µç”¨äºŽå¤§å°èŒƒå›´çš„æ¯”è¾ƒæŸ¥è¯¢Dã€å¤šä½™çš„ç´¢å¼•å­—æ®µä¼šé™ä½Žæ€§èƒ½ Select A,B from Table1 where A between60 and 100 order by Bï¼Œä¸‹é¢å“ªäº›ä¼˜åŒ–sqlæ€§èƒ½(æ­£ç¡®ç­”æ¡ˆB) Aã€å­—æ®µA å»ºç«‹hashç´¢å¼•ï¼Œå­—æ®µ Bä¸å»ºç«‹ç´¢å¼•Bã€å­—æ®µ A å»ºç«‹btreeç´¢å¼•ï¼Œå­—æ®µ Bä¸å»ºç«‹ç´¢å¼•Cã€å­—æ®µA ä¸å»ºç«‹ ç´¢å¼•ï¼Œå­—æ®µ Bå»ºç«‹btreeç´¢å¼•]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>btreeç´¢å¼•</tag>
        <tag>hashç´¢å¼•</tag>
        <tag>èšç°‡ç´¢å¼•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ å¾ˆåŸºç¡€çš„æ˜“æ··æ·†ç‚¹ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2015%2F09%2F09%2FC%2B%2B%20%E5%BE%88%E5%9F%BA%E7%A1%80%E7%9A%84%E6%98%93%E6%B7%B7%E6%B7%86%E7%82%B9%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[###2.1.1 : C++æ ‡å‡†è§„å®šçš„å„ç§ç®—æœ¯ç±»åž‹çš„å°ºå¯¸çš„æœ€å°å€¼, åŒæ—¶å…è®¸ç¼–è¯‘å™¨èµ‹äºˆè¿™äº›ç±»åž‹æ›´å¤§çš„å°ºå¯¸. æ¯”å¦‚charçš„æœ€å°å°ºå¯¸ä¸º8ä½ æ‰§è¡Œæµ®ç‚¹æ•°è¿ç®—é€‰ç”¨double ï¼Œè¿™æ˜¯å› ä¸ºfloat é€šå¸¸ç²¾åº¦ä¸å¤Ÿè€Œä¸”åŒç²¾åº¦æµ®ç‚¹ æ•°å’Œå•ç²¾åº¦æµ®ç‚¹æ•°çš„è®¡ç®—ä»£ä»·ç›¸å·®æ— å„¿ã€‚äº‹å®žä¸Šï¼Œ å¯¹äºŽæŸäº›æœºå™¨æ¥è¯´ï¼ŒåŒç²¾åº¦è¿ ç®—ç”šè‡³æ¯”å•ç²¾åº¦è¿˜å¿« ###2.1.2 : å½“æˆ‘ä»¬èµ‹ç»™æ— ç¬¦å·ç±»åž‹ä¸€ä¸ªè¶…å‡ºå®ƒè¡¨ç¤ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æžœæ˜¯åˆå§‹å€¼å¯¹æ— ç¬¦å·ç±»åž‹è¡¨ ç¤ºæ•°å€¼æ€»æ•°å–æ£‹åŽçš„ä½™æ•°ã€‚ä¾‹å¦‚ï¼Œ 8 æ¯”ç‰¹å¤§å°çš„un signe d char å¯ä»¥è¡¨ç¤º0 è‡³ 255 åŒºé—´å†…çš„å€¼ï¼Œå¦‚æžœæˆ‘ä»¬èµ‹äº†ä¸€ä¸ªåŒºé—´ä»¥å¤–çš„å€¼ï¼Œåˆ™å®žé™…çš„ç»“æžœæ˜¯è¯¥å€¼å¯¹256 å–æ¨¡åŽæ‰€å¾—çš„ä½™æ•°ã€‚å› æ­¤ï¼ŒæŠŠ -1 èµ‹ç»™8 æ¯”ç‰¹å¤§å°çš„uns å·¥gned char æ‰€å¾—çš„ç»“æžœ æ˜¯255 å½“æˆ‘ä»¬èµ‹ç»™å¸¦ç¬¦å·ç±»åž‹ä¸€ä¸ªè¶…å‡ºå®ƒè¡¨ç¤ºèŒƒå›´çš„å€¼æ—¶ï¼Œç»“æžœæ˜¯æœªå®šä¹‰çš„( undefined )ã€‚ æ­¤æ—¶ï¼Œ ç¨‹åºï¼Œå¯èƒ½ç»§ç»­å·¥ä½œã€å¯èƒ½å´©æºƒï¼Œä¹Ÿå¯èƒ½ç”Ÿæˆåžƒåœ¾æ•°æ®ã€‚ å¦‚æžœè¡¨è¾¾å¼é‡Œæ—¢æœ‰å¸¦ç¬¦å·ç±»åž‹åˆæœ‰æ— ç¬¦å·ç±»åž‹ï¼Œ å½“å¸¦ç¬¦å·ç±»åž‹å–å€¼ä¸ºè´Ÿæ—¶ä¼šå‡ºçŽ°å¼‚ å¸¸ç»“æžœï¼Œ è¿™æ˜¯å› ä¸ºå¸¦ç¬¦å·æ•°ä¼šè‡ªåŠ¨åœ°è½¬æ¢æˆæ— ç¬¦å·æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå½¢å¦‚a*b çš„å¼å­ ä¸­ï¼Œå¦‚æžœa = -1 , b = 1 ï¼Œè€Œä¸”a å’Œb éƒ½æ˜¯int ï¼Œåˆ™è¡¨è¾¾å¼çš„å€¼æ˜¾ç„¶ä¸º- 1 0 ç„¶è€Œï¼Œå¦‚ æžœa æ˜¯int ï¼Œ è€Œb æ˜¯unsigned ï¼Œ åˆ™ç»“æžœé¡»è§†åœ¨å½“å‰æœºå™¨ä¸Šint æ‰€å ä½æ•°è€Œå®šã€‚åœ¨æˆ‘ ä»¬çš„çŽ¯å¢ƒé‡Œï¼Œç»“æžœæ˜¯4294967295 ###2.2.1 : å¦‚æžœæ˜¯å†…ç½®ç±»åž‹çš„å˜é‡æœªè¢«æ˜¾å¼åˆå§‹åŒ–ï¼Œå®ƒçš„å€¼ç”±å®šä¹‰çš„ä½ç½®å†³å®šã€‚å®šä¹‰äºŽä»»ä½•å‡½æ•° ä½“ä¹‹å¤–çš„å˜é‡è¢«åˆå§‹åŒ–ä¸º0 ã€‚ç„¶è€Œå¦‚6. 1. 1 èŠ‚(ç¬¬1 85 é¡µã€‰æ‰€ç¤ºï¼Œ ä¸€ç§ä¾‹å¤–æƒ…å†µæ˜¯ï¼Œå®šä¹‰ åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å†…ç½®ç±»åž‹å˜é‡å°†ä¸è¢«åˆå§‹åŒ–( tminitialized ) ã€‚ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–çš„å†…ç½®ç±»åž‹ å˜é‡çš„å€¼æ˜¯æœªå®šä¹‰çš„(å‚è§2. 1. 2 èŠ‚ï¼Œ ç¬¬33 é¡µ) ï¼Œå¦‚æžœè¯•å›¾æ‹·è´æˆ–ä»¥å…¶ä»–å½¢å¼è°›é—®æ­¤ç±»å€¼ å°†å¼•å‘é”™è¯¯ å®šä¹‰äºŽå‡½æ•°ä½“å†…çš„å†…ç½®ç±»åž‹çš„å¯¹è±¡å¦‚æžœæ²¡æœ‰åˆå§‹åŒ–ï¼Œæ—¶å€¼æœªå®šä¹‰ã€‚ç±»çš„å¯¹è±¡ å¦‚æžœæ²¡æœ‰æ˜¾å¼åœ°åˆå§‹åŒ–ï¼Œåˆ™å…¶ä½ç”±ç±»ç¡®å®šã€‚ ###2.2.2 : ä¸ºäº†æ”¯æŒåˆ†ç¦»å¼ç¼–è¯‘ï¼Œ Câ†â†è¯­è¨€å°†å£°æ˜Žå’Œå®šä¹‰åŒºåˆ†å¼€æ¥ã€‚å£°æ˜Ž( declaration ) ä½¿å¾—åå­— ä¸ºç¨‹åºæ‰€çŸ¥ï¼Œ ä¸€ä¸ªæ–‡ä»¶å¦‚æžœæƒ³ä½¿ç”¨åˆ«å¤„å®šä¹‰çš„åå­—åˆ™å¿…é¡»åŒ…å«å¯¹é‚£ä¸ªåå­—çš„å£°æ˜Žã€‚è€Œå®šä¹‰ ( defi nition ) è´Ÿè´£åˆ›å»ºä¸Žåå­—å…³è”çš„å®žä½“ã€‚ å˜é‡å£°æ˜Žè§„å®šäº†å˜é‡çš„ç±»åž‹å’Œåå­—ï¼Œ åœ¨è¿™ä¸€ç‚¹ä¸Šå®šä¹‰ä¸Žä¹‹ç›¸åŒã€‚ä½†æ˜¯é™¤æ­¤ä¹‹å¤–ï¼Œå®šä¹‰ è¿˜ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä¼šä¸ºå˜é‡èµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚ å¦‚æžœæƒ³å£°æ˜Žä¸€ä¸ªå˜é‡;è€Œéžå®šä¹‰å®ƒï¼Œå°±åœ¨å˜é‡åå‰æ·»åŠ å…³é”®å­—extern ï¼Œè€Œä¸”ä¸è¦æ˜¾å¼ åœ°åˆå§‹åŒ–å˜é‡: extern int i ; // å£°æ˜Ži è€Œéžå®šä¹‰i int j ; / / å£°æ˜Žå¹¶å®šä¹‰j ä»»ä½•åŒ…å«äº†æ˜¾å¼åˆå§‹åŒ–çš„å£°æ˜Žå³æˆä¸ºå®šä¹‰ã€‚æˆ‘ä»¬èƒ½ç»™ç”±extern å…³é”®å­—æ ‡è®°çš„å˜é‡èµ‹ ä¸€ä¸ªåˆå§‹å€¼ï¼Œä½†æ˜¯è¿™ä¹ˆåšä¹Ÿå°±æŠµæ¶ˆäº†extern çš„ä½œç”¨ã€‚extern è¯­å¥å¦‚æžœåŒ…å«åˆå§‹å€¼å°±ä¸ å†æ˜¯å£°æ˜Žï¼Œè€Œå˜æˆå®šä¹‰äº†: extern doub1e pi = 3 . 1416 ; // å®šä¹‰ åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå¦‚æžœè¯•å›¾åˆå§‹åŒ–ä¸€ä¸ªç”±extern å…³é”®å­—æ ‡è®°çš„å˜é©ï¼Œ å°†å¼•å‘é”™è¯¯ ###2.2.3 : C++ä¹Ÿä¸ºæ ‡å‡†åº“ä¿ç•™äº†ä¸€äº›åå­—ã€‚ç”¨æˆ·åœ¨è‡ªå®šä¹‰çš„æ ‡è¯†ç¬¦ä¸­ä¸èƒ½è¿žç»­å‡ºçŽ°ä¸¤ä¸ªä¸‹ç”»é’±ï¼Œä¹Ÿä¸èƒ½ä»¥ä¸‹ç”»çº¿ç´§è¿žå¤§å†™å­—å¥å¼€å¤´ã€‚æ­¤å¤–ï¼Œå®šä¹‰åœ¨å‡½æ•°ä½“å¤–çš„æ ‡è¯†ç¨ä¸èƒ½ä»¥ä¸‹ç”»çº¿ å¼€å¤´ã€‚ æ¯”å¦‚: int _ = 3; æ˜¯åˆæ³•çš„ ###2.3.1 : å…¶ä»–æ‰€ æœ‰å¼•ç”¨çš„ç±»åž‹éƒ½è¦å’Œl ä¸Žä¹‹ç»‘å®šçš„å¯¹è±¡ä¸¥æ ¼åŒ¹é…ã€‚è€Œä¸”ï¼Œå¼•ç”¨åªèƒ½ç»‘å®šåœ¨å¯¹è±¡ä¸Šï¼Œè€Œä¸èƒ½ä¸Ž å­—é¢å€¼æˆ–æŸä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æžœç»‘å®šåœ¨ä¸€èµ·ï¼Œ ç›¸å…³åŽŸå› å°†åœ¨2 .4 . 1 èŠ‚è¯¦è¿°: int &amp;refVa14 = 10 ; //é”™è¯¯Â· å¼•ç”¨ç±»åž‹çš„åˆå§‹å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ double dval = 3.14 ; int &amp;refVa15 = dva1 ; // é”™è¯¯: æ­¤å¤„å¼•ç”¨ç±»åž‹çš„åˆå§‹ä½å¿…é¡»æ˜¯int åž‹å¯¹è±¡ ###2.3.2 : å› ä¸ºå¼•ç”¨ä¸æ˜¯å¯¹è±¡ï¼Œ æ²¡æœ‰å®žé™…åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½å®šä¹‰æŒ‡å‘å¼•ç”¨çš„æŒ‡é’ˆã€‚ ###2.4 : é»˜è®¤çŠ¶æ€ä¸‹ï¼Œ const å¯¹è±¡ä»…åœ¨æ–‡ä»¶å†…æœ‰æ•ˆ å½“ä»¥ç¼–è¯‘æ—¶åˆå§‹åŒ–çš„æ–¹å¼å®šä¹‰ä¸€ä¸ªconst å¯¹è±¡æ—¶ï¼Œå°±å¦‚å¯¹bufSize çš„å®šä¹‰ä¸€æ ·: const int bufS å·¥ze = 512; 11 è¾“å…¥ç¼“å†²åŒºå¤§å° ç¼–è¯‘å™¨å°†åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æŠŠç”¨åˆ°è¯¥å˜é‡çš„åœ°æ–¹éƒ½æ›¿æ¢æˆå¯¹åº”çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¯‘å™¨ä¼šæ‰¾åˆ° ä»£ç ä¸­æ‰€æœ‰ç”¨åˆ°bufSize çš„åœ°æ–¹ï¼Œç„¶åŽç”¨512 æ›¿æ¢ã€‚ ä¸ºäº†æ‰§è¡Œä¸Šè¿°æ›¿æ¢ï¼Œ ç¼–è¯‘å™¨å¿…é¡»çŸ¥é“å˜é‡çš„åˆå§‹å€¼ã€‚å¦‚æžœç¨‹åºåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œåˆ™æ¯ä¸ª ç”¨äº†co nst å¯¹è±¡çš„æ–‡ä»¶éƒ½å¿…é¡»å¾—èƒ½è®¿é—®åˆ°å®ƒçš„åˆå§‹å€¼æ‰è¡Œã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œå°±å¿…é¡»åœ¨æ¯ ä¸€ä¸ªç”¨åˆ°å˜é‡çš„æ–‡ä»¶ä¸­éƒ½æœ‰å¯¹å®ƒçš„å®šä¹‰(å‚è§2.2.2 èŠ‚ï¼Œ ç¬¬4 1 é¡µ)ã€‚ä¸ºäº†æ”¯æŒè¿™ä¸€ç”¨æ³•ï¼Œ åŒæ—¶é¿å…å¯¹åŒä¸€å˜é‡çš„é‡å¤å®šä¹‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ const å¯¹è±¡è¢«è®¾å®šä¸ºä»…åœ¨æ–‡ä»¶å†…æœ‰æ•ˆã€‚ã€ å¤šä¸ªæ–‡ä»¶ä¸­å‡ºçŽ°äº†åŒåçš„const å˜é‡æ—¶ï¼Œå…¶å®žç­‰åŒäºŽåœ¨ä¸åŒæ–‡ä»¶ä¸­åˆ†åˆ«å®šä¹‰äº†ç‹¬ç«‹çš„å˜é‡ã€‚ æŸäº›æ—¶å€™æœ‰è¿™æ ·ä¸€ç§const å˜é‡ï¼Œå®ƒçš„åˆå§‹å€¼ä¸æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œä½†åˆç¡®å®žæœ‰å¿… è¦åœ¨æ–‡ä»¶é—´å…±äº«ã€‚è¿™ç§æƒ…å†µf ï¼Œ æˆ‘ä»¬ä¸å¸Œæœ›ç¼–è¯‘å™¨ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†åˆ«ç”Ÿæˆç‹¬ç«‹çš„å˜é‡ã€‚ç›¸åï¼Œ æˆ‘ä»¬æƒ³è®©è¿™ç±»const å¯¹è±¡åƒå…¶ä»–(éžå¸¸é‡)å¯¹è±¡ä¸€æ ·å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ å®šä¹‰const ï¼Œè€Œåœ¨å…¶ä»–å¤šä¸ªæ–‡ä»¶ä¸­å£°æ˜Žå¹¶ä½¿ç”¨å®ƒã€‚ è§£å†³çš„åŠžæ³•æ˜¯ï¼Œå¯¹äºŽc o nst å˜é‡ä¸ç®¡æ˜¯å£°æ˜Žè¿˜æ˜¯å®šä¹‰éƒ½æ·»åŠ extern å…³é”®å­—ï¼Œ è¿™æ · åªéœ€å®šä¹‰ä¸€æ¬¡å°±å¯ä»¥äº†: // file 1 . cc å®šä¹‰å¹¶åˆå§‹åŒ–äº†ä¸€ä¸ªå¸¸å£¶ï¼Œè¯¥å¸¸é‡èƒ½è¢«å…¶ä»–æ–‡ä»¶è®¿é—® extern const int bufS å·¥ze = fcn(); // file 1 . h å¤´æ–‡ä»¶ extern const int bufSize ; /1 ä¸Žf ile 1. cc ä¸­å®šä¹‰çš„bufS å·¥ze æ˜¯åŒä¸€ä¸ª å¦‚ä¸Šè¿°ç¨‹åºæ‰€ç¤ºï¼Œ fi1e 1. cc å®šä¹‰å¹¶åˆå§‹åŒ–äº†bufSize ã€‚å› ä¸ºè¿™æ¡è¯­å¥åŒ…å«äº†åˆå§‹å€¼ï¼Œ æ‰€ä»¥å®ƒ(æ˜¾ç„¶ã€‰æ˜¯ä¸€æ¬¡å®šä¹‰ã€‚ç„¶è€Œï¼Œå› ä¸ºb ufSize æ˜¯â†ä¸ªå¸¸é‡ï¼Œå¿…é¡»ç”¨extern åŠ ä»¥é™ å®šä½¿å…¶è¢«å…¶ä»–æ–‡ä»¶ä½¿ç”¨ã€‚ file 1. h å¤´æ–‡ä»¶ä¸­çš„å£°æ˜Žä¹Ÿç”±extern åšäº†é™å®šï¼Œå…¶ä½œç”¨æ˜¯æŒ‡æ˜ŽbufS å·¥ze å¹¶éžæœ¬ æ–‡ä»¶FiIi ç‹¬æœ‰ï¼Œå®ƒçš„å®šä¹‰å°†åœ¨åˆ«å¤„å‡ºçŽ°ã€‚ ###2.4.1 åˆå§‹åŒ–å’Œå¯¹const çš„å¼•ç”¨ 2 . 3 . 1 èŠ‚(ç¬¬46 é¡µã€‰æåˆ°ï¼Œ å·| ç”¨çš„ç±»åž‹å¿…é¡»ä¸Žå…¶æ‰€å¼•ç”¨å¯¹è±¡çš„ç±»åž‹â†’è‡´ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ª ä¾‹å¤–ã€‚ç¬¬ä¸€ç§ä¾‹å¤–æƒ…å†µå°±æ˜¯åœ¨åˆå§‹åŒ–å¸¸é‡å¼•ç”¨æ—¶å…è®¸ç”¨ä»»æ„è¡¨è¾¾å¼ä½œä¸ºåˆå§‹å€¼ï¼Œåªè¦è¯¥è¡¨ è¾¾å¼çš„ç»“æžœèƒ½è½¬æ¢æˆ(å‚è§2.1 .2 èŠ‚ï¼Œç¬¬3 2 é¡µ)å¼•ç”¨çš„ç±»åž‹å©å¯ã€‚å°¤å…¶ï¼Œå…è®¸ä¸ºä¸€ä¸ªå¸¸é‡ å¼•ç”¨ç»‘å®šéžå¸¸é‡çš„å¯¹è±¡ã€å­—é¢å€¼ï¼Œ ç”šè‡³æ˜¯ä¸ª-èˆ¬è¡¨è¾¾å¼: int i= 42 ; . const int &amp;r1 = i ; // ftè®¸å°†c ons t in t&amp;#~ å®šåˆ°ä¸€ä¸ªæ™®é€šint å¯¹è±¡ä¸Š const int &amp;r2 = 42; // æ­£ç¡®r1 æ˜¯ä¸€ä¸ªå¸¸é‡å¼•ç”¨ const int &amp;r3 = r1 * 2 ; // æ­£ç¡®r3 æ˜¯ä¸€ä¸ªå¸¸å—å¼•ç”¨ int &amp;r4 = r1 * 2 ; // é”™è¯¯r4 æ˜¯ä¸€ä¸ªæ™®é€šçš„éžå¸¸å—å¼•ç”¨ è¦æƒ³ã€ç†è§£è¿™ç§ä¾‹å¤–æƒ…å†µçš„åŽŸå› ï¼Œé™†ç®€å•çš„åŠžæ³•æ˜¯å¼„æ¸…æ¥šå½“ä¸€ä¸ªå¸¸é‡å¼•ç”¨è¢«ç»‘å®šåˆ°å¦å¤–ä¸€ç§ ç±»åž‹ä¸Šæ—¶åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ: doub1e dval = 3 . 14 ; const int &amp;ri = dva1 ; æ­¤å¤„ri å¼•ç”¨äº†ä¸€ä¸ªint åž‹çš„æ•°ã€‚å¯¹å£çš„æ“ä½œåº”è¯¥æ˜¯æ•´æ•°è¿ç®—ï¼Œä½†dval å´æ˜¯ä¸€ä¸ªåŒç²¾ åº¦æµ®ç‚¹æ•°è€Œéžæ•´æ•°ã€‚å› æ­¤ä¸ºäº†ç¡®ä¿è®©rl ç»‘å®šä¸€ä¸ªæ•´æ•°ï¼Œç¼–è¯‘å™¨æŠŠä¸Šè¿°ä»£ç å˜æˆäº†å¦‚ä¸‹ å½¢å¼: const int temp = dval; 1/ ç”±åŒç²¾åº¦æµ®ç‚¹æ•°ç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„æ•´åž‹å¸¸é‡ const int &amp;ri = temp ; 11 è®©rl ç»‘å®šè¿™ä¸ªä¸´æ—¶å— åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ ri ç»‘å®šäº†ä¸€ä¸ªä¸´æ—¶é‡( tempo ra ry )å¯¹è±¡ã€‚æ‰€è°“ä¸´æ—¶é‡å¯¹è±¡å°±æ˜¯å½“ç¼–è¯‘å™¨ è€Œè¦ä¸€ä¸ªç©ºé—´æ¥æš‚å­˜è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æžœæ—¶ä¸´æ—¶åˆ›å»ºçš„ä¸€ä¸ªæœªå‘½åçš„å¯¹è±¡ã€‚c++ç¨‹åºå‘˜ä»¬å¸¸ å¸¸æŠŠä¸´æ—¶é‡å¯¹è±¡ç®€ç§°ä¸ºä¸´æ—¶é‡ã€‚ æŽ¥ä¸‹æ¥æŽ¢è®¨å½“ri ä¸æ˜¯å¸¸é‡æ—¶ï¼Œå¦‚æžœæ‰§è¡Œäº†ç±»ä¼¼äºŽä¸Šé¢çš„åˆå§‹åŒ–è¿‡ç¨‹å°†å¸¦æ¥ä»€ä¹ˆæ ·çš„ åŽæžœã€‚å¦‚æžœä¸”ä¸æ˜¯å¸¸é‡ï¼Œå°±å…è®¸å¯¹ri èµ‹å€¼ï¼Œè¿™æ ·å°±ä¼šæ”¹å˜ri æ‰€å¼•ç”¨å¯¹è±¡çš„å€¼ã€‚æ³¨æ„ï¼Œ æ­¤æ—¶ç»‘å®šçš„å¯¹è±¡æ˜¯ä¸€ä¸ªä¸´æ—¶é‡;è€Œä¸‰11:: dvalo ç¨‹åºå‘˜æ—¢ç„¶è®©rl å¼•ç”¨dval ï¼Œ å°±è‚¯å®šæƒ³é€šè¿‡ ri æ”¹å˜dval çš„å€¼ï¼Œå¦åˆ™å¹²ä»€ä¹ˆè¦ç»™ri èµ‹å€¼lå‘¢?å¦‚æ­¤çœ‹æ¥ï¼Œ æ—¢ç„¶å¤§å®¶åŸºæœ¬ä¸Šä¸ä¼šæƒ³ç€æŠŠ å¼•ç”¨ç»‘å®šåˆ°ä¸´æ—¶é‡ä¸Šï¼Œ c++è¯­è¨€ä¹Ÿå°±æŠŠè¿™ç§è¡Œä¸ºå½’ä¸ºéžæ³•ã€‚ ###2.5.2 å’ŒåŽŸæ¥å¦I~äº›åªå¯¹åº”ä¸€ç§ç‰¹å®šç±»åž‹çš„è¯´æ˜Žç¬¦(æ¯”å¦‚double) ä¸|å¸. auto è®©ç¼–è¯‘å™¨é€šQÃ è¿‡åˆå§‹å€¼æ¥æŽ¨ç®—å˜é‡çš„ç±»åž‹ã€‚æ˜¾ç„¶. auto å®šä¹‰çš„å˜é‡å¿…é¡»æœ‰åˆå§‹å€¼: ä½¿ç”¨auto ä¹Ÿèƒ½åœ¨ä¸€æ¡è¯­å¥ä¸­å£°æ˜Žå¤šä¸ªå˜é‡ã€‚å› ä¸ºä¸€æ¡å£°æ˜Žè¯­å¥åªèƒ½æœ‰ä¸€ä¸ªåŸºæœ¬æ•°æ® ç±»åž‹ï¼Œæ‰€ä»¥è¯¥è¯­å¥ä¸­æ‰€æœ‰å˜é‡çš„åˆå§‹åŸºæœ¬æ•°æ®ç±»åž‹éƒ½å¿…é¡»ä¸€æ ·: int i = 0; const int ci = i; auto &amp;n = i, *p = &amp;ci // é”™è¯¯i çš„ç±»åž‹æ˜¯int è€Œ&amp; ci çš„ç±»åž‹æ˜¯const int]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>C++Primer</tag>
        <tag>EffectiveC++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gdbå¤šè¿›ç¨‹è°ƒè¯•]]></title>
    <url>%2F2015%2F08%2F31%2Fgdb%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%B0%83%E8%AF%95%E5%AE%9E%E6%88%98%2F</url>
    <content type="text"><![CDATA[gdbå¤šè¿›ç¨‹è°ƒè¯• set follow-fork-mode [parent|child] set detach-on-fork [on|off] follow-fork-mode detach-on-fork è¯´æ˜Ž parent on åªè°ƒè¯•ä¸»è¿›ç¨‹ï¼ˆGDBé»˜è®¤ï¼‰ child on åªè°ƒè¯•å­è¿›ç¨‹ parent off åŒæ—¶è°ƒè¯•ä¸¤ä¸ªè¿›ç¨‹ï¼Œgdbè·Ÿä¸»è¿›ç¨‹ï¼Œå­è¿›ç¨‹blockåœ¨forkä½ç½® child off åŒæ—¶è°ƒè¯•ä¸¤ä¸ªè¿›ç¨‹ï¼Œgdbè·Ÿå­è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹blockåœ¨forkä½ç½® æŸ¥è¯¢æ­£åœ¨è°ƒè¯•çš„è¿›ç¨‹ï¼šinfo inferiors åˆ‡æ¢è°ƒè¯•çš„è¿›ç¨‹ï¼š inferior +inferior number catch forkå‘½ä»¤å¯ä»¥æ•èŽ·è¿›ç¨‹çš„åˆ›å»º attach + pid ï¼Œ å¯ä»¥é™„åˆ°ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¸Šè¿›è¡Œè°ƒè¯• gdbå¤šçº¿ç¨‹è°ƒè¯• show scheduler-locking //æ˜¾ç¤ºå½“å‰scheduler-locking set scheduler-locking [on/off/step] //è®¾ç½®scheduler-locking onï¼šåªæœ‰å½“å‰è°ƒè¯•çº¿ç¨‹è¿è¡Œï¼Œå…¶ä»–çº¿ç¨‹å¤„äºŽæš‚åœçŠ¶æ€ã€‚ offï¼šå½“å‰è°ƒè¯•çº¿ç¨‹å¤–çš„å…¶ä»–çº¿ç¨‹ä¸€ç›´åœ¨æ­£å¸¸è¿è¡Œã€‚ stepï¼šå…¶ä»–çº¿ç¨‹è·Ÿéšå½“å‰è°ƒè¯•çº¿ç¨‹è¿è¡Œï¼Œä½†å…·ä½“æ€Žä¹ˆååŒè¿è¡Œï¼Œæµ‹è¯•ä¸­æ— æ³•ä½“çŽ°ã€‚ æ³¨æ„ï¼šset scheduler-lockingè¦å¤„äºŽçº¿ç¨‹è¿è¡ŒçŽ¯å¢ƒä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯ç¨‹åºå·²ç»è¿è¡Œå¹¶ä¸”æš‚åœåœ¨æŸä¸ªæ–­ç‚¹å¤„ï¼Œå¦åˆ™ä¼šå‡ºçŽ°â€œTarget â€˜execâ€™ cannot support this command.â€è¿™æ ·çš„é”™è¯¯ï¼›è€Œä¸”ç»è¿‡æµ‹è¯•ï¼Œè®¾ç½®åŽçš„scheduler-lockingå€¼åœ¨æ•´ä¸ªè¿›ç¨‹å†…æœ‰æ•ˆï¼Œä¸å±žäºŽæŸä¸ªçº¿ç¨‹ã€‚ gdbå¤šè¿›ç¨‹/å¤šçº¿ç¨‹è°ƒè¯•å®žæˆ˜ä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158b@b-VirtualBox:~/Documents/temp_test$ sudo gdb ./o_multi_thread_process [sudo] password for b: GNU gdb (Ubuntu 7.7.1-0ubuntu5~14.04.2) 7.7.1Copyright (C) 2014 Free Software Foundation, Inc.License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law. Type &quot;show copying&quot;and &quot;show warranty&quot; for details.This GDB was configured as &quot;x86_64-linux-gnu&quot;.Type &quot;show configuration&quot; for configuration details.For bug reporting instructions, please see:&lt;http://www.gnu.org/software/gdb/bugs/&gt;.Find the GDB manual and other documentation resources online at:&lt;http://www.gnu.org/software/gdb/documentation/&gt;.For help, type &quot;help&quot;.Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...Reading symbols from ./o_multi_thread_process...done.(gdb) attach 3027Attaching to program: /home/b/Documents/temp_test/o_multi_thread_process, process 3027Reading symbols from /lib/x86_64-linux-gnu/libpthread.so.0...Reading symbols from /usr/lib/debug//lib/x86_64-linux-gnu/libpthread-2.19.so...done.done.[New LWP 3029][Thread debugging using libthread_db enabled]Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.Loaded symbols for /lib/x86_64-linux-gnu/libpthread.so.0Reading symbols from /lib/x86_64-linux-gnu/libc.so.6...Reading symbols from /usr/lib/debug//lib/x86_64-linux-gnu/libc-2.19.so...done.done.Loaded symbols for /lib/x86_64-linux-gnu/libc.so.6Reading symbols from /lib64/ld-linux-x86-64.so.2...Reading symbols from /usr/lib/debug//lib/x86_64-linux-gnu/ld-2.19.so...done.done.Loaded symbols for /lib64/ld-linux-x86-64.so.20x00007f5c9acb8dfd in nanosleep () at ../sysdeps/unix/syscall-template.S:8181 ../sysdeps/unix/syscall-template.S: No such file or directory.(gdb) set follow-fork-mode parent (gdb) set detach-on-fork off(gdb) catch forkCatchpoint 1 (fork)(gdb) rStarting program: /home/b/Documents/temp_test/o_multi_thread_process [Thread debugging using libthread_db enabled]Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.Catchpoint 1 (forked process 3002), 0x00007ffff78b7ee4 in __libc_fork () at ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c:130130 ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c: No such file or directory.(gdb) info inferiors Num Description Executable * 1 process 2998 /home/b/Documents/temp_test/o_multi_thread_process (gdb) b 14Breakpoint 2 at 0x7ffff78b7f5b: file ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c, line 14.(gdb) info breakpoints Num Type Disp Enb Address What1 catchpoint keep y fork, process 3002 catchpoint already hit 1 time2 breakpoint keep y 0x00007ffff78b7f5b in __libc_fork at ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c:14(gdb) d 2(gdb) info breakpoints Num Type Disp Enb Address What1 catchpoint keep y fork, process 3002 catchpoint already hit 1 time(gdb) b multi_thread_process.cpp : 14Breakpoint 3 at 0x4007f4: file ./multi_thread_process.cpp, line 14.(gdb) cContinuing.[New process 3002][Thread debugging using libthread_db enabled]Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.Reading symbols from /usr/lib/debug/lib/x86_64-linux-gnu/libpthread-2.19.so...done.Reading symbols from /usr/lib/debug/lib/x86_64-linux-gnu/libc-2.19.so...done.Reading symbols from /usr/lib/debug/lib/x86_64-linux-gnu/ld-2.19.so...done.Breakpoint 3, main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:1515 if(pid != 0)(gdb) info inferiors Num Description Executable 2 process 3002 /home/b/Documents/temp_test/o_multi_thread_process * 1 process 2998 /home/b/Documents/temp_test/o_multi_thread_process (gdb) inferior 2[Switching to inferior 2 [process 3002] (/home/b/Documents/temp_test/o_multi_thread_process)][Switching to thread 2 (Thread 0x7ffff7fdf740 (LWP 3002))] 0 0x00007ffff78b7ee4 in __libc_fork () at ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c:130130 ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c: No such file or directory.(gdb) set scheduler-locking on(gdb) b multi_thread_process.cpp : 50Breakpoint 4 at 0x400916: multi_thread_process.cpp:50. (2 locations)(gdb) info threads Id Target Id Frame * 2 Thread 0x7ffff7fdf740 (LWP 3002) &quot;o_multi_thread_&quot; 0x00007ffff78b7ee4 in __libc_fork () at ../nptl/sysdeps/unix/sysv/linux/x86_64/../fork.c:130 1 Thread 0x7ffff7fdf740 (LWP 2998) &quot;o_multi_thread_&quot; main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:15(gdb) cContinuing.Breakpoint 3, main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:1515 if(pid != 0)(gdb) info threads Id Target Id Frame * 2 Thread 0x7ffff7fdf740 (LWP 3002) &quot;o_multi_thread_&quot; main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:15 1 Thread 0x7ffff7fdf740 (LWP 2998) &quot;o_multi_thread_&quot; main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:15(gdb) cContinuing.ProcessB: 3002 step1ProcessB: 3002 step2ProcessB: 3002 step3^CProgram received signal SIGINT, Interrupt.0x00007ffff78b7de0 in __nanosleep_nocancel () at ../sysdeps/unix/syscall-template.S:8181 ../sysdeps/unix/syscall-template.S: No such file or directory.(gdb) info threads Id Target Id Frame * 2 Thread 0x7ffff7fdf740 (LWP 3002) &quot;o_multi_thread_&quot; 0x00007ffff78b7de0 in __nanosleep_nocancel () at ../sysdeps/unix/syscall-template.S:81 1 Thread 0x7ffff7fdf740 (LWP 2998) &quot;o_multi_thread_&quot; main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:15(gdb) info inferiors Num Description Executable * 2 process 3002 /home/b/Documents/temp_test/o_multi_thread_process 1 process 2998 /home/b/Documents/temp_test/o_multi_thread_process (gdb) inferior 1[Switching to inferior 1 [process 2998] (/home/b/Documents/temp_test/o_multi_thread_process)][Switching to thread 1 (Thread 0x7ffff7fdf740 (LWP 2998))] 0 main (argc=1, argv=0x7fffffffe598) at ./multi_thread_process.cpp:1515 if(pid != 0)(gdb) list10 &#123;11 int pid;12 13 pid = fork();14 15 if(pid != 0)16 processA();17 else18 processB();19 (gdb) rThe program being debugged has been started already.Start it from the beginning? (y or n) nProgram not restarted.(gdb) cContinuing.ProcessA: 2998 step1[New Thread 0x7ffff77f6700 (LWP 3017)]^CProgram received signal SIGINT, Interrupt.0x00007ffff78b7dfd in nanosleep () at ../sysdeps/unix/syscall-template.S:8181 ../sysdeps/unix/syscall-template.S: No such file or directory.(gdb) info threads Id Target Id Frame 3 Thread 0x7ffff77f6700 (LWP 3017) &quot;o_multi_thread_&quot; clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:81 2 Thread 0x7ffff7fdf740 (LWP 3002) &quot;o_multi_thread_&quot; 0x00007ffff78b7de0 in __nanosleep_nocancel () at ../sysdeps/unix/syscall-template.S:81* 1 Thread 0x7ffff7fdf740 (LWP 2998) &quot;o_multi_thread_&quot; 0x00007ffff78b7dfd in nanosleep () at ../sysdeps/unix/syscall-template.S:81(gdb)]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>gdb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux å¸¸ç”¨SIGä¿¡å·åŠå…¶é”®å€¼]]></title>
    <url>%2F2015%2F08%2F04%2FLinux%20%E5%B8%B8%E7%94%A8SIG%E4%BF%A1%E5%8F%B7%E5%8F%8A%E5%85%B6%E9%94%AE%E5%80%BC%2F</url>
    <content type="text"><![CDATA[01 SIGHUP æŒ‚èµ·ï¼ˆhangupï¼‰ 02 SIGINT ä¸­æ–­ï¼Œå½“ç”¨æˆ·ä»Žé”®ç›˜æŒ‰^cé”®æˆ–^breaké”®æ—¶ 03 SIGQUIT é€€å‡ºï¼Œå½“ç”¨æˆ·ä»Žé”®ç›˜æŒ‰quité”®æ—¶ 04 SIGILL éžæ³•æŒ‡ä»¤ 05 SIGTRAP è·Ÿè¸ªé™·é˜±ï¼ˆtrace trapï¼‰ï¼Œå¯åŠ¨è¿›ç¨‹ï¼Œè·Ÿè¸ªä»£ç çš„æ‰§è¡Œ 06 SIGIOT IOTæŒ‡ä»¤ 07 SIGEMT EMTæŒ‡ä»¤ 08 SIGFPE æµ®ç‚¹è¿ç®—æº¢å‡º 09 SIGKILL æ€æ­»ã€ç»ˆæ­¢è¿›ç¨‹ 10 SIGBUS æ€»çº¿é”™è¯¯ 11 SIGSEGV æ®µè¿ä¾‹ï¼ˆsegmentation violationï¼‰ï¼Œè¿›ç¨‹è¯•å›¾åŽ»è®¿é—®å…¶è™šåœ°å€ç©ºé—´ä»¥å¤–çš„ä½ç½® 12 SIGSYS ç³»ç»Ÿè°ƒç”¨ä¸­å‚æ•°é”™ï¼Œå¦‚ç³»ç»Ÿè°ƒç”¨å·éžæ³• 13 SIGPIPE å‘æŸä¸ªéžè¯»ç®¡é“ä¸­å†™å…¥æ•°æ® 14 SIGALRM é—¹é’Ÿã€‚å½“æŸè¿›ç¨‹å¸Œæœ›åœ¨æŸæ—¶é—´åŽæŽ¥æ”¶ä¿¡å·æ—¶å‘æ­¤ä¿¡å· 15 SIGTERM è½¯ä»¶ç»ˆæ­¢ï¼ˆsoftware terminationï¼‰ 16 SIGUSR1 ç”¨æˆ·è‡ªå®šä¹‰ä¿¡å·1 17 SIGUSR2 ç”¨æˆ·è‡ªå®šä¹‰ä¿¡å·2 18 SIGCLD æŸä¸ªå­è¿›ç¨‹æ­» 19 SIGPWR ç”µæºæ•…éšœ]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>sig</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHPçš„è¶…çº§å…¨å±€å˜é‡å°ç»“]]></title>
    <url>%2F2015%2F07%2F13%2FPHP%E7%9A%84%E8%B6%85%E7%BA%A7%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%2F</url>
    <content type="text"><![CDATA[PHP è¶…çº§å…¨å±€å˜é‡æ¦‚ç» PHPä¸­é¢„å®šä¹‰äº†å‡ ä¸ªè¶…çº§å…¨å±€å˜é‡ï¼ˆsuperglobalsï¼‰ ï¼Œ è¿™æ„å‘³ç€å®ƒä»¬åœ¨ä¸€ä¸ªè„šæœ¬çš„å…¨éƒ¨ä½œç”¨åŸŸä¸­éƒ½å¯ç”¨ã€‚ ä½ ä¸éœ€è¦ç‰¹åˆ«è¯´æ˜Žï¼Œå°±å¯ä»¥åœ¨å‡½æ•°åŠç±»ä¸­ä½¿ç”¨ã€‚ PHP è¶…çº§å…¨å±€å˜é‡åˆ—è¡¨: $GLOBALS $_SERVER $_REQUEST $_POST $_GET $_FILES $_ENV $_COOKIE $_SESSION $GLOBALS$GLOBALS æ˜¯PHPçš„ä¸€ä¸ªè¶…çº§å…¨å±€å˜é‡ç»„ï¼Œ åœ¨ä¸€ä¸ªPHPè„šæœ¬çš„å…¨éƒ¨ä½œç”¨åŸŸä¸­éƒ½å¯ä»¥è®¿é—®ã€‚ $GLOBALS æ˜¯ä¸€ä¸ªåŒ…å«äº†å…¨éƒ¨å˜é‡çš„å…¨å±€ç»„åˆæ•°ç»„ã€‚å˜é‡çš„åå­—å°±æ˜¯æ•°ç»„çš„é”®ã€‚ ä»¥ä¸‹å®žä¾‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨è¶…çº§å…¨å±€å˜é‡ $GLOBALS: 123456789101112&lt;?php $x = 75; $y = 25; function addition() &#123; $GLOBALS[&apos;z&apos;] = $GLOBALS[&apos;x&apos;] + $GLOBALS[&apos;y&apos;]; &#125; addition(); echo $z; ?&gt; ä»¥ä¸Šå®žä¾‹ä¸­ z æ˜¯ä¸€ä¸ª$GLOBALSæ•°ç»„ä¸­çš„è¶…çº§å…¨å±€å˜é‡ï¼Œè¯¥å˜é‡åŒæ ·å¯ä»¥åœ¨å‡½æ•°å¤–è®¿é—®ã€‚ $_SERVER$_SERVER æ˜¯ä¸€ä¸ªåŒ…å«äº†è¯¸å¦‚å¤´ä¿¡æ¯(header)ã€è·¯å¾„(path)ã€ä»¥åŠè„šæœ¬ä½ç½®(script locations)ç­‰ç­‰ä¿¡æ¯çš„æ•°ç»„ã€‚ è¿™ä¸ªæ•°ç»„ä¸­çš„é¡¹ç›®ç”± Web æœåŠ¡å™¨åˆ›å»ºã€‚ ä¸èƒ½ä¿è¯æ¯ä¸ªæœåŠ¡å™¨éƒ½æä¾›å…¨éƒ¨é¡¹ç›®ï¼›æœåŠ¡å™¨å¯èƒ½ä¼šå¿½ç•¥ä¸€äº›ï¼Œæˆ– è€…æä¾›ä¸€äº›æ²¡æœ‰åœ¨è¿™é‡Œåˆ—ä¸¾å‡ºæ¥çš„é¡¹ç›®ã€‚ ä»¥ä¸‹å®žä¾‹ä¸­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨$_SERVERä¸­çš„å…ƒç´ : 12345678910111213&lt;?php echo $_SERVER[&apos;PHP_SELF&apos;];echo &quot;&lt;br&gt;&quot;;echo $_SERVER[&apos;SERVER_NAME&apos;];echo &quot;&lt;br&gt;&quot;;echo $_SERVER[&apos;HTTP_HOST&apos;];echo &quot;&lt;br&gt;&quot;;echo $_SERVER[&apos;HTTP_REFERER&apos;];echo &quot;&lt;br&gt;&quot;;echo $_SERVER[&apos;HTTP_USER_AGENT&apos;];echo &quot;&lt;br&gt;&quot;;echo $_SERVER[&apos;SCRIPT_NAME&apos;];?&gt; $_REQUESTPHP $_REQUEST ç”¨äºŽæ”¶é›†HTMLè¡¨å•æäº¤çš„æ•°æ®ã€‚ ä»¥ä¸‹å®žä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªè¾“å…¥å­—æ®µï¼ˆinputï¼‰åŠæäº¤æŒ‰é’®(submit)çš„è¡¨å•(form)ã€‚ å½“ç”¨æˆ·é€šè¿‡ç‚¹å‡» â€œSubmitâ€ æŒ‰é’®æäº¤è¡¨å•æ•°æ®æ—¶, è¡¨å•æ•°æ®å°†å‘é€è‡³æ ‡ç­¾ä¸­ action å±žæ€§ä¸­æŒ‡å®šçš„è„šæœ¬æ–‡ä»¶ã€‚ åœ¨è¿™ä¸ªå®žä¾‹ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šæ–‡ä»¶æ¥å¤„ç†è¡¨å•æ•°æ®ã€‚ å¦‚æžœä½ å¸Œæœ›å…¶ä»–çš„PHPæ–‡ä»¶æ¥å¤„ç†è¯¥æ•°æ®ï¼Œä½ å¯ä»¥ä¿®æ”¹è¯¥æŒ‡å®šçš„è„šæœ¬æ–‡ä»¶åã€‚ ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¶…çº§å…¨å±€å˜é‡ $_REQUEST æ¥æ”¶é›†è¡¨å•ä¸­çš„ input å­—æ®µæ•°æ®: 123456789101112131415 &lt;html&gt;&lt;body&gt;&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo $_SERVER[&apos;PHP_SELF&apos;];?&gt;&quot;&gt;Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;&lt;input type=&quot;submit&quot;&gt;&lt;/form&gt;&lt;?php $name = $_REQUEST[&apos;fname&apos;]; echo $name; ?&gt;&lt;/body&gt;&lt;/html&gt; $_POSTPHP $_POST è¢«å¹¿æ³›åº”ç”¨äºŽæ”¶é›†è¡¨å•æ•°æ®ï¼Œ åœ¨HTML formæ ‡ç­¾çš„æŒ‡å®šè¯¥å±žæ€§ï¼šâ€method=â€postâ€ã€‚ ä»¥ä¸‹å®žä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªè¾“å…¥å­—æ®µï¼ˆinputï¼‰åŠæäº¤æŒ‰é’®(submit)çš„è¡¨å•(form)ã€‚ å½“ç”¨æˆ·é€šè¿‡ç‚¹å‡» â€œSubmitâ€ æŒ‰é’®æäº¤è¡¨å•æ•°æ®æ—¶, è¡¨å•æ•°æ®å°†å‘é€è‡³æ ‡ç­¾ä¸­ action å±žæ€§ä¸­æŒ‡å®šçš„è„šæœ¬æ–‡ä»¶ã€‚ åœ¨è¿™ä¸ªå®žä¾‹ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šæ–‡ä»¶æ¥å¤„ç†è¡¨å•æ•°æ®ã€‚ å¦‚æžœä½ å¸Œæœ›å…¶ä»–çš„PHPæ–‡ä»¶æ¥å¤„ç†è¯¥æ•°æ®ï¼Œä½ å¯ä»¥ä¿®æ”¹è¯¥æŒ‡å®šçš„è„šæœ¬æ–‡ä»¶åã€‚ ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¶…çº§å…¨å±€å˜é‡ $_POST æ¥æ”¶é›†è¡¨å•ä¸­çš„ input å­—æ®µæ•°æ®: 123456789101112131415&lt;html&gt;&lt;body&gt;&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo $_SERVER[&apos;PHP_SELF&apos;];?&gt;&quot;&gt;Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;&lt;input type=&quot;submit&quot;&gt;&lt;/form&gt;&lt;?php $name = $_POST[&apos;fname&apos;]; echo $name; ?&gt;&lt;/body&gt;&lt;/html&gt; $_GETPHP $_GET åŒæ ·è¢«å¹¿æ³›åº”ç”¨äºŽæ”¶é›†è¡¨å•æ•°æ®ï¼Œ åœ¨HTML formæ ‡ç­¾çš„æŒ‡å®šè¯¥å±žæ€§ï¼šâ€method=â€getâ€ã€‚ $_GET ä¹Ÿå¯ä»¥æ”¶é›†URLä¸­å‘é€çš„æ•°æ®ã€‚ å‡å®šæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å‚æ•°çš„è¶…é“¾æŽ¥HTMLé¡µé¢ï¼š1234567&lt;html&gt;&lt;body&gt;&lt;a href=&quot;test_get.php?subject=PHP&amp;web=runoob.com&quot;&gt;Test $GET&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; å½“ç”¨æˆ·ç‚¹å‡»é“¾æŽ¥ â€œTest $GETâ€, å‚æ•° â€œsubjectâ€ å’Œ â€œwebâ€ å°†å‘é€è‡³â€test_get.phpâ€, ä½ å¯ä»¥åœ¨ â€œtest_get.phpâ€ æ–‡ä»¶ä¸­ä½¿ç”¨ $_GET å˜é‡æ¥èŽ·å–è¿™äº›æ•°æ®ã€‚ ä»¥ä¸‹å®žä¾‹æ˜¾ç¤ºäº† â€œtest_get.phpâ€ æ–‡ä»¶çš„ä»£ç :123456789&lt;html&gt;&lt;body&gt;&lt;?php echo &quot;Study &quot; . $_GET[&apos;subject&apos;] . &quot; at &quot; . $_GET[&apos;web&apos;];?&gt;&lt;/body&gt;&lt;/html&gt; $_REQUESTã€$_POSTã€$_GETçš„åŒºåˆ«å’Œè”ç³»å°ç»“1. $_REQUESTphpä¸­$_REQUESTå¯ä»¥èŽ·å–ä»¥POSTæ–¹æ³•å’ŒGETæ–¹æ³•æäº¤çš„æ•°æ®ï¼Œä½†æ˜¯é€Ÿåº¦æ¯”è¾ƒæ…¢ 2. $_GETç”¨æ¥èŽ·å–ç”±æµè§ˆå™¨é€šè¿‡GETæ–¹æ³•æäº¤çš„æ•°æ®ã€‚GETæ–¹æ³•ä»–æ˜¯é€šè¿‡æŠŠå‚æ•°æ•°æ®åŠ åœ¨æäº¤è¡¨å•çš„actionå±žæ€§æ‰€æŒ‡çš„URLä¸­ï¼Œå€¼å’Œè¡¨å•å†…æ¯ä¸ªå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œç„¶åŽåœ¨URLä¸­å¯ä»¥çœ‹åˆ°ï¼Œä½†æ˜¯æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼š å®‰å…¨æ€§ä¸å¥½ï¼Œåœ¨URLä¸­å¯ä»¥çœ‹å¾—åˆ° ä¼ é€æ•°æ®é‡è¾ƒå°ï¼Œä¸èƒ½å¤§äºŽ2KBã€‚ 3. $_POSTç”¨æ¥èŽ·å–ç”±æµè§ˆå™¨é€šè¿‡POSTæ–¹æ³•æäº¤çš„æ•°æ®ã€‚POSTæ–¹æ³•ä»–æ˜¯é€šè¿‡HTTP POSTæœºåˆ¶ï¼Œå°†è¡¨å•çš„å„ä¸ªå­—æ®µæ”¾ç½®åœ¨HTTP HEADERå†…ä¸€èµ·ä¼ é€åˆ°actionå±žæ€§æ‰€æŒ‡çš„URLåœ°å€ä¸­ï¼Œç”¨æˆ·çœ‹ä¸åˆ°è¿™ä¸ªè¿‡ç¨‹ã€‚ä»–æäº¤çš„å¤§å°ä¸€èˆ¬æ¥è¯´ä¸å—é™åˆ¶ï¼Œä½†æ˜¯å…·ä½“æ ¹æ®æœåŠ¡å™¨çš„ä¸åŒï¼Œè¿˜æ˜¯ç•¥æœ‰ä¸åŒã€‚ç›¸å¯¹äºŽ_GETæ–¹å¼å®‰å…¨æ€§ç•¥é«˜ 4. $_REQUESTã€$_POSTã€$_GET çš„åŒºåˆ«å’Œè”ç³»$_REQUEST[â€œå‚æ•°â€]å…·ç”¨$_POST[â€œå‚æ•°â€] $_GET[â€œå‚æ•°â€]çš„åŠŸèƒ½,ä½†æ˜¯$_REQUEST[â€œå‚æ•°â€]æ¯”è¾ƒæ…¢ã€‚é€šè¿‡postå’Œgetæ–¹æ³•æäº¤çš„æ‰€æœ‰æ•°æ®éƒ½å¯ä»¥é€šè¿‡$_REQUESTæ•°ç»„[â€œå‚æ•°â€]èŽ·å¾—]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå’Œluaæ•°æ®ç±»åž‹çš„æ¯”è¾ƒ]]></title>
    <url>%2F2015%2F07%2F11%2Fpython%E5%92%8Clua%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%AF%94%E8%BE%83%2F</url>
    <content type="text"><![CDATA[Pythonæ¯”è¾ƒç‰¹æ®Šçš„æ•°æ®ç±»åž‹ï¼šList []ä¾‹å¦‚ :123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*- list = [ &apos;runoob&apos;, 786 , 2.23, &apos;john&apos;, 70.2 ]tinylist = [123, &apos;john&apos;] print list # è¾“å‡ºå®Œæ•´åˆ—è¡¨print list[0] # è¾“å‡ºåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ print list[1:3] # è¾“å‡ºç¬¬äºŒä¸ªè‡³ç¬¬ä¸‰ä¸ªçš„å…ƒç´  print list[2:] # è¾“å‡ºä»Žç¬¬ä¸‰ä¸ªå¼€å§‹è‡³åˆ—è¡¨æœ«å°¾çš„æ‰€æœ‰å…ƒç´ print tinylist * 2 # è¾“å‡ºåˆ—è¡¨ä¸¤æ¬¡print list + tinylist # æ‰“å°ç»„åˆçš„åˆ—è¡¨ ä»¥ä¸Šå®žä¾‹è¾“å‡ºç»“æžœï¼š123456[&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2]runoob[786, 2.23][2.23, &apos;john&apos;, 70.2][123, &apos;john&apos;, 123, &apos;john&apos;][&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2, 123, &apos;john&apos;] Tupleï¼ˆå…ƒç¥–ï¼‰(),ç›¸å½“äºŽåªè¯»åˆ—è¡¨ï¼Œä¸å¯ä»¥äºŒæ¬¡èµ‹å€¼tuple = ( &#39;runoob&#39;, 786 , 2.23, &#39;john&#39;, 70.2 ), é™¤äº†å…ƒç¥–ç”¨()è€Œlistç”¨[], è€Œä¸”å…ƒç¥–åªæ˜¯å¯è¯»çš„, å…¶ä»–çš„è·Ÿlistä¸€æ¯›ä¸€æ · dictionaryï¼ˆå­—å…¸ï¼‰{}ï¼Œkeyå€¼å¯¹123456789101112131415#!/usr/bin/python# -*- coding: UTF-8 -*- dict = &#123;&#125;dict[&apos;one&apos;] = &quot;This is one&quot;dict[2] = &quot;This is two&quot; tinydict = &#123;&apos;name&apos;: &apos;john&apos;,&apos;code&apos;:6734, &apos;dept&apos;: &apos;sales&apos;&#125; print dict[&apos;one&apos;] # è¾“å‡ºé”®ä¸º&apos;one&apos; çš„å€¼print dict[2] # è¾“å‡ºé”®ä¸º 2 çš„å€¼print tinydict # è¾“å‡ºå®Œæ•´çš„å­—å…¸print tinydict.keys() # è¾“å‡ºæ‰€æœ‰é”®print tinydict.values() # è¾“å‡ºæ‰€æœ‰å€¼ è¾“å‡ºç»“æžœä¸º:12345This is oneThis is two&#123;&apos;dept&apos;: &apos;sales&apos;, &apos;code&apos;: 6734, &apos;name&apos;: &apos;john&apos;&#125;[&apos;dept&apos;, &apos;code&apos;, &apos;name&apos;][&apos;sales&apos;, 6734, &apos;john&apos;] luaæ¯”è¾ƒç‰¹æ®Šçš„æ•°æ®ç±»åž‹luaå˜é‡ å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œå¿…é¡»åœ¨ä»£ç ä¸­è¿›è¡Œå£°æ˜Žï¼Œå³åˆ›å»ºè¯¥å˜é‡ã€‚ ç¼–è¯‘ç¨‹åºæ‰§è¡Œä»£ç ä¹‹å‰ç¼–è¯‘å™¨éœ€è¦çŸ¥é“å¦‚ä½•ç»™è¯­å¥å˜é‡å¼€è¾Ÿå­˜å‚¨åŒºï¼Œç”¨äºŽå­˜å‚¨å˜é‡çš„å€¼ã€‚ Lua å˜é‡æœ‰ä¸‰ç§ç±»åž‹ï¼šå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ã€è¡¨ä¸­çš„åŸŸã€‚ Lua ä¸­çš„å˜é‡å…¨æ˜¯å…¨å±€å˜é‡ï¼Œé‚£æ€•æ˜¯è¯­å¥å—æˆ–æ˜¯å‡½æ•°é‡Œï¼Œé™¤éžç”¨ local æ˜¾å¼å£°æ˜Žä¸ºå±€éƒ¨å˜é‡ã€‚ å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸä¸ºä»Žå£°æ˜Žä½ç½®å¼€å§‹åˆ°æ‰€åœ¨è¯­å¥å—ç»“æŸã€‚ å˜é‡çš„é»˜è®¤å€¼å‡ä¸º nilã€‚ test.lua æ–‡ä»¶è„šæœ¬123456789101112131415161718a = 5 -- å…¨å±€å˜é‡local b = 5 -- å±€éƒ¨å˜é‡function joke() c = 5 -- å…¨å±€å˜é‡ local d = 6 -- å±€éƒ¨å˜é‡endjoke()print(c,d) --&gt; 5 nildo local a = 6 -- å±€éƒ¨å˜é‡ b = 6 -- å…¨å±€å˜é‡ print(a,b); --&gt; 6 6endprint(a,b) --&gt; 5 6 æ‰§è¡Œä»¥ä¸Šå®žä¾‹è¾“å‡ºç»“æžœä¸ºï¼š 1234$ lua test.lua 5 nil6 65 6 luaçš„ç‰¹æœ‰çš„ä¸œè¥¿tableï¼ˆè¡¨ï¼‰åœ¨ Lua é‡Œï¼Œtable çš„åˆ›å»ºæ˜¯é€šè¿‡â€æž„é€ è¡¨è¾¾å¼â€æ¥å®Œæˆï¼Œ æœ€ç®€å•æž„é€ è¡¨è¾¾å¼æ˜¯{}ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºè¡¨ã€‚ ä¹Ÿå¯ä»¥åœ¨è¡¨é‡Œæ·»åŠ ä¸€äº›æ•°æ®ï¼Œç›´æŽ¥åˆå§‹åŒ–è¡¨:12345-- åˆ›å»ºä¸€ä¸ªç©ºçš„ tablelocal tbl1 = &#123;&#125; -- ç›´æŽ¥åˆå§‹è¡¨local tbl2 = &#123;&quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;grape&quot;&#125; Lua ä¸­çš„è¡¨ï¼ˆtableï¼‰å…¶å®žæ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€ï¼ˆassociative arraysï¼‰ï¼Œæ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—ç¬¦ä¸²ã€‚ 123456789-- table_test.lua è„šæœ¬æ–‡ä»¶a = &#123;&#125;a[&quot;key&quot;] = &quot;value&quot;key = 10a[key] = 22a[key] = a[key] + 11for k, v in pairs(a) do print(k .. &quot; : &quot; .. v)end è„šæœ¬æ‰§è¡Œç»“æžœä¸ºï¼š123$ lua table_test.lua key : value10 : 33 ä¸åŒäºŽå…¶ä»–è¯­è¨€çš„æ•°ç»„æŠŠ 0 ä½œä¸ºæ•°ç»„çš„åˆå§‹ç´¢å¼•ï¼Œåœ¨ Lua é‡Œè¡¨çš„é»˜è®¤åˆå§‹ç´¢å¼•ä¸€èˆ¬ä»¥ 1 å¼€å§‹ã€‚12345-- table_test2.lua è„šæœ¬æ–‡ä»¶local tbl = &#123;&quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;grape&quot;&#125;for key, val in pairs(tbl) do print(&quot;Key&quot;, key)end è„šæœ¬æ‰§è¡Œç»“æžœä¸ºï¼š12345$ lua table_test2.lua Key 1Key 2Key 3Key 4 table ä¸ä¼šå›ºå®šé•¿åº¦å¤§å°ï¼Œæœ‰æ–°æ•°æ®æ·»åŠ æ—¶ table é•¿åº¦ä¼šè‡ªåŠ¨å¢žé•¿ï¼Œæ²¡åˆå§‹çš„ table éƒ½æ˜¯ nilã€‚12345678-- table_test3.lua è„šæœ¬æ–‡ä»¶a3 = &#123;&#125;for i = 1, 10 do a3[i] = ienda3[&quot;key&quot;] = &quot;val&quot;print(a3[&quot;key&quot;])print(a3[&quot;none&quot;]) è„šæœ¬æ‰§è¡Œç»“æžœä¸ºï¼š123$ lua table_test3.lua valnil]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>lua</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[redisæ¦‚è¦ä¹‹æ•°æ®ç±»åž‹]]></title>
    <url>%2F2015%2F07%2F11%2Fredis%E6%A6%82%E8%A6%81%E4%B9%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[Redisç®€ä»‹è¦ä¹‰ Redisè¿è¡Œåœ¨å†…å­˜ä¸­ä½†æ˜¯å¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜, é‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ Redisçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŽŸå­æ€§çš„ï¼ŒåŒæ—¶Redisè¿˜æ”¯æŒå¯¹å‡ ä¸ªæ“ä½œå…¨å¹¶åŽçš„åŽŸå­æ€§æ‰§è¡Œ Redisæ”¯æŒäºŒè¿›åˆ¶æ¡ˆä¾‹çš„ Strings, Lists, Hashes, Sets åŠ Ordered Sets æ•°æ®ç±»åž‹æ“ä½œ Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ Redisæ•°æ®ç±»åž‹ Redisçš„æ•°æ®ç±»åž‹å¾ˆé‡è¦, è¿™æ˜¯ä»–åšå¾ˆå¤šäº‹æƒ…çš„åŸºç¡€, ä¸ç†è§£çš„è¯å¾ˆéš¾ç”¨å¥½ String(å­—ç¬¦ä¸²)stringæ˜¯redisæœ€åŸºæœ¬çš„ç±»åž‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ŽMemcachedä¸€æ¨¡ä¸€æ ·çš„ç±»åž‹ï¼Œ ä¸€ä¸ªkeyå¯¹åº”ä¸€ä¸ªvalueã€‚ stringç±»åž‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚ äºŒè¿›åˆ¶å®‰å…¨çš„æ„æ€æ˜¯redisçš„stringå¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚ æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ ã€‚ stringç±»åž‹æ˜¯Redisæœ€åŸºæœ¬çš„æ•°æ®ç±»åž‹ï¼Œä¸€ä¸ªé”®æœ€å¤§èƒ½å­˜å‚¨512MBã€‚ å®žä¾‹ : 1234redis 127.0.0.1:6379&gt; SET name &quot;runoob&quot;OKredis 127.0.0.1:6379&gt; GET name&quot;runoob&quot; Hashï¼ˆå“ˆå¸Œï¼‰Redis hash æ˜¯ä¸€ä¸ªé”®åå¯¹é›†åˆã€‚ Redis hashæ˜¯ä¸€ä¸ªstringç±»åž‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºŽå­˜å‚¨å¯¹è±¡ã€‚ å®žä¾‹ :123456789127.0.0.1:6379&gt; HMSET user:1 username runoob password runoob points 200OK127.0.0.1:6379&gt; HGETALL user:11) &quot;username&quot;2) &quot;runoob&quot;3) &quot;password&quot;4) &quot;runoob&quot;5) &quot;points&quot;6) &quot;200&quot; ä»¥ä¸Šå®žä¾‹ä¸­ hash æ•°æ®ç±»åž‹å­˜å‚¨äº†åŒ…å«ç”¨æˆ·è„šæœ¬ä¿¡æ¯çš„ç”¨æˆ·å¯¹è±¡ã€‚ å®žä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† Redis HMSET, HGETALL å‘½ä»¤ï¼Œuser:1 ä¸ºé”®å€¼ã€‚ æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 -1 é”®å€¼å¯¹ï¼ˆ40å¤šäº¿ï¼‰ã€‚ Listï¼ˆåˆ—è¡¨ï¼‰Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæŽ’åºã€‚ ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚ å®žä¾‹ :1234567891011redis 127.0.0.1:6379&gt; lpush runoob redis(integer) 1redis 127.0.0.1:6379&gt; lpush runoob mongodb(integer) 2redis 127.0.0.1:6379&gt; lpush runoob rabitmq(integer) 3redis 127.0.0.1:6379&gt; lrange runoob 0 101) &quot;rabitmq&quot;2) &quot;mongodb&quot;3) &quot;redis&quot;redis 127.0.0.1:6379&gt; åˆ—è¡¨æœ€å¤šå¯å­˜å‚¨ 232 - 1 å…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨å¯å­˜å‚¨40å¤šäº¿)ã€‚ Setï¼ˆé›†åˆï¼‰Redisçš„Setæ˜¯stringç±»åž‹çš„æ— åºé›†åˆã€‚ é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®žçŽ°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚ sadd å‘½ä»¤æ·»åŠ ä¸€ä¸ªstringå…ƒç´ åˆ°,keyå¯¹åº”çš„seté›†åˆä¸­ï¼ŒæˆåŠŸè¿”å›ž1, å¦‚æžœå…ƒç´ å·²ç»åœ¨é›†åˆä¸­è¿”å›ž0,keyå¯¹åº”çš„setä¸å­˜åœ¨è¿”å›žé”™è¯¯ã€‚ sadd key member å®žä¾‹ :12345678910111213redis 127.0.0.1:6379&gt; sadd runoob redis(integer) 1redis 127.0.0.1:6379&gt; sadd runoob mongodb(integer) 1redis 127.0.0.1:6379&gt; sadd runoob rabitmq(integer) 1redis 127.0.0.1:6379&gt; sadd runoob rabitmq(integer) 0redis 127.0.0.1:6379&gt; smembers runoob1) &quot;rabitmq&quot;2) &quot;mongodb&quot;3) &quot;redis&quot; æ³¨æ„ï¼šä»¥ä¸Šå®žä¾‹ä¸­ rabitmq æ·»åŠ äº†ä¸¤æ¬¡ï¼Œ ä½†æ ¹æ®é›†åˆå†…å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œç¬¬äºŒæ¬¡æ’å…¥çš„å…ƒç´ å°†è¢«å¿½ç•¥ã€‚ é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1(4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚ zset(sorted setï¼šæœ‰åºé›†åˆ)Redis zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»åž‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»åž‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»Žå°åˆ°å¤§çš„æŽ’åºã€‚ zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚ zadd å‘½ä»¤æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”scorezadd key score memberå®žä¾‹ :12345678910111213redis 127.0.0.1:6379&gt; zadd runoob 0 redis(integer) 1redis 127.0.0.1:6379&gt; zadd runoob 0 mongodb(integer) 1redis 127.0.0.1:6379&gt; zadd runoob 0 rabitmq(integer) 1redis 127.0.0.1:6379&gt; zadd runoob 0 rabitmq(integer) 0redis 127.0.0.1:6379&gt; ZRANGEBYSCORE runoob 0 10001) &quot;redis&quot;2) &quot;mongodb&quot;3) &quot;rabitmq&quot;]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>nosql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[socketå¯è¯»å¯å†™æ¡ä»¶ä¸Žéžé˜»å¡žconnectæˆ–acceptæµ…æž]]></title>
    <url>%2F2015%2F06%2F22%2Fsocket%E5%8F%AF%E8%AF%BB%E5%8F%AF%E5%86%99%E6%9D%A1%E4%BB%B6%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9Econnect%E6%88%96accept%E6%B5%85%E6%9E%90%2F</url>
    <content type="text"><![CDATA[socketå¯è¯»çš„æ¡ä»¶: socketçš„æŽ¥æ”¶ç¼“å†²åŒºä¸­çš„æ•°æ®å­—èŠ‚å¤§äºŽç­‰äºŽè¯¥socketçš„æŽ¥æ”¶ç¼“å†²åŒºä½Žæ°´ä½æ ‡è®°çš„å½“å‰å¤§å°ã€‚å¯¹è¿™æ ·çš„socketçš„è¯»æ“ä½œå°†ä¸é˜»å¡žå¹¶è¿”å›žä¸€ä¸ªå¤§äºŽ0çš„å€¼(ä¹Ÿå°±æ˜¯è¿”å›žå‡†å¤‡å¥½è¯»å…¥çš„æ•°æ®)ã€‚æˆ‘ä»¬å¯ä»¥ç”¨SO_RCVLOWATsocketé€‰é¡¹æ¥è®¾ç½®è¯¥socketçš„ä½Žæ°´ä½æ ‡è®°ã€‚å¯¹äºŽTCPå’ŒUDP .socketè€Œè¨€ï¼Œå…¶ç¼ºçœå€¼ä¸º1. è¯¥è¿žæŽ¥çš„è¯»è¿™ä¸€åŠå…³é—­(ä¹Ÿå°±æ˜¯æŽ¥æ”¶äº†FINçš„TCPè¿žæŽ¥)ã€‚å¯¹è¿™æ ·çš„socketçš„è¯»æ“ä½œå°†ä¸é˜»å¡žå¹¶è¿”å›ž0 ç»™ç›‘å¬å¥—æŽ¥å­—å‡†å¤‡å¥½æ–°è¿žæŽ¥ æœ‰ä¸€ä¸ªsocketæœ‰å¼‚å¸¸é”™è¯¯æ¡ä»¶å¾…å¤„ç†.å¯¹äºŽè¿™æ ·çš„socketçš„è¯»æ“ä½œå°†ä¸ä¼šé˜»å¡ž,å¹¶ä¸”è¿”å›žä¸€ä¸ªé”™è¯¯(-1),errnoåˆ™è®¾ç½®æˆæ˜Žç¡®çš„é”™è¯¯æ¡ä»¶.è¿™äº›å¾…å¤„ç†çš„é”™è¯¯ä¹Ÿå¯é€šè¿‡æŒ‡å®šsocketé€‰é¡¹SO_ERRORè°ƒç”¨getsockoptæ¥å–å¾—å¹¶æ¸…é™¤; socketå¯å†™çš„æ¡ä»¶: socketçš„å‘é€ç¼“å†²åŒºä¸­çš„æ•°æ®å­—èŠ‚å¤§äºŽç­‰äºŽè¯¥socketçš„å‘é€ç¼“å†²åŒºä½Žæ°´ä½æ ‡è®°çš„å½“å‰å¤§å°ã€‚å¯¹è¿™æ ·çš„socketçš„å†™æ“ä½œå°†ä¸é˜»å¡žå¹¶è¿”å›žä¸€ä¸ªå¤§äºŽ0çš„å€¼(ä¹Ÿå°±æ˜¯è¿”å›žå‡†å¤‡å¥½å†™å…¥çš„æ•°æ®)ã€‚æˆ‘ä»¬å¯ä»¥ç”¨SO_SNDLOWAT socketé€‰é¡¹æ¥è®¾ç½®è¯¥socketçš„ä½Žæ°´ä½æ ‡è®°ã€‚å¯¹äºŽTCPå’ŒUDPsocketè€Œè¨€ï¼Œå…¶ç¼ºçœå€¼ä¸º2048 è¯¥è¿žæŽ¥çš„å†™è¿™ä¸€åŠå…³é—­ã€‚å¯¹è¿™æ ·çš„socketçš„å†™æ“ä½œå°†äº§ç”ŸSIGPIPEä¿¡å·ï¼Œè¯¥ä¿¡å·çš„ç¼ºçœè¡Œä¸ºæ˜¯ç»ˆæ­¢è¿›ç¨‹ã€‚ ä½¿ç”¨éžé˜»å¡žconnectçš„å¥—æŽ¥å­—å·²å»ºç«‹è¿žæŽ¥, æˆ–è€…connectå·²ç»ä»¥å¤±è´¥å‘Šç»ˆ æœ‰ä¸€ä¸ªsocketå¼‚å¸¸é”™è¯¯æ¡ä»¶å¾…å¤„ç†.å¯¹äºŽè¿™æ ·çš„socketçš„å†™æ“ä½œå°†ä¸ä¼šé˜»å¡žå¹¶ä¸”è¿”å›žä¸€ä¸ªé”™è¯¯(-1),errnoåˆ™è®¾ç½®æˆæ˜Žç¡®çš„é”™è¯¯æ¡ä»¶.è¿™äº›å¾…å¤„ç†çš„é”™è¯¯ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šsocketé€‰é¡¹SO_ERRORè°ƒç”¨getsockoptå‡½æ•°æ¥å–å¾—å¹¶æ¸…é™¤; éžé˜»å¡žconnect/acceptç›¸å…³è¿°çš„å„ç§æ¡ä»¶å¯ä»¥å¤§ä½“æ€»ç»“ä¸ºä¸‹å›¾ æ³¨æ„ : å½“socketå¼‚å¸¸é”™è¯¯çš„æ—¶å€™socketæ˜¯å¯è¯»å¹¶å¯å†™çš„, æ‰€ä»¥åœ¨éžé˜»å¡žconnect(åˆ¤æ–­æ˜¯å¦å¯å†™)/accept(åˆ¤æ–­æ˜¯å¦å¯è¯»)çš„æ—¶å€™è¦ç‰¹åˆ«æ³¨æ„è¿™ç§æƒ…å†µ, è¦ç”¨getsockoptå‡½æ•°, ä½¿ç”¨SO_ERRORé€‰é¡¹æ¥æ£€æŸ¥å¤„ç†.]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>socket</tag>
        <tag>éžé˜»å¡ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³ç³»åž‹æ•°æ®åº“ä¸ŽNoSQLçš„çˆ±æ¨æƒ…ä»‡]]></title>
    <url>%2F2015%2F05%2F20%2F%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8ENoSQL%E7%9A%84%E7%88%B1%E6%81%A8%E6%83%85%E4%BB%87%2F</url>
    <content type="text"><![CDATA[NoSQLå› å…³ç³»æ•°æ®åº“çš„ä¸è¶³è€Œç”Ÿéšç€äº’è”ç½‘çš„ä¸æ–­å‘å±•ï¼Œå„ç§ç±»åž‹çš„åº”ç”¨å±‚å‡ºä¸ç©·ï¼Œæ‰€ä»¥å¯¼è‡´åœ¨è¿™ä¸ªäº‘è®¡ç®—çš„æ—¶ä»£ï¼Œ å¯¹æŠ€æœ¯æå‡ºäº†æ›´å¤šçš„éœ€æ±‚ï¼Œä¸»è¦ä½“çŽ°åœ¨ä¸‹é¢è¿™å››ä¸ªæ–¹é¢ï¼š ä½Žå»¶è¿Ÿçš„è¯»å†™é€Ÿåº¦ï¼šåº”ç”¨å¿«é€Ÿåœ°ååº”èƒ½æžå¤§åœ°æå‡ç”¨æˆ·çš„æ»¡æ„åº¦; æ”¯æ’‘æµ·é‡çš„æ•°æ®å’Œæµé‡ï¼šå¯¹äºŽæœç´¢è¿™æ ·å¤§åž‹åº”ç”¨è€Œè¨€ï¼Œéœ€è¦åˆ©ç”¨PBçº§åˆ«çš„æ•°æ®å’Œèƒ½åº”å¯¹ç™¾ä¸‡çº§çš„æµé‡; å¤§è§„æ¨¡é›†ç¾¤çš„ç®¡ç†ï¼šç³»ç»Ÿç®¡ç†å‘˜å¸Œæœ›åˆ†å¸ƒå¼åº”ç”¨èƒ½æ›´ç®€å•çš„éƒ¨ç½²å’Œç®¡ç†; åºžå¤§è¿è¥æˆæœ¬çš„è€ƒé‡ï¼šITç»ç†ä»¬å¸Œæœ›åœ¨ç¡¬ä»¶æˆæœ¬ã€è½¯ä»¶æˆæœ¬å’ŒäººåŠ›æˆæœ¬èƒ½å¤Ÿæœ‰å¤§å¹…åº¦åœ°é™ä½Ž; ç›®å‰ä¸–ç•Œä¸Šä¸»æµçš„å­˜å‚¨ç³»ç»Ÿå¤§éƒ¨åˆ†è¿˜æ˜¯é‡‡ç”¨äº†å…³ç³»åž‹æ•°æ®åº“ï¼Œå…¶ä¸»è¦æœ‰ä¸€ä¸‹ä¼˜ç‚¹ï¼š äº‹åŠ¡å¤„ç†â€”ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼› ç”±äºŽä»¥æ ‡å‡†åŒ–ä¸ºå‰æï¼Œæ•°æ®æ›´æ–°çš„å¼€é”€å¾ˆå°ï¼ˆç›¸åŒçš„å­—æ®µåŸºæœ¬ä¸Šåªæœ‰ä¸€å¤„ï¼‰ï¼› å¯ä»¥è¿›è¡ŒJoinç­‰å¤æ‚æŸ¥è¯¢ã€‚ è™½ç„¶å…³ç³»åž‹æ•°æ®åº“å·²ç»åœ¨ä¸šç•Œçš„æ•°æ®å­˜å‚¨æ–¹é¢å æ®ä¸å¯åŠ¨æ‘‡çš„åœ°ä½ï¼Œä½†æ˜¯ç”±äºŽå…¶å¤©ç”Ÿçš„å‡ ä¸ªé™åˆ¶ï¼Œ ä½¿å…¶å¾ˆéš¾æ»¡è¶³ä¸Šé¢è¿™å‡ ä¸ªéœ€æ±‚ï¼š æ‰©å±•å›°éš¾ï¼šç”±äºŽå­˜åœ¨ç±»ä¼¼Joinè¿™æ ·å¤šè¡¨æŸ¥è¯¢æœºåˆ¶ï¼Œä½¿å¾—æ•°æ®åº“åœ¨æ‰©å±•æ–¹é¢å¾ˆè‰°éš¾; è¯»å†™æ…¢ï¼šè¿™ç§æƒ…å†µä¸»è¦å‘ç”Ÿåœ¨æ•°æ®é‡è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ç”±äºŽå…³ç³»åž‹æ•°æ®åº“çš„ç³»ç»Ÿé€»è¾‘éžå¸¸å¤æ‚ï¼Œä½¿å¾—å…¶éžå¸¸å®¹æ˜“å‘ç”Ÿæ­»é”ç­‰çš„å¹¶å‘é—®é¢˜ï¼Œæ‰€ä»¥å¯¼è‡´å…¶è¯»å†™é€Ÿåº¦ä¸‹æ»‘éžå¸¸ä¸¥é‡; æˆæœ¬é«˜ï¼šä¼ä¸šçº§æ•°æ®åº“çš„Licenseä»·æ ¼å¾ˆæƒŠäººï¼Œå¹¶ä¸”éšç€ç³»ç»Ÿçš„è§„æ¨¡ï¼Œè€Œä¸æ–­ä¸Šå‡; æœ‰é™çš„æ”¯æ’‘å®¹é‡ï¼šçŽ°æœ‰å…³ç³»åž‹è§£å†³æ–¹æ¡ˆè¿˜æ— æ³•æ”¯æ’‘Googleè¿™æ ·æµ·é‡çš„æ•°æ®å­˜å‚¨; ä¸šç•Œä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„å‡ ä¸ªéœ€æ±‚ï¼ŒæŽ¨å‡ºäº†å¤šæ¬¾æ–°ç±»åž‹çš„æ•°æ®åº“ï¼Œå¹¶ä¸”ç”±äºŽå®ƒä»¬åœ¨è®¾è®¡ä¸Šå’Œä¼ ç»Ÿçš„NoSQLæ•°æ®åº“ç›¸æ¯”æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œæ‰€ä»¥è¢«ç»Ÿç§°ä¸ºâ€œNoSQLâ€ç³»åˆ—æ•°æ®åº“ã€‚ æ€»çš„æ¥è¯´ï¼Œåœ¨è®¾è®¡ä¸Šï¼Œå®ƒä»¬éžå¸¸å…³æ³¨å¯¹æ•°æ®é«˜å¹¶å‘åœ°è¯»å†™å’Œå¯¹æµ·é‡æ•°æ®çš„å­˜å‚¨ç­‰ï¼Œä¸Žå…³ç³»åž‹æ•°æ®åº“ç›¸æ¯”ï¼Œå®ƒä»¬åœ¨æž¶æž„å’Œæ•°æ®æ¨¡åž‹æ–¹é‡é¢åšäº†â€œå‡æ³•â€ï¼Œ è€Œåœ¨æ‰©å±•å’Œå¹¶å‘ç­‰æ–¹é¢åšäº†â€œåŠ æ³•â€ã€‚ çŽ°åœ¨ä¸»æµçš„NoSQLæ•°æ®åº“æœ‰MongoDBå’ŒRedisä»¥åŠBigTableã€Hbaseã€Cassandraã€SimpleDBã€CouchDBã€ç­‰ã€‚ æŽ¥ä¸‹æ¥ï¼Œå°†å…³æ³¨NoSQLæ•°æ®åº“åˆ°åº•å­˜åœ¨å“ªäº›ä¼˜ç¼ºç‚¹ã€‚ NoSQLçš„ä¼˜ç¼ºç‚¹åœ¨ä¼˜åŠ¿æ–¹é¢ï¼Œä¸»è¦ä½“çŽ°åœ¨ä¸‹é¢è¿™ä¸‰ç‚¹ï¼š ç®€å•çš„æ‰©å±•ï¼šå…¸åž‹ä¾‹å­æ˜¯Cassandraï¼Œç”±äºŽå…¶æž¶æž„æ˜¯ç±»ä¼¼äºŽç»å…¸çš„P2Pï¼Œæ‰€ä»¥èƒ½é€šè¿‡è½»æ¾åœ°æ·»åŠ æ–°çš„èŠ‚ç‚¹æ¥æ‰©å±•è¿™ä¸ªé›†ç¾¤; å¿«é€Ÿçš„è¯»å†™ï¼šä¸»è¦ä¾‹å­æœ‰redisï¼Œç”±äºŽå…¶é€»è¾‘ç®€å•ï¼Œè€Œä¸”çº¯å†…å­˜æ“ä½œï¼Œä½¿å¾—å…¶æ€§èƒ½éžå¸¸å‡ºè‰²ï¼Œå•èŠ‚ç‚¹æ¯ç§’å¯ä»¥å¤„ç†è¶…è¿‡10ä¸‡æ¬¡è¯»å†™æ“ä½œ; ä½Žå»‰çš„æˆæœ¬ï¼šè¿™æ˜¯å¤§å¤šæ•°åˆ†å¸ƒå¼æ•°æ®åº“å…±æœ‰çš„ç‰¹ç‚¹ï¼Œå› ä¸ºä¸»è¦éƒ½æ˜¯å¼€æºè½¯ä»¶ï¼Œæ²¡æœ‰æ˜‚è´µçš„Licenseæˆæœ¬; ä½†ç‘•ä¸æŽ©ç‘œï¼ŒNoSQLæ•°æ®åº“è¿˜å­˜åœ¨ç€å¾ˆå¤šçš„ä¸è¶³ï¼Œå¸¸è§ä¸»è¦æœ‰ä¸‹é¢è¿™å‡ ä¸ªï¼š ä¸æä¾›å¯¹SQLçš„æ”¯æŒï¼šå¦‚æžœä¸æ”¯æŒSQLè¿™æ ·çš„å·¥ä¸šæ ‡å‡†ï¼Œå°†ä¼šå¯¹ç”¨æˆ·äº§ç”Ÿä¸€å®šçš„å­¦ä¹ å’Œåº”ç”¨è¿ç§»æˆæœ¬; æ”¯æŒçš„ç‰¹æ€§ä¸å¤Ÿä¸°å¯Œï¼šçŽ°æœ‰äº§å“æ‰€æä¾›çš„åŠŸèƒ½éƒ½æ¯”è¾ƒæœ‰é™ï¼Œå¤§å¤šæ•°NoSQLæ•°æ®åº“éƒ½ä¸æ”¯æŒäº‹åŠ¡ï¼Œä¹Ÿä¸åƒMS SQL Serverå’ŒOracleé‚£æ ·èƒ½æä¾›å„ç§é™„åŠ åŠŸèƒ½ï¼Œæ¯”å¦‚BIå’ŒæŠ¥è¡¨ç­‰; çŽ°æœ‰äº§å“çš„ä¸å¤Ÿæˆç†Ÿï¼šå¤§å¤šæ•°äº§å“éƒ½è¿˜å¤„äºŽåˆåˆ›æœŸï¼Œå’Œå…³ç³»åž‹æ•°æ®åº“å‡ åå¹´çš„å®Œå–„ä¸å¯åŒæ—¥è€Œè¯­; ä¸Šé¢NoSQLäº§å“çš„ä¼˜ç¼ºç‚¹éƒ½æ˜¯äº›æ¯”è¾ƒå…±é€šçš„ï¼Œåœ¨å®žé™…æƒ…å†µä¸‹ï¼Œæ¯ä¸ªäº§å“éƒ½ä¼šæ ¹æ®è‡ªå·±æ‰€éµä»Žçš„æ•°æ®æ¨¡åž‹å’ŒCAPç†å¿µè€Œæœ‰æ‰€ä¸åŒ.]]></content>
      <categories>
        <category>DB</category>
      </categories>
      <tags>
        <tag>nosql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++å¯¹è±¡æ¨¡åž‹ä¹‹è¯¦è¿°C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€]]></title>
    <url>%2F2015%2F05%2F03%2FC%2B%2B%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B9%8B%E8%AF%A6%E8%BF%B0C%2B%2B%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[è½¬è‡ªCDSNé˜…è¯»åŽŸæ–‡ åœ¨C++å¯¹è±¡æ¨¡åž‹ä¹‹ç®€è¿°C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸€æ–‡ä¸­ï¼Œè¯¦ç»†åˆ†æžäº†å„ç§æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å¯¹ä¸€ä¸ªç±»ï¼ˆæ²¡æœ‰ä»»ä½•ç»§æ‰¿çš„ï¼‰å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒçš„å½±å“ï¼ŒåŠè¯¦ç»†è®²è§£äº†å¦‚ä½•éåŽ†å¯¹è±¡çš„å†…å­˜ï¼ŒåŒ…æ‹¬è™šå‡½æ•°è¡¨ã€‚å¦‚æžœä½ åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œè¿˜æ²¡æœ‰çœ‹è¿‡C++å¯¹è±¡æ¨¡åž‹ä¹‹ç®€è¿°C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸€æ–‡ï¼Œå»ºè®®å…ˆé˜…è¯»ä¸€ä¸‹ã€‚è€Œæœ¬æ–‡ä¸»è¦è®¨è®ºç»§æ‰¿å¯¹äºŽå¯¹è±¡çš„å†…å­˜åˆ†å¸ƒçš„å½±å“ï¼ŒåŒ…æ‹¬ï¼šç»§æ‰¿åŽç±»çš„å¯¹è±¡çš„æˆå‘˜çš„å¸ƒå±€ã€ç»§æ‰¿å¯¹äºŽè™šå‡½æ•°è¡¨çš„å½±å“ã€virtualå‡½æ•°æœºåˆ¶å¦‚ä½•å®žçŽ°ã€è¿è¡Œæ—¶ç±»åž‹è¯†åˆ«ç­‰ã€‚ç”±äºŽåœ¨C++ä¸­ç»§æ‰¿çš„å…³ç³»æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥æœ¬æ–‡ä¼šè®¨è®ºå¦‚ä¸‹çš„ç»§æ‰¿æƒ…å†µï¼š1ï¼‰å•ä¸€ç»§æ‰¿2ï¼‰å¤šé‡ç»§æ‰¿3ï¼‰é‡å¤ç»§æ‰¿4ï¼‰å•ä¸€è™šæ‹Ÿç»§æ‰¿5ï¼‰é’»çŸ³åž‹è™šæ‹Ÿç»§æ‰¿æ­¤å¤–ï¼Œå½“ä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªåŸºç±»æ—¶ï¼Œå®ƒçš„æžæž„å‡½æ•°åº”è¯¥æ˜¯virtualå‡½æ•°ï¼Œè¿™æ ·ä¸‹é¢çš„ä»£ç æ‰èƒ½æ­£ç¡®åœ°è¿è¡ŒBase p = new&nbsp;Derived;â€¦delete p;åœ¨æœ¬æ–‡çš„ä¾‹å­ï¼Œä¸ºäº†éªŒè¯è™šå‡½æ•°è¡¨çš„å†…å®¹ï¼Œä¼šéåŽ†å¹¶è°ƒç”¨è™šå‡½æ•°è¡¨ä¸­çš„æ‰€æœ‰å‡½æ•°ã€‚ä½†æ˜¯å½“æžæž„å‡½æ•°ä¸ºvirtualæ—¶ï¼Œåœ¨éåŽ†çš„è¿‡ç¨‹ä¸­å°±ä¼šè°ƒç”¨åˆ°å¯¹è±¡çš„æžæž„å‡½æ•°ï¼Œä»Žè€Œå¯¹å¯¹è±¡è¿›è¡Œæžæž„çš„æ“ä½œï¼Œå¯¼è‡´æŽ¥ä¸‹æ¥çš„è°ƒç”¨å‡ºé”™ã€‚ä½†æ˜¯æœ¬æ–‡çš„ç›®çš„æ˜¯åˆ†æžå’ŒéªŒè¯C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªè½¯ä»¶ï¼Œæžæž„å‡½æ•°ä¸ºéžvirtualå‡½æ•°ï¼Œå¹¶ä¸ä¼šå½±å“æˆ‘ä»¬çš„åˆ†æžå’Œç†è§£ï¼Œå› ä¸ºvirtualæžæž„å‡½æ•°ä¸Žå…¶ä»–çš„virtualå‡½æ•°æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åšçš„äº‹ä¸ä¸€æ ·ã€‚æ‰€ä»¥åœ¨æœ¬æ–‡ä¸­çš„ä¾‹å­ä¸­ï¼Œæžæž„å‡½æ•°å‡ä¸ä¸ºvirtualï¼Œç‰¹æ­¤è¯´æ˜Žä¸€ä¸‹ã€‚åŒæ—¶ä¸ºäº†è°ƒç”¨çš„æ–¹ä¾¿ï¼Œæ‰€æœ‰çš„virtualçš„å‡½æ•°åŽŸåž‹å‡ä¸ºï¼šè¿”å›žå€¼ä¸ºvoidï¼Œå‚æ•°ä¹Ÿä¸ºvoidã€‚æ³¨ï¼šä»¥ä¸‹çš„ä¾‹å­ä¸­çš„æµ‹è¯•çŽ¯å¢ƒä¸ºï¼š32ä½Ubuntu 14.04 g++ 4.8.2ï¼Œè‹¥åœ¨ä¸åŒçš„çŽ¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼Œç»“æžœå¯èƒ½æœ‰ä¸åŒã€‚1ã€æ ¹æ®æŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼ˆvptrï¼‰éåŽ†è™šå‡½æ•°è¡¨ç”±äºŽåœ¨è®¿é—®å¯¹è±¡çš„å†…å­˜æ—¶ï¼Œéƒ½è¦éåŽ†è™šå‡½æ•°è¡¨æ¥ç¡®å®šè™šå‡½æ•°è¡¨ä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥å¯¹è¿™éƒ¨åˆ†çš„åŠŸèƒ½æŠ½è±¡å‡ºæ¥ï¼Œå†™æˆä¸€ä¸ªå‡½æ•°ï¼Œå¦‚ä¸‹ï¼švoid visitVtbl(int **vtbl, int count){ cout &lt;&lt; vtbl &lt;&lt; endl; cout &lt;&lt; &quot;\t[-1]: &quot; &lt;&lt; (long)vtbl[-1] &lt;&lt; endl; typedef void (FuncPtr)(); for (int i = 0; vtbl[i] &amp;&amp; i &lt; count; ++i) { cout &lt;&lt; &quot;\t[&quot; &lt;&lt; i &lt;&lt; &quot;]: &quot; &lt;&lt; vtbl[i] &lt;&lt; &quot; -&gt; &quot;; FuncPtr func = (FuncPtr)vtbl[i]; func(); }}ä»£ç è§£é‡Šï¼šå‚æ•°vtblä¸ºè™šå‡½æ•°è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ä¸­çš„vptrçš„å€¼ã€‚å‚æ•°countæŒ‡çš„æ˜¯è¯¥è™šå‡½æ•°è¡¨ä¸­è™šå‡½æ•°çš„æ•°é‡ã€‚ç”±äºŽè™šå‡½æ•°è¡¨ä¸­ä¿å­˜çš„ä¿¡æ¯å¹¶ä¸å…¨æ˜¯è™šå‡½æ•°çš„åœ°å€ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰çš„è™šå‡½æ•°è¡¨ä¸­éƒ½ä»¥NULLè¡¨ç¤ºè™šå‡½æ•°è¡¨ä¸­çš„å‡½æ•°åœ°å€å·²ç»åˆ°äº†å°½å¤´ã€‚æ‰€ä»¥ä¸ºäº†è®©æµ‹è¯•ç¨‹åºæ›´å¥½åœ°è¿è¡Œï¼Œæ‰€ä»¥åŠ ä¸Šè¿™ä¸€å‚æ•°ã€‚è™šå‡½æ•°è¡¨ä¿å­˜çš„æ˜¯å‡½æ•°çš„æŒ‡é’ˆï¼Œè‹¥æŠŠè™šå‡½æ•°è¡¨å½“ä½œä¸€ä¸ªæ•°ç»„ï¼Œåˆ™è¦æŒ‡å‘è¯¥æ•°ç»„éœ€è¦ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œå³å‚æ•°ä¸­çš„int vtblï¼ŒèŽ·å–å‡½æ•°æŒ‡é’ˆçš„å€¼ï¼Œå³èŽ·å–æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œå¯ä»¥é€šè¿‡vtbl[i]æ¥èŽ·å¾—ã€‚è™šå‡½æ•°è¡¨ä¸­è¿˜ä¿å­˜ç€å¯¹è±¡çš„ç±»åž‹ä¿¡æ¯ï¼Œé€šå¸¸ä¸ºäº†ä¾¿äºŽæŸ¥æ‰¾å¯¹è±¡çš„ç±»åž‹ä¿¡æ¯ï¼Œä½¿ç”¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰ä¸º-1çš„ä½ç½®ä¿å­˜è¯¥ç±»å¯¹åº”çš„ç±»åž‹ä¿¡æ¯å¯¹è±¡ï¼ˆå³ç±»std::type_infoçš„å¯¹è±¡ï¼‰çš„åœ°å€ï¼Œå³ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªè™šå‡½æ•°çš„åœ°å€ä¹‹å‰ã€‚2ã€å•ä¸€ç»§æ‰¿ç±»çš„å…·ä½“ä»£ç å¦‚ä¸‹ï¼šclass Base{ public: Base() { mBase1 = 101; mBase2 = 102; } virtual void func1() { cout &lt;&lt; &quot;Base::func1()&quot; &lt;&lt; endl; } virtual void func2() { cout &lt;&lt; &quot;Base::func2()&quot; &lt;&lt; endl; } private: int mBase1; int mBase2;};class Derived : public Base{ public: Derived(): Base() { mDerived1 = 1001; mDerived2 = 1002; } virtual void func2() { cout &lt;&lt; &quot;Derived::func2()&quot; &lt;&lt; endl; } virtual void func3() { cout &lt;&lt; &quot;Derived::func3()&quot; &lt;&lt; endl; } private: int mDerived1; int mDerived2;};ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼šint main(){ Derived d; char p = (char)&amp;d; visitVtbl((int)(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; return 0;}ä»£ç è§£é‡Šï¼šåœ¨æµ‹è¯•ä»£ç ä¸­ï¼Œæœ€éš¾æ˜Žç™½çš„å°±æ˜¯ä»¥ä¸‹è¯­å¥ä¸­çš„å‚æ•°ï¼švisitVtbl((int**)(int)p, 3);charæŒ‡é’ˆpæŒ‡å‘äº†å¯¹è±¡ä¸­çš„vptrï¼Œç”±äºŽvpträ¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥påº”è¯¥æ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œå¯¹å…¶è§£å¼•ç”¨ï¼ˆ*pï¼‰å¯ä»¥èŽ·å¾—vptrçš„å€¼ã€‚ç„¶è€Œåœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆç±»åž‹çš„æŒ‡é’ˆï¼Œå…¶å ç”¨çš„å†…å­˜å¤§å°éƒ½æ˜¯ç›¸åŒçš„ï¼ˆä¸€èˆ¬åœ¨32ä½ç³»ç»Ÿä¸­ä¸º4å­—èŠ‚ï¼Œ64ä½ç³»ç»Ÿä¸­ä¸º8å­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä»¥ä¸‹è¯­å¥èŽ·å–vptrçš„å€¼ï¼š&nbsp;(int)(int)p;è¯¥è¯­å¥ï¼Œè¿›è¡Œäº†ä¸‰ä»¶äº‹ï¼š1ï¼‰æŠŠcharæŒ‡é’ˆpè¿›è¡Œç±»åž‹è½¬æ¢ï¼Œè½¬æ¢æˆintï¼Œå³ï¼ˆint**)p;2ï¼‰é€šè¿‡è§£å¼•ç”¨è¿è¡Œç¬¦â€œâ€ï¼ŒèŽ·å¾—vptrçš„å€¼ï¼Œç±»åž‹ä¸ºintã€‚å…¶å®žvptræœ¬è´¨æ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œä½†æ˜¯æ‰€æœ‰çš„æŒ‡é’ˆå ç”¨çš„å†…å­˜éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œå¹¶ä¸ä¼šå¯¼è‡´åœ°å€å€¼çš„æˆªæ–­ã€‚å³(int)p;3ï¼‰ç”±äºŽvptræœ¬è´¨æ˜¯ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œæ‰€ä»¥å†ä¸€æ¬¡æŠŠvptrè½¬åŒ–æˆä¸€ä¸ªåŒæŒ‡é’ˆã€‚å³(int)(int**)p;æ³¨ï¼šåœ¨ä¸å°‘çš„æ–‡ç« ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä½œè€…æŠŠè™šå‡½æ•°è¡¨ä¸­çš„é¡¹çš„å†…å®¹å½“åšä¸€ä¸ªæ•´æ•°æ¥å¯¹å¾…ï¼Œä½†æ˜¯æœ¬æ–‡ä¸­ï¼Œæˆ‘å¹¶æ²¡æœ‰è¿™æ ·åšã€‚å› ä¸ºåœ¨ä¸åŒçš„ç³»ç»Ÿï¼ˆ32ä½æˆ–64ä½ï¼‰ä¸­çš„æŒ‡é’ˆçš„ä½æ•°æ˜¯ä¸åŒçš„ï¼Œä¸ºäº†è®©ä»£ç èƒ½å…¼å®¹32ä½å’Œ64ä½çš„ç³»ç»Ÿï¼Œè¿™é‡Œç»Ÿä¸€æŠŠè™šå‡½æ•°è¡¨ä¸­çš„é¡¹å½“æŒ‡é’ˆçœ‹å¾…ã€‚åœ¨ä»¥åŽçš„ä¾‹å­è‹¥ä¸­å‡ºçŽ°ç›¸ä¼¼çš„ä»£ç ï¼Œéƒ½æ˜¯ç›¸åŒçš„åŽŸç†ï¼Œä¸å†è§£é‡Šã€‚å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šæ ¹æ®æµ‹è¯•çš„è¾“å‡ºçš„ç»“æžœï¼Œå¯ä»¥å¾—å‡ºç±»Derivedçš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å›¾å¦‚ä¸‹ï¼šæ®æ­¤ï¼Œé’ˆå¯¹å•ä¸€ç»§æ‰¿å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š1ï¼‰vpträ½äºŽå¯¹è±¡çš„æœ€å‰ç«¯ã€‚2ï¼‰éžstaticçš„æˆå‘˜å˜é‡æ ¹æ®å…¶ç»§æ‰¿é¡ºåºå’Œå£°æ˜Žé¡ºåºæŽ’åœ¨vptrçš„åŽé¢ã€‚3ï¼‰æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»æ‰€å£°æ˜Žçš„è™šå‡½æ•°ï¼Œå³åŸºç±»çš„è™šå‡½æ•°åœ°å€ä¼šè¢«å¤åˆ¶åˆ°æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ä¸­çš„ç›¸åº”çš„é¡¹ä¸­ã€‚4ï¼‰æ´¾ç”Ÿç±»ä¸­æ–°åŠ å…¥çš„virtualå‡½æ•°è·Ÿåœ¨å…¶ç»§æ‰¿è€Œæ¥çš„virtualçš„åŽé¢ï¼Œå¦‚æœ¬ä¾‹ä¸­ï¼Œå­ç±»å¢žåŠ çš„virtualå‡½æ•°func3è¢«æ·»åŠ åˆ°func2åŽé¢ã€‚5ï¼‰è‹¥å­ç±»é‡å†™å…¶çˆ¶ç±»çš„virtualå‡½æ•°ï¼Œåˆ™å­ç±»çš„è™šå‡½æ•°è¡¨ä¸­è¯¥virtualå‡½æ•°å¯¹åº”çš„é¡¹ä¼šæ›´æ–°ä¸ºæ–°å‡½æ•°çš„åœ°å€ï¼Œå¦‚æœ¬ä¾‹ä¸­ï¼Œå­ç±»é‡å†™äº†virtualå‡½æ•°func2ï¼Œåˆ™è™šå‡½æ•°è¡¨ä¸­func2çš„é¡¹æ›´æ–°ä¸ºå­ç±»é‡å†™çš„å‡½æ•°func2çš„åœ°å€ã€‚3ã€å¤šé‡ç»§æ‰¿ç±»çš„å…·ä½“ä»£ç å¦‚ä¸‹ï¼šclass Base1{ public: Base1() { mBase1 = 101; } virtual void funcA() { cout &lt;&lt; &quot;Base1::funcA()&quot; &lt;&lt; endl; } virtual void funcB() { cout &lt;&lt; &quot;Base1::funcB()&quot; &lt;&lt; endl; } private: int mBase1;};class Base2{ public: Base2() { mBase2 = 102; } virtual void funcA() { cout &lt;&lt; &quot;Base2::funcA()&quot; &lt;&lt; endl; } virtual void funcC() { cout &lt;&lt; &quot;Base2::funcC()&quot; &lt;&lt; endl; } private: int mBase2;};class Derived : public Base1, public Base2{ public: Derived(): Base1(), Base2() { mDerived = 1001; } virtual void funcD() { cout &lt;&lt; &quot;Derived::funcD()&quot; &lt;&lt; endl; } virtual void funcA() { cout &lt;&lt; &quot;Derived::funcA()&quot; &lt;&lt; endl; } private: int mDerived;};ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œæµ‹è¯•ï¼šint main(){ Derived d; char p = (char)&amp;d; visitVtbl((int**)(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); visitVtbl((int)*(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; return 0;}å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šæ ¹æ®æµ‹è¯•çš„è¾“å‡ºçš„ç»“æžœï¼Œå¯ä»¥å¾—å‡ºç±»Derivedçš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å›¾å¦‚ä¸‹ï¼šæ®æ­¤ï¼Œé’ˆå¯¹å¤šé‡ç»§æ‰¿å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š1ï¼‰åœ¨å¤šé‡ç»§æ‰¿ä¸‹ï¼Œä¸€ä¸ªå­ç±»æ‹¥æœ‰n-1å¼ é¢å¤–çš„è™šå‡½æ•°è¡¨ï¼Œnè¡¨ç¤ºå…¶ä¸Šä¸€å±‚çš„åŸºç±»çš„ä¸ªæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¤šé‡ç»§æ‰¿ä¸‹ï¼Œä¸€ä¸ªæ´¾ç”Ÿç±»ä¼šæœ‰nä¸ªè™šå‡½æ•°è¡¨ã€‚å…¶ä¸­ä¸€ä¸ªä¸ºä¸»è¦å®žä¾‹ï¼Œå®ƒä¸Žç¬¬ä¸€ä¸ªåŸºç±»ï¼ˆå¦‚æœ¬ä¾‹ä¸­çš„Base1ï¼‰å…±äº«ï¼Œå…¶ä»–çš„ä¸ºæ¬¡è¦å®žä¾‹ï¼Œä¸Žå…¶ä»–åŸºç±»ï¼ˆå¦‚æœ¬ä¾‹ä¸­çš„Base2ï¼‰æœ‰å…³ã€‚2ï¼‰å­ç±»æ–°å£°æ˜Žçš„virtualå‡½æ•°ï¼Œæ”¾åœ¨ä¸»è¦å®žä¾‹çš„è™šå‡½æ•°è¡¨ä¸­ã€‚å¦‚æœ¬ä¾‹ä¸­ï¼Œå­ç±»æ–°å£°æ˜Žçš„ä¸ŽBase1å…±äº«çš„è™šå‡½æ•°è¡¨ä¸­ã€‚3ï¼‰æ¯ä¸€ä¸ªçˆ¶ç±»çš„å­å¯¹è±¡åœ¨å­ç±»çš„å¯¹è±¡ä¿æŒåŽŸæ ·æ€§ï¼Œå¹¶ä¾æ¬¡æŒ‰å£°æ˜Žæ¬¡åºæŽ’åˆ—ã€‚4ï¼‰è‹¥å­ç±»é‡å†™virtualå‡½æ•°ï¼Œåˆ™å…¶æ‰€æœ‰çˆ¶ç±»ä¸­çš„ç­¾åç›¸åŒçš„virtualå‡½æ•°è¢«ä¼šè¢«æ”¹å†™ã€‚å¦‚æœ¬ä¾‹ä¸­ï¼Œå­ç±»é‡å†™äº†funcAå‡½æ•°ï¼Œåˆ™ä¸¤ä¸ªè™šå‡½æ•°è¡¨ä¸­çš„funcAå‡½æ•°çš„é¡¹å‡è¢«æ›´æ–°ä¸ºå­ç±»é‡å†™çš„å‡½æ•°çš„åœ°å€ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³ä¸åŒçš„çˆ¶ç±»ç±»åž‹çš„æŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå­ç±»å®žä¾‹ï¼Œè€Œèƒ½å¤Ÿè°ƒç”¨åˆ°å®žé™…çš„å‡½æ•°ã€‚4ã€é‡å¤ç»§æ‰¿æ‰€è°“çš„é‡å¤ç»§æ‰¿ï¼Œå°±æ˜¯æŸä¸ªçˆ¶ç±»è¢«é—´æŽ¥åœ°é‡å¤ç»§æ‰¿äº†å¤šæ¬¡ã€‚ç±»çš„å…·ä½“ä»£ç å¦‚ä¸‹ï¼šclass Base{ public: Base() { mBase = 11; } virtual void funcA() { cout &lt;&lt; &quot;Base::funcA()&quot; &lt;&lt; endl; } virtual void funcX() { cout &lt;&lt; &quot;Base::funcX()&quot; &lt;&lt; endl; } protected: int mBase;};class Base1 : public Base{ public: Base1(): Base() { mBase1 = 101; } virtual void funcA() { cout &lt;&lt; &quot;Base1::funcA()&quot; &lt;&lt; endl; } virtual void funcB() { cout &lt;&lt; &quot;Base1::funcB()&quot; &lt;&lt; endl; } private: int mBase1;};class Base2 : public Base{ public: Base2(): Base() { mBase2 = 102; } virtual void funcA() { cout &lt;&lt; &quot;Base2::funcA()&quot; &lt;&lt; endl; } virtual void funcC() { cout &lt;&lt; &quot;Base2::funcC()&quot; &lt;&lt; endl; } private: int mBase2;};class Derived : public Base1, public Base2{ public: Derived(): Base1(), Base2() { mDerived = 1001; } virtual void funcD() { cout &lt;&lt; &quot;Derived::funcD()&quot; &lt;&lt; endl; } virtual void funcA() { cout &lt;&lt; &quot;Derived::funcA()&quot; &lt;&lt; endl; } private: int mDerived;};ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œæµ‹è¯•ï¼šint main(){ Derived d; char p = (char)&amp;d; visitVtbl((int)(int)p, 4); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); visitVtbl((int**)(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; return 0;}å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šæ ¹æ®æµ‹è¯•çš„è¾“å‡ºçš„ç»“æžœï¼Œå¯ä»¥å¾—å‡ºç±»Derivedçš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å›¾å¦‚ä¸‹ï¼šæ®æ­¤ï¼Œé’ˆå¯¹é‡å¤ç»§æ‰¿å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š1ï¼‰é‡å¤ç»§æ‰¿åŽï¼Œä½äºŽç»§æ‰¿å±‚æ¬¡é¡¶ç«¯çš„çˆ¶ç±»Baseåˆ†åˆ«è¢«å­ç±»Base1å’ŒBase2ç»§æ‰¿ï¼Œå¹¶è¢«ç±»Derivedç»§æ‰¿ã€‚æ‰€ä»¥åœ¨Dä¸­æœ‰ç±»çš„å¯¹è±¡ä¸­ï¼Œå­˜åœ¨Base1çš„å­å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨Base2çš„å­å¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå­å¯¹è±¡éƒ½æ‹¥æœ‰Baseå­å¯¹è±¡ï¼Œæ‰€ä»¥Baseå­å¯¹è±¡ï¼ˆæˆå‘˜mBaseï¼‰åœ¨Derivedä¸­å­˜åœ¨ä¸¤ä»½ã€‚2ï¼‰äºŒä¹‰æ€§çš„åŽŸå› ã€‚ç”±äºŽåœ¨å­ç±»çš„å¯¹è±¡ä¸­ï¼Œå­˜åœ¨ä¸¤ä»½çˆ¶ç±»çš„æˆå‘˜ï¼Œå½“åœ¨Derivedç±»ä¸­ä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼šmBase = 1;å°±ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚å› ä¸ºåœ¨è¯¥å¯¹è±¡ä¸­æœ‰ä¸¤å¤„çš„å˜é‡çš„åå­—éƒ½å«mBaseï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¸èƒ½åˆ¤æ–­ç©¶ç«Ÿè¯¥ä½¿ç”¨å“ªä¸€ä¸ªæˆå‘˜å˜é‡ã€‚æ‰€ä»¥åœ¨è®¿é—®Baseä¸­çš„æˆå‘˜æ—¶ï¼Œéœ€è¦åŠ ä¸ŠåŸŸä½œç”¨ç¬¦æ¥æ˜Žç¡®è¯´æ˜Žæ˜¯å“ªä¸€ä¸ªå­ç±»çš„æˆå‘˜ï¼Œå¦‚ï¼šBase1::mBase = 1;é‡å¤ç»§æ‰¿å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ŒC++æä¾›è™šæ‹Ÿç»§æ‰¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢è¯¦ç»†è®²è§£è™šæ‹Ÿç»§æ‰¿ã€‚5ã€å•ä¸€è™šæ‹Ÿç»§æ‰¿å…·ä½“ä»£ç å¦‚ä¸‹ï¼ˆç±»çš„å®žçŽ°ä¸Žé‡å¤ç»§æ‰¿ä¸­çš„ä»£ç ç›¸åŒï¼Œåªæ˜¯Base1çš„ç»§æ‰¿å…³ç³»å˜ä¸ºè™šæ‹Ÿç»§æ‰¿ï¼‰ï¼šclass Base { â€¦â€¦ };class Base1 : virtual public Base { â€¦â€¦ };ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼šint main(){ Base1 b1; char p = (char)&amp;b1; visitVtbl((int)*(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); visitVtbl((int)(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; return 0;}å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šæ ¹æ®æµ‹è¯•çš„è¾“å‡ºçš„ç»“æžœï¼Œå¯ä»¥å¾—å‡ºç±»B1çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å›¾å¦‚ä¸‹ï¼šé€šè¿‡ä¸Žæ™®é€šçš„å•ä¸€ç»§æ‰¿æ¯”è¾ƒå¯ä»¥çŸ¥é“ï¼Œå•ä¸€è™šç»§æ‰¿ä¸Žå•ä¸€ç»§æ‰¿çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å­˜åœ¨æ˜Žæ˜¾çš„ä¸åŒã€‚è¡¨çŽ°ä¸ºä»¥ä¸‹çš„æ–¹é¢ï¼š1ï¼‰æˆå‘˜çš„é¡ºåºé—®é¢˜ã€‚åœ¨æ™®é€šçš„å•ä¸€ç»§æ‰¿ä¸­ï¼ŒåŸºç±»çš„æˆå‘˜ä½äºŽæ´¾ç”Ÿç±»çš„æˆå‘˜ä¹‹å‰ã€‚è€Œåœ¨å•ä¸€è™šç»§æ‰¿ä¸­ï¼Œé¦–å…ˆæ˜¯å…¶æ™®é€šåŸºç±»çš„æˆå‘˜ï¼ŒæŽ¥ç€æ˜¯æ´¾ç”Ÿç±»çš„æˆå‘˜ï¼Œæœ€åŽæ˜¯è™šåŸºç±»çš„æˆå‘˜ã€‚2ï¼‰vptrçš„ä¸ªæ•°é—®é¢˜ã€‚åœ¨æ™®é€šçš„å•ä¸€ç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»åªæœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œæ‰€ä»¥å…¶å¯¹è±¡åªæœ‰ä¸€ä¸ªvptrã€‚è€Œåœ¨å•ä¸€è™šç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨æœ‰nä¸ªï¼ˆnä¸ºè™šåŸºç±»çš„ä¸ªæ•°ï¼‰é¢å¤–çš„è™šæ•°å‡½æ•°è¡¨ï¼Œå³æ€»æœ‰n+1ä¸ªè™šå‡½æ•°è¡¨ã€‚3ï¼‰æ´¾ç”Ÿè‡ªè™šåŸºç±»çš„æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ä¸­ï¼Œå¹¶ä¸å«æœ‰è™šåŸºç±»ä¸­çš„virtualå‡½æ•°ï¼Œä½†æ˜¯æ´¾ç”Ÿç±»é‡å†™çš„virtualå‡½æ•°ä¼šåœ¨æ‰€æœ‰è™šå‡½æ•°è¡¨ä¸­å¾—åˆ°æ›´æ–°ã€‚å¦‚æœ¬ä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªè™šå‡½æ•°è¡¨ä¸­ï¼Œå¹¶ä¸å«æœ‰Base::funcXçš„å‡½æ•°åœ°å€ã€‚æ³¨ï¼šåœ¨æµ‹è¯•ä»£ç ä¸­ï¼Œæˆ‘æŠŠcountä¼ é€’çš„å€¼ä¸º3ï¼Œè€Œç»“æžœå´åªè°ƒç”¨äº†2ä¸ªå‡½æ•°ï¼Œå¯è§å¹¶ä¸æ˜¯countå‚æ•°é™åˆ¶äº†è™šå‡½æ•°è¡¨çš„éåŽ†ã€‚ä¸€ä¸ªç±»å¦‚æžœå†…å«ä¸€ä¸ªæˆ–å¤šä¸ªè™šåŸºç±»å­å¯¹è±¡ï¼ŒåƒBase1é‚£æ ·ï¼Œå°†ä¼šè¢«åˆ†å‰²ä¸ºä¸¤éƒ¨åˆ†ï¼šä¸€ä¸ªä¸å˜åŒºåŸŸå’Œä¸€ä¸ªå…±äº«åŒºåŸŸã€‚ä¸å˜åŒºåŸŸä¸­çš„æ•°æ®ï¼Œä¸ç®¡åŽç»­å¦‚ä½•å˜åŒ–ï¼Œæ€»æ˜¯æ‹¥æœ‰å›ºå®šçš„åç§»é‡ï¼ˆä»Žå¯¹è±¡çš„å¼€å¤´ç®—èµ·ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†å¯ä»¥è¢«ç›´æŽ¥å­˜å–ã€‚å…±äº«åŒºåŸŸæ‰€å¯¹åº”çš„å°±æ˜¯è™šåŸºç±»å­å¯¹è±¡ã€‚6ã€é’»çŸ³åž‹è™šæ‹Ÿç»§æ‰¿å…·ä½“ä»£ç å¦‚ä¸‹ï¼ˆç±»çš„å®žçŽ°ä¸Žé‡å¤ç»§æ‰¿ä¸­çš„ä»£ç ç›¸åŒï¼Œåªæ˜¯Base1å’ŒBase2çš„ç»§æ‰¿å…³ç³»å˜ä¸ºè™šæ‹Ÿç»§æ‰¿ï¼‰ï¼šclass Base { â€¦â€¦ };class Base1 : virtual public Base { â€¦â€¦ };class Base2 : virtual public Base { â€¦â€¦ };class Derived : public Base1, public Base2 { â€¦â€¦ };ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç å¯¹å¯¹è±¡çš„å†…å­˜å¸ƒå±€è¿›è¡Œæµ‹è¯•ï¼šint main(){ Derived d; char p = (char)&amp;d; visitVtbl((int**)(int)p, 3); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); visitVtbl((int)*(int)p, 2); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; p += sizeof(int); visitVtbl((int)(int)p, 2); p += sizeof(int); cout &lt;&lt; (int)p &lt;&lt; endl; return 0;}å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼šæ ¹æ®æµ‹è¯•çš„è¾“å‡ºçš„ç»“æžœï¼Œå¯ä»¥å¾—å‡ºç±»Derivedçš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€å›¾å¦‚ä¸‹ï¼šä½¿ç”¨è™šç»§æ‰¿åŽï¼Œåœ¨æ´¾ç”Ÿç±»çš„å¯¹è±¡ä¸­åªå­˜åœ¨ä¸€ä»½çš„Baseå­å¯¹è±¡ï¼Œä»Žè€Œé¿å…äº†äºŒä¹‰æ€§ã€‚ç”±äºŽæ˜¯å¤šé‡ç»§æ‰¿ï¼Œä¸”æœ‰ä¸€ä¸ªè™šåŸºç±»ï¼ˆBaseï¼‰ï¼Œæ‰€ä»¥Derivedç±»æ‹¥æœ‰ä¸‰ä¸ªè™šå‡½æ•°è¡¨ï¼Œå…¶å¯¹è±¡å­˜åœ¨ä¸‰ä¸ªvptrã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç¬¬ä¸€ä¸ªè™šå‡½æ•°è¡¨æ˜¯ç”±äºŽå¤šé‡ç»§æ‰¿è€Œä¸Žç¬¬ä¸€åŸºç±»ï¼ˆBase1ï¼‰å…±äº«çš„ä¸»è¦å®žä¾‹ï¼Œç¬¬äºŒä¸ªè™šå‡½æ•°è¡¨æ˜¯ä¸Žå…¶ä»–åŸºç±»ï¼ˆBase2ï¼‰æœ‰å…³çš„æ¬¡è¦å®žä¾‹ï¼Œç¬¬ä¸‰ä¸ªæ˜¯è™šåŸºç±»çš„è™šå‡½æ•°è¡¨ã€‚ç±»Derivedçš„æˆå‘˜ä¸ŽBase1ä¸­çš„æˆå‘˜æŽ’åˆ—é¡ºåºç›¸åŒï¼Œé¦–å…ˆæ˜¯ä»¥å£°æ˜Žé¡ºåºæŽ’åˆ—å…¶æ™®é€šåŸºç±»çš„æˆå‘˜ï¼ŒæŽ¥ç€æ˜¯æ´¾ç”Ÿç±»çš„æˆå‘˜ï¼Œæœ€åŽæ˜¯è™šåŸºç±»çš„æˆå‘˜ã€‚æ´¾ç”Ÿè‡ªè™šåŸºç±»çš„æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨ä¸­ï¼Œä¹Ÿä¸å«æœ‰è™šåŸºç±»ä¸­çš„virtualå‡½æ•°ï¼Œæ´¾ç”Ÿç±»é‡å†™çš„virtualå‡½æ•°ä¼šåœ¨æ‰€æœ‰è™šå‡½æ•°è¡¨ä¸­å¾—åˆ°æ›´æ–°ã€‚åœ¨ç±»Derivedçš„å¯¹è±¡ä¸­ï¼ŒBaseï¼ˆè™šåŸºç±»ï¼‰å­å¯¹è±¡éƒ¨åˆ†ä¸ºå…±äº«åŒºåŸŸï¼Œè€Œå…¶ä»–éƒ¨åˆ†ä¸ºä¸å˜åŒºåŸŸã€‚7ã€å…³äºŽè™šæžæž„å‡½æ•°çš„è¯´æ˜Žä¸Šé¢çš„çš„ä¾‹å­ä¸­ï¼Œä¸ºäº†è®©æµ‹è¯•ç¨‹åºæ­£å¸¸çš„è¿è¡Œï¼Œæˆ‘ä»¬éƒ½æ²¡æœ‰å®šä¹‰ä¸€ä¸ªvirtualçš„æžæž„å‡½æ•°ï¼Œä½†æ˜¯è¿™å¹¶ä¸è¡¨ç¤ºå®ƒä¸æ˜¯æœ¬æ–‡çš„è®¨è®ºå†…å®¹ã€‚è‹¥åŸºç±»å£°æ˜Žäº†ä¸€ä¸ªvirtualæžæž„å‡½æ•°ï¼Œåˆ™å…¶æ´¾ç”Ÿç±»çš„æžæž„å‡½æ•°ä¼šæ›´æ–°å…¶æ‰€æœ‰çš„è™šå‡½æ•°è¡¨ä¸­çš„æžæž„å‡½æ•°çš„é¡¹ï¼ŒæŠŠè¯¥é¡¹ä¸­çš„å‡½æ•°åœ°å€æ›´æ–°ä¸ºæ´¾ç”Ÿç±»çš„æžæž„å‡½æ•°çš„å‡½æ•°åœ°å€ã€‚å› ä¸ºå½“åŸºç±»çš„æžæž„å‡½æ•°ä¸ºvirtualæ—¶ï¼Œè‹¥ç”¨æˆ·ä¸æ˜¾ç¤ºæä¾›ä¸€ä¸ªæžæž„å‡½æ•°ï¼Œç¼–è¯‘å™¨åˆ™ä¼šè‡ªåŠ¨åˆæˆä¸€ä¸ªï¼Œæ‰€ä»¥è‹¥åŸºç±»å£°æ˜Žäº†ä¸€ä¸ªvirtualæžæž„å‡½æ•°ï¼Œåˆ™å…¶æ´¾ç”Ÿ ç±»ä¸­å¿…ç„¶å­˜åœ¨ä¸€ä¸ªvirtualçš„æžæž„å‡½æ•°ï¼Œå¹¶ç”¨è¿™ä¸ªvirutalæžæž„å‡½æ•°æ›´æ–°è™šå‡½æ•°è¡¨ã€‚8ã€ç±»åž‹ä¿¡æ¯åœ¨C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—typeidæ¥èŽ·å¾—ä¸€ä¸ªå¯¹è±¡æ‰€å¯¹åº”çš„ç±»åž‹ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ï¼šBase p;â€¦â€¦cout &lt;&lt; typeid(p).name() &lt;&lt; endl;ç”±äºŽpæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ªBaseçš„å¯¹è±¡ï¼Œè‹¥è€…æ˜¯Baseçš„æ´¾ç”Ÿç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“pæ‰€æŒ‡çš„å¯¹è±¡æ˜¯ä»€ä¹ˆç±»åž‹å‘¢ï¼Ÿé€šè¿‡è§‚å¯Ÿ2-6èŠ‚ä¸­çš„ä¾‹å­çš„è¾“å‡ºï¼Œå¯ä»¥å‘çŽ°ï¼Œæ— è®ºä¸€ä¸ªç±»æœ‰å¤šå°‘ä¸ªè™šå‡½æ•°ï¼Œå…¶ä¸‹æ ‡ä¸º-1çš„é¡¹çš„å€¼ï¼ˆå³type_infoå¯¹è±¡çš„åœ°å€ï¼‰éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œå³å®ƒä»¬éƒ½æŒ‡å‘ç›¸åŒçš„type_infoå¯¹è±¡ã€‚æ‰€ä»¥æ— è®ºä½¿ç”¨åŸºç±»è¿˜æ˜¯æ´¾ç”Ÿç±»çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½æ ¹æ®å¯¹è±¡çš„vptræŒ‡å‘çš„è™šå‡½æ•°è¡¨æ­£ç¡®åœ°èŽ·å¾—è¯¥å¯¹è±¡æ‰€å±žçš„ç±»çš„type_infoå¯¹è±¡ï¼Œä»Žè€Œåˆ†è¾¨å‡ºæŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡çš„çœŸå®žç±»åž‹ã€‚ä¾‹å¦‚å¯¹äºŽå¦‚ä¸‹çš„æµ‹è¯•ä»£ç ï¼ˆç±»çš„å…³ç³»å’Œå®žçŽ°æ˜¯ç¬¬6èŠ‚ä¸­çš„é’»çŸ³åž‹è™šæ‹Ÿç»§æ‰¿ï¼‰ï¼šint main(){ Derived d; Base basePtr = &amp;d; Base1 base1Ptr = &amp;d; Base2 base2Ptr = &amp;d; Derived derivedPtr = &amp;d; cout &lt;&lt; typeid(basePtr).name() &lt;&lt; endl; cout &lt;&lt; typeid(base1Ptr).name() &lt;&lt; endl; cout &lt;&lt; typeid(base2Ptr).name() &lt;&lt; endl; cout &lt;&lt; typeid(derivedPtr).name() &lt;&lt; endl; return 0;}å…¶è¾“å‡ºç»“æžœå¦‚ä¸‹ä»Žä¸Šé¢çš„è¿è¡Œå¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œæ— è®ºè¢«å…¶ä»»ä½•åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘ï¼Œéƒ½èƒ½é€šè¿‡typeidæ­£ç¡®åœ°èŽ·å¾—å…¶æ‰€æŒ‡çš„å¯¹è±¡çš„çœŸå®žç±»åž‹ã€‚è¿è¡Œç»“æžœè§£é‡Šï¼šè¦ç†è§£è¿è¡Œçš„ç»“æžœï¼Œå°±è¦ç†è§£å½“æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æŒ‡é’ˆèµ‹å€¼ç»™å…¶åŸºç±»æŒ‡é’ˆæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„è¡Œä¸ºã€‚å½“ä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå®‰æ’ç›¸åº”çš„ä»£ç ï¼Œè°ƒæ•´æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä½¿åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ä¸­å…¶å¯¹åº”çš„åŸºç±»å­å¯¹è±¡çš„èµ·å§‹å¤„ã€‚æ‰€ä»¥é€šè¿‡æµ‹è¯•ä»£ç ä¸­çš„æŒ‡é’ˆèµ‹å€¼ï¼Œäº§ç”Ÿå¦‚ä¸‹çš„ç»“æžœï¼šbasePtr æŒ‡å‘äº†å¯¹è±¡dä¸­çš„Baseå­å¯¹è±¡çš„åœ°å€èµ·å§‹å¤„ï¼Œå³æŒ‡å‘äº†Base::vptrbase1Ptr æŒ‡å‘äº†å¯¹è±¡dä¸­çš„Base1å­å¯¹è±¡çš„åœ°å€èµ·å§‹å¤„ï¼Œå³æŒ‡å‘äº†Base1::vptrbase2Ptr æŒ‡å‘äº†å¯¹è±¡dä¸­çš„Base2å­å¯¹è±¡çš„åœ°å€èµ·å§‹å¤„ï¼Œå³æŒ‡å‘äº†Base2::vptrderivedPtr æŒ‡å‘äº†å¯¹è±¡dçš„åœ°å€èµ·å§‹å¤„ï¼Œå³æŒ‡å‘äº†Base1::vptrå³çŽ°åœ¨è¿™äº›æŒ‡é’ˆéƒ½æŒ‡å‘äº†å¯¹åº”çš„ç±»åž‹çš„å­å¯¹è±¡ï¼Œä¸”å…¶éƒ½åŒ…æ‹¬ä¸€ä¸ªvptrï¼Œæ‰€ä»¥å°±å¯ä»¥é€šè¿‡è™šå‡½æ•°è¡¨ä¸­çš„ç¬¬-1é¡¹çš„type_infoå¯¹è±¡çš„åœ°å€æ¥èŽ·å–type_infoå¯¹è±¡ï¼Œä»Žè€ŒèŽ·å¾—ç±»åž‹ä¿¡æ¯ã€‚è€Œè¿™äº›åœ°å€å€¼éƒ½æ˜¯ç›¸åŒçš„ï¼Œå³æŒ‡å‘åŒä¸€ä¸ªtype_infoå¯¹è±¡ï¼Œä¸”è¯¥type_infoå¯¹è±¡æ˜¾ç¤ºè¯¥å¯¹è±¡çš„ç±»åž‹ä¸ºDerivedï¼Œä¹Ÿå°±èƒ½æ­£ç¡®åœ°è¾“å‡ºå…¶ç±»åž‹ä¿¡æ¯ã€‚9ã€è™šå‡½æ•°è°ƒç”¨çš„åŽŸç†æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨C++ä¸­ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ‰èƒ½è§¦å‘è™šå‡½æ•°çš„è°ƒç”¨ï¼Œäº§ç”Ÿå¤šæ€çš„ç»“æžœã€‚ä¾‹å¦‚å¯¹äºŽå¦‚ä¸‹çš„ä»£ç ç‰‡æ–­ï¼šBase p;â€¦â€¦p-&gt;vfunc(); // vfuncæ˜¯Baseä¸­å£°æ˜Žçš„virtualå‡½æ•°ç”±äºŽæŒ‡é’ˆpå¯ä»¥æŒ‡å‘ä¸€ä¸ªBaseçš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘Baseçš„æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œè€Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å¹¶ä¸çŸ¥é“pæ‰€æŒ‡å‘çš„çœŸå®žå¯¹è±¡åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆç©¶ç«Ÿå¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿä»Žå„ç§çš„C++å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒä¸­å¯ä»¥çœ‹åˆ°ï¼Œå°½ç®¡è™šå‡½æ•°è¡¨ä¸­çš„è™šå‡½æ•°åœ°å€å¯èƒ½è¢«æ›´æ–°ï¼ˆæ´¾ç”Ÿç±»é‡å†™åŸºç±»çš„virtualå‡½æ•°ï¼‰æˆ–æ·»åŠ æ–°çš„é¡¹ï¼ˆæ´¾ç”Ÿç±»å£°æ˜Žæ–°çš„virtualå‡½æ•°ï¼‰ï¼Œä½†æ˜¯ä¸€ä¸ªç›¸åŒç­¾åçš„è™šå‡½æ•°åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•å€¼å´æ˜¯ä¸å˜çš„ã€‚æ‰€ä»¥æ— è®ºpæŒ‡å‘çš„æ˜¯Baseçš„å¯¹è±¡ï¼Œè¿˜æ˜¯Baseçš„æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œå…¶virtualå‡½æ•°vfuncåœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•æ˜¯ä¸å˜çš„ï¼ˆå‡ä¸º1ï¼‰ã€‚åœ¨äº†è§£äº†C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€åŽï¼Œå°±èƒ½è½»æ¾åœ°å›žç­”è¿™ä¸ªé—®é¢˜äº†ã€‚å› ä¸ºåœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨æ ¹æœ¬æ— éœ€åˆ¤æ–­pæ‰€æŒ‡å‘çš„å…·ä½“å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œè€Œæ˜¯æ ¹æ®æŒ‡é’ˆpæ‰€æŒ‡å‘çš„å¯¹è±¡çš„Baseå­å¯¹è±¡ä¸­çš„è™šå‡½æ•°è¡¨æ¥å®žçŽ°å‡½æ•°è°ƒç”¨çš„ã€‚ç¼–è¯‘å™¨å¯èƒ½ä¼šæŠŠvirtualå‡½æ•°è°ƒç”¨çš„ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹çš„ä¼ªä»£ç ï¼š(*p-&gt;vptr[1])(p); // å‡è®¾vfuncå‡½æ•°åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•å€¼ä¸º1ï¼Œå‚æ•°pä¸ºthisæŒ‡é’ˆè‹¥pæŒ‡å‘çš„æ˜¯ä¸€ä¸ªBaseçš„å¯¹è±¡ï¼Œåˆ™è°ƒBaseçš„è™šå‡½æ•°è¡¨ä¸­ç´¢å¼•å€¼ä¸º1çš„å‡½æ•°ã€‚è‹¥pæŒ‡å‘çš„æ˜¯ä¸€ä¸ªBaseçš„æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œåˆ™è°ƒç”¨Baseçš„æ´¾ç”Ÿç±»å¯¹è±¡çš„Baseå­å¯¹è±¡çš„è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•å€¼ä¸º1çš„å‡½æ•°ã€‚è¿™æ ·ä¾¿å®žçŽ°äº†å¤šæ€ ã€‚è¿™ç§å‡½æ•°è°ƒç”¨æ˜¯æ ¹æ®æŒ‡é’ˆpæ‰€æŒ‡çš„å¯¹è±¡çš„è™šå‡½æ•°è¡¨æ¥å®žçŽ°çš„ï¼Œåœ¨ç¼–è¯‘æ—¶ç”±äºŽæ— æ³•ç¡®å®šæŒ‡é’ˆpæ‰€æŒ‡çš„çœŸå®žå¯¹è±¡ï¼Œæ‰€ä»¥æ— æ³•ç¡®å®šçœŸå®žè¦è°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶æ ¹æ®æŒ‡é’ˆpæ‰€æŒ‡çš„å¯¹è±¡æ¥åŠ¨æ€å†³å®šã€‚æ‰€ä»¥è¯´ï¼Œè™šå‡½æ•°æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç»‘å®šçš„ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶é™æ€ç»‘å®šçš„ã€‚]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>å†…å­˜æ¨¡åž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++å¯¹è±¡æ¨¡åž‹ä¹‹ç®€è¿°C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€]]></title>
    <url>%2F2015%2F05%2F03%2FC%2B%2B%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%AE%80%E8%BF%B0C%2B%2B%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[è½¬è‡ªCDSNé˜…è¯»åŽŸæ–‡ åœ¨C++ä¸­ï¼Œæœ‰ä¸¤ç§ç±»çš„æˆå‘˜å˜é‡ï¼šstaticå’Œéžstaticï¼Œæœ‰ä¸‰ç§æˆå‘˜å‡½æ•°ï¼šstaticã€éžstaticå’Œvirtualã€‚é‚£ä¹ˆï¼Œå®ƒä»¬å¦‚ä½•å½±å“C++çš„å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åˆ†å¸ƒå‘¢ï¼Ÿ å½“å­˜åœ¨ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œå…¶å†…å­˜åˆ†å¸ƒåˆæ˜¯å¦‚ä½•å‘¢ï¼Ÿ ä¸‹é¢å°±ä¸€ä¸ªéžå¸¸ç®€å•çš„ç±»ï¼Œé€šè¿‡é€æ¸å‘å…¶ä¸­åŠ å…¥å„ç§æˆå‘˜ï¼Œæ¥é€ä¸€åˆ†æžä¸Šè¿°ä¸¤ç§æˆå‘˜å˜é‡åŠä¸‰ç§æˆå‘˜å‡½æ•°å¯¹ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒçš„å½±å“ã€‚ æ³¨ï¼šä»¥ä¸‹çš„ä»£ç çš„æµ‹è¯•ç»“æžœå‡æ˜¯åŸºäºŽUbuntu 14.04 64ä½ç³»ç»Ÿä¸‹çš„G++ 4.8.2ï¼Œè‹¥åœ¨å…¶ä»–çš„ç³»ç»Ÿä¸Šæˆ–ä½¿ç”¨å…¶ä»–çš„ç¼–è¯‘å™¨ï¼Œå¯èƒ½ä¼šè¿è¡Œå‡ºä¸åŒçš„ç»“æžœã€‚ 1ã€å«æœ‰éžstaticæˆå‘˜å˜é‡åŠæˆå‘˜å‡½æ•°çš„ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒ ç±»Persionçš„å®šä¹‰å¦‚ä¸‹ï¼š class Person{ public: Person():mId(0), mAge(20){} void print() { cout &lt;&lt; &quot;id: &quot; &lt;&lt; mId &lt;&lt; &quot;, age: &quot; &lt;&lt; mAge &lt;&lt; endl; } private: int mId; int mAge;}; Personç±»åŒ…å«ä¸¤ä¸ªéžstaticçš„intåž‹çš„æˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæž„é€ å‡½æ•°å’Œä¸€ä¸ªéžstaticæˆå‘˜å‡½æ•°ã€‚ä¸ºå¼„æ¸…æ¥šè¯¥ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒï¼Œå¯¹è¯¥ç±»çš„å¯¹è±¡è¿›è¡Œä¸€äº›æ“ä½œå¦‚ä¸‹ï¼š int main(){ Person p1; cout &lt;&lt; &quot;sizeof(p1) == &quot; &lt;&lt; sizeof(p1) &lt;&lt; endl; int p = (int)&amp;p1; cout &lt;&lt; &quot;p.id == &quot; &lt;&lt; p &lt;&lt; &quot;, address: &quot; &lt;&lt; p &lt;&lt; endl; ++p; cout &lt;&lt; &quot;p.age == &quot; &lt;&lt; p &lt;&lt; &quot;, address: &quot; &lt;&lt; p &lt;&lt; endl; cout &lt;&lt; endl; Person p2; cout &lt;&lt; &quot;sizeof(p2) == &quot; &lt;&lt; sizeof(p1) &lt;&lt; endl; p = (int)&amp;p2; cout &lt;&lt; &quot;p.id == &quot; &lt;&lt; p &lt;&lt; &quot;, address: &quot; &lt;&lt; p &lt;&lt; endl; ++p; cout &lt;&lt; &quot;p.age == &quot; &lt;&lt; p &lt;&lt; &quot;, address: &quot; &lt;&lt; p &lt;&lt; endl; return 0;} å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼š &nbsp; ä»Žä¸Šå›¾å¯ä»¥çœ‹åˆ°ç±»çš„å¯¹è±¡çš„å ç”¨çš„å†…å­˜å‡ä¸º8å­—èŠ‚ï¼Œä½¿ç”¨æ™®é€šçš„intï¼ŠæŒ‡é’ˆå¯ä»¥éåŽ†è¾“å‡ºå¯¹è±¡å†…çš„éžstaticæˆå‘˜å˜é‡çš„å€¼ï¼Œä¸”ä¸¤ä¸ªå¯¹è±¡ä¸­çš„ç›¸åŒçš„éžstaticæˆå‘˜å˜é‡çš„åœ°å€å„ä¸ç›¸åŒã€‚ æ®æ­¤ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼Œåœ¨C++ä¸­ï¼Œéžstaticæˆå‘˜å˜é‡è¢«æ”¾ç½®äºŽæ¯ä¸€ä¸ªç±»å¯¹è±¡ä¸­ï¼Œéžstaticæˆå‘˜å‡½æ•°æ”¾åœ¨ç±»çš„å¯¹è±¡ä¹‹å¤–ï¼Œä¸”éžstaticæˆå‘˜å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜æ”¾é¡ºåºä¸Žå…¶åœ¨ç±»å†…çš„å£°æ˜Žé¡ºåºä¸€è‡´ã€‚å³personå¯¹è±¡çš„å†…å­˜åˆ†å¸ƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2ã€å«æœ‰staticå’Œéžstaticæˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒ å‘Personç±»ä¸­åŠ å…¥ä¸€ä¸ªstaticæˆå‘˜å˜é‡å’Œä¸€ä¸ªstaticæˆå‘˜å‡½æ•°ï¼Œå¦‚ä¸‹ï¼šclass Person{ public: Person():mId(0), mAge(20){ ++sCount; } ~Person(){ â€“sCount; } void print() { cout &lt;&lt; &quot;id: &quot; &lt;&lt; mId &lt;&lt; &quot;, age: &quot; &lt;&lt; mAge &lt;&lt; endl; } static int personCount() { return sCount; } private: static int sCount; int mId; int mAge;}; æµ‹è¯•ä»£ç ä¸å˜ï¼Œä¸Žç¬¬1èŠ‚ä¸­çš„ä»£ç ç›¸åŒã€‚å…¶è¿è¡Œç»“æžœä¸å˜ï¼Œä¸Žç¬¬1èŠ‚ä¸­çš„è¿è¡Œç»“æžœç›¸åŒã€‚ æ®æ­¤ï¼Œå¯ä»¥å¾—å‡ºï¼šstaticæˆå‘˜å˜é‡å­˜æ”¾åœ¨ç±»çš„å¯¹è±¡ä¹‹å¤–ï¼Œstaticæˆå‘˜å‡½æ•°ä¹Ÿæ”¾åœ¨ç±»çš„å¯¹è±¡ä¹‹å¤–ã€‚å…¶å†…å­˜åˆ†å¸ƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š3ã€åŠ å…¥virtualæˆå‘˜å‡½æ•°çš„ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒ åœ¨Personç±»ä¸­åŠ å…¥ä¸€ä¸ªvirtualå‡½æ•°ï¼Œå¹¶æŠŠå‰é¢çš„printå‡½æ•°ä¿®æ”¹ä¸ºå‡½æ•°ï¼Œå¦‚ä¸‹ï¼š class Person{ public: Person():mId(0), mAge(20){ ++sCount; } static int personCount() { return sCount; } virtual void print() { cout &lt;&lt; &quot;id: &quot; &lt;&lt; mId &lt;&lt; &quot;, age: &quot; &lt;&lt; mAge &lt;&lt; endl; } virtual void job() { cout &lt;&lt; &quot;Person&quot; &lt;&lt; endl; } virtual ~Person() { â€“sCount; cout &lt;&lt; &quot;~Person&quot; &lt;&lt; endl; } protected: static int sCount; int mId; int mAge;};ä¸ºäº†æŸ¥çœ‹ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒï¼Œå¯¹ç±»çš„å¯¹è±¡æ‰§è¡Œå¦‚ä¸‹çš„æ“ä½œä»£ç ï¼Œå¦‚ä¸‹ï¼š int main(){ Person person; cout &lt;&lt; sizeof(person) &lt;&lt; endl; int p = (int)&amp;person; for (int i = 0; i &lt; sizeof(person) / sizeof(int); ++i, ++p) { cout &lt;&lt; p &lt;&lt; endl; } return 0;} å…¶è¿è¡Œç»“æžœå¦‚ä¸‹ï¼š ä»Žä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒåŠ virtualæˆå‘˜å‡½æ•°åŽï¼Œç±»çš„å¯¹è±¡çš„å¤§å°ä¸º16å­—èŠ‚ï¼Œå¢žåŠ äº†8ã€‚é€šè¿‡intï¼ŠæŒ‡é’ˆéåŽ†è¯¥å¯¹è±¡çš„å†…å­˜ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæœ€åŽä¸¤è¡Œæ˜¾ç¤ºçš„æ˜¯æˆå‘˜æ•°æ®çš„å€¼ã€‚C++ä¸­çš„è™šå‡½æ•°æ˜¯é€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆvtblï¼‰æ¥å®žçŽ°ï¼Œæ¯ä¸€ä¸ªç±»ä¸ºæ¯ä¸€ä¸ªvirtualå‡½æ•°äº§ç”Ÿä¸€ä¸ªæŒ‡é’ˆï¼Œæ”¾åœ¨è¡¨æ ¼ä¸­ï¼Œè¿™ä¸ªè¡¨æ ¼å°±æ˜¯è™šå‡½æ•°è¡¨ã€‚æ¯ä¸€ä¸ªç±»å¯¹è±¡ä¼šè¢«å®‰æ’ä¸€ä¸ªæŒ‡é’ˆï¼ˆvptrï¼‰ï¼ŒæŒ‡å‘è¯¥ç±»çš„è™šå‡½æ•°è¡¨ã€‚vptrçš„è®¾å®šå’Œé‡ç½®éƒ½ç”±æ¯ä¸€ä¸ªç±»çš„æž„é€ å‡½æ•°ã€æžæž„å‡½æ•°å’Œå¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦è‡ªåŠ¨å®Œæˆã€‚ç”±äºŽæœ¬äººçš„ç³»ç»Ÿæ˜¯64ä½çš„ç³»ç»Ÿï¼Œä¸€ä¸ªæŒ‡é’ˆçš„å¤§å°ä¸º8å­—èŠ‚ï¼Œæ‰€ä»¥å¯ä»¥æŽ¨å‡ºï¼Œåœ¨æœ¬äººçš„çŽ¯å¢ƒä¸­ï¼Œç±»çš„å¯¹è±¡çš„å®‰æ’çš„vptræ”¾åœ¨è¯¥å¯¹è±¡æ‰€å å†…å­˜çš„æœ€å‰é¢ã€‚å…¶å†…å­˜åˆ†å¸ƒå›¾å¦‚ä¸‹ï¼šæ³¨ï¼šè™šå‡½æ•°çš„é¡ºåºæ˜¯æŒ‰è™šå‡½æ•°å®šä¹‰é¡ºåºå®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒè¿˜åŒ…å«å…¶ä»–çš„ä¸€äº›å­—æ®µï¼Œæœ¬äººè¿˜æœªæ˜Žç™½å®ƒæ˜¯ä»€ä¹ˆï¼Œåœ¨ä¸‹ä¸€èŠ‚ä¼šè¯¦ç»†è¯´æ˜Žè™šå‡½æ•°è¡¨çš„å†…å®¹ã€‚4ã€è™šå‡½æ•°è¡¨ï¼ˆvtblï¼‰çš„å†…å®¹åŠå‡½æ•°æŒ‡é’ˆå­˜æ”¾é¡ºåºåœ¨ç¬¬3èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“äº†æŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼ˆvptrï¼‰åœ¨ç±»ä¸­çš„ä½ç½®äº†ï¼Œè€Œå‡½æ•°è¡¨ä¸­çš„æ•°æ®éƒ½æ˜¯å‡½æ•°æŒ‡é’ˆï¼ŒäºŽæ˜¯ä¾¿å¯åˆ©ç”¨è¿™ç‚¹æ¥éåŽ†è™šå‡½æ•°è¡¨ï¼Œå¹¶æµ‹è¯•å‡ºè™šå‡½æ•°è¡¨ä¸­çš„å†…å®¹ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼štypedef void (FuncPtr)();int main(){ Person person; int vtbl = (int)(int)&amp;person; for (int i = 0; i &lt; 3 &amp;&amp; vtbl != NULL; ++i) { FuncPtr func = (FuncPtr)vtbl; func(); ++vtbl; } while (vtbl) { cout &lt;&lt; &quot;vtbl == &quot; &lt;&lt; *vtbl &lt;&lt; endl; ++vtbl; } return 0;}ä»£ç è§£é‡Šï¼šç”±äºŽè™šå‡½æ•°è¡¨ä½äºŽå¯¹è±¡çš„é¦–ä½ç½®ä¸Šï¼Œä¸”è™šå‡½æ•°è¡¨ä¿å­˜çš„æ˜¯å‡½æ•°çš„æŒ‡é’ˆï¼Œè‹¥æŠŠè™šå‡½æ•°è¡¨å½“ä½œä¸€ä¸ªæ•°ç»„ï¼Œåˆ™è¦æŒ‡å‘è¯¥æ•°ç»„éœ€è¦ä¸€ä¸ªåŒæŒ‡é’ˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼èŽ·å–Personç±»çš„å¯¹è±¡çš„åœ°å€ï¼Œå¹¶è½¬åŒ–æˆintæŒ‡é’ˆï¼šPerson person;int p = (int)&amp;person;å†é€šè¿‡å¦‚ä¸‹çš„è¡¨è¾¾å¼ï¼ŒèŽ·å–è™šå‡½æ•°è¡¨çš„åœ°å€ï¼š&nbsp;int vtbl = (int)p;ç„¶åŽï¼Œé€šè¿‡å¦‚ä¸‹è¯­å¥èŽ·å¾—è™šå‡½æ•°è¡¨ä¸­å‡½æ•°çš„åœ°å€ï¼Œå¹¶è°ƒç”¨å‡½æ•°ã€‚FuncPtr func = (FuncPtr)vtbl;func();æœ€åŽï¼Œé€šè¿‡++vtblå¯ä»¥å¾—åˆ°å‡½æ•°è¡¨ä¸­ä¸‹ä¸€é¡¹åœ°å€ï¼Œä»Žè€ŒéåŽ†æ•´ä¸ªè™šå‡½æ•°è¡¨ã€‚å…¶è¿è¡Œç»“æžœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šä»Žä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒéåŽ†è™šå‡½æ•°è¡¨ï¼Œå¹¶æ ¹æ®è™šå‡½æ•°è¡¨ä¸­çš„å‡½æ•°åœ°å€è°ƒç”¨å‡½æ•°ï¼Œå®ƒå…ˆè°ƒç”¨printå‡½æ•°ï¼Œå†è°ƒç”¨jobå‡½æ•°ï¼Œæœ€åŽè°ƒç”¨æžæž„å‡½æ•°ã€‚å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸ŽPersonç±»ä¸­çš„è™šå‡½æ•°çš„å®šä¹‰é¡ºåºä¸€è‡´ï¼Œå…¶å†…å­˜åˆ†å¸ƒä¸Žç¬¬3èŠ‚ä¸­çš„å¯¹è±¡å†…å­˜åˆ†å¸ƒå›¾ç›¸ä¸€è‡´ã€‚ä»Žä»£ç å’Œè¿è¡Œç»“æžœï¼Œå¯ä»¥çœ‹å‡ºï¼Œè™šå‡½æ•°è¡¨ä»¥NULLæ ‡å¿—è¡¨çš„ç»“æŸã€‚ä½†æ˜¯è™šå‡½æ•°è¡¨ä¸­è¿˜å«æœ‰å…¶ä»–çš„æ•°æ®ï¼Œæœ¬äººè¿˜æ²¡æœ‰æ¸…æ¥šå…¶ä½œç”¨ã€‚5ã€ç»§æ‰¿å¯¹äºŽç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒçš„å½±å“æœ¬æ–‡å¹¶ä¸æ‰“ç®—è¯¦ç»†åœ°ä»‹ç»ç»§æ‰¿å¯¹å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒçš„å½±å“ï¼Œä¹Ÿä¸ä»‹ç»è™šå‡½æ•°çš„å®žçŽ°æœºåˆ¶ã€‚è¿™é‡Œä¸»è¦ç»™å‡ºä¸€ä¸ªç»è¿‡æœ¬äººæµ‹è¯•çš„å¤§æ¦‚çš„å¯¹è±¡å†…å­˜æ¨¡åž‹ï¼Œç”±äºŽä»£ç è¾ƒå¤šï¼Œä¸ä¸€ä¸€è´´å‡ºã€‚å‡è®¾æ‰€æœ‰çš„ç±»éƒ½æœ‰éžstaticçš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€staticçš„æˆå‘˜å˜é‡åŠæˆå‘˜å‡½æ•°å’Œvirtualå‡½æ•°ã€‚1ï¼‰å•ç»§æ‰¿ï¼ˆåªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼‰ç±»çš„ç»§æ‰¿å…³ç³»ä¸ºï¼šclass Derived : public BaseDerivedç±»çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸ºï¼šè™šå‡½æ•°è¡¨æŒ‡é’ˆã€Baseç±»çš„éžstaticæˆå‘˜å˜é‡ã€Derivedç±»çš„éžstaticæˆå‘˜å˜é‡ã€‚2ï¼‰å¤šé‡ç»§æ‰¿ï¼ˆå¤šä¸ªçˆ¶ç±»ï¼‰ç±»çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼šclass Derived : public Base1, public Base2Derivedç±»çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸ºï¼šåŸºç±»Base1å­å¯¹è±¡å’ŒåŸºç±»Base2å­å¯¹è±¡åŠDerivedç±»çš„éžstaticæˆå‘˜å˜é‡ç»„æˆã€‚åŸºç±»å­å¯¹è±¡åŒ…æ‹¬å…¶è™šå‡½æ•°è¡¨æŒ‡é’ˆå’Œå…¶éžstaticçš„æˆå‘˜å˜é‡ã€‚3ï¼‰é‡å¤ç»§æ‰¿ï¼ˆç»§æ‰¿çš„å¤šä¸ªçˆ¶ç±»ä¸­å…¶çˆ¶ç±»æœ‰ç›¸åŒçš„è¶…ç±»ï¼‰ç±»çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼šclass Base1 : public Baseclass Base2:&nbsp; public Baseclass Derived : public Base1, public Base2Derivedç±»çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸Žå¤šç»§æ‰¿ç›¸ä¼¼ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°åŸºç±»Baseçš„å­å¯¹è±¡åœ¨Derivedç±»çš„å¯¹è±¡çš„å†…å­˜ä¸­å­˜åœ¨ä¸€ä»½æ‹·è´ã€‚è¿™æ ·ç›´æŽ¥ä½¿ç”¨Derivedä¸­åŸºç±»Baseçš„ç›¸å…³æˆå‘˜æ—¶ï¼Œå°±ä¼šå¼•å‘æ­§ä¹‰ï¼Œå¯ä½¿ç”¨å¤šé‡è™šæ‹Ÿç»§æ‰¿æ¶ˆé™¤ä¹‹ã€‚4ï¼‰å¤šé‡è™šæ‹Ÿç»§æ‰¿ï¼ˆä½¿ç”¨virtualæ–¹å¼ç»§æ‰¿ï¼Œä¸ºäº†ä¿è¯ç»§æ‰¿åŽçˆ¶ç±»çš„å†…å­˜å¸ƒå±€åªä¼šå­˜åœ¨ä¸€ä»½ï¼‰ç±»çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼šclass Base1 : virtual public Baseclass Base2:&nbsp; virtual public Baseclass Derived : public Base1, public Base2Derivedç±»çš„å¯¹è±¡çš„å†…å­˜å¸ƒå±€ä¸Žé‡å¤ç»§æ‰¿çš„ç±»çš„å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒç±»ä¼¼ï¼Œä½†æ˜¯åŸºç±»Baseçš„å­å¯¹è±¡æ²¡æœ‰æ‹·è´ä¸€ä»½ï¼Œåœ¨å¯¹è±¡çš„å†…å­˜ä¸­ä»…å­˜åœ¨åœ¨ä¸€ä¸ªBaseç±»çš„å­å¯¹è±¡ã€‚ä½†æ˜¯å®ƒçš„éžstaticæˆå‘˜å˜é‡æ”¾ç½®åœ¨å¯¹è±¡çš„æœ«å°¾å¤„ã€‚å…³äºŽç»§æ‰¿å¯¹å¯¹è±¡çš„å†…å­˜å¸ƒå±€çš„å½±å“ä»¥åŠè™šå‡½æ•°çš„å®žçŽ°æœºåˆ¶çš„è¯¦ç»†ä»‹ç»ï¼Œè¯·å‚é˜…â€”â€”C++å¯¹è±¡æ¨¡åž‹ä¹‹è¯¦è¿°C++å¯¹è±¡çš„å†…å­˜å¸ƒå±€]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>å†…å­˜æ¨¡åž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxä¸€äº›ä¸è¦æƒ³å½“ç„¶çš„äº‹(ä¸€)ä¹‹ç›®å½•æƒé™]]></title>
    <url>%2F2015%2F03%2F18%2Flinux%E4%B8%80%E4%BA%9B%E4%B8%8D%E8%A6%81%E6%83%B3%E5%BD%93%E7%84%B6%E7%9A%84%E4%BA%8B(%E4%B8%80)%E4%B9%8B%E7%9B%AE%E5%BD%95%E6%9D%83%E9%99%90%2F</url>
    <content type="text"><![CDATA[ç›®å½•çš„å¯è¯»/å¯å†™/å¯æ‰§è¡Œæƒé™ ä¸è¦æŠŠç›®å½•çš„è¿™å‡ ä¸ªæƒé™å’Œæ¡£æ¡ˆçš„è¿™å‡ ä¸ªæƒé™æ··æ·†äº†, ä¸è¦æƒ³å½“ç„¶çš„ä»¥ä¸ºæ˜¯å·®ä¸å¤šçš„, å·®å¾ˆå¤š!è®°å¿†æŠ€å·§ : æ¡£æ¡ˆçš„rwxæ˜¯é’ˆå¯¹äºŽæ¡£æ¡ˆçš„å†…å®¹æ¥è®¾è®¡çš„, è€Œç›®å½•çš„rwxæ˜¯é’ˆå¯¹äºŽç›®å½•çš„æ–‡ä»¶ååˆ—è¡¨æ¥è®¾è®¡çš„ ç›®å½•å¯è¯»r ç›®å½•å¯è¯»æƒé™r : åªèƒ½èŽ·å¾—æ–‡ä»¶åˆ—è¡¨ ç‰¹åˆ«æ³¨æ„:å¦‚æžœä¸€ä¸ªç›®å½•ä¸ºéžç©º, å´æ²¡æœ‰ræƒé™, å³ä½¿ä½ æœ‰wxçš„æƒé™, ä½ ç”¨rm -rä¹Ÿæ˜¯åˆ ä¸æŽ‰çš„, å› ä¸ºæ²¡æœ‰ræƒé™æ‹¿ä¸åˆ°è¿™ä¸ªç›®å½•çš„æ–‡ä»¶åˆ—è¡¨, rm -r è‡ªç„¶ä¹Ÿå°±ä¸æ™“å¾—è¦åˆ é™¤ä»€ä¹ˆä¸œè¥¿äº†.åªæœ‰æ±‚åŠ©rootäº†123456789101112131415161718192021b@b-VirtualBox:~/my_temp_test/abc$ mkdir tempb@b-VirtualBox:~/my_temp_test/abc$ touch temp/ddb@b-VirtualBox:~/my_temp_test/abc$ ls tempddb@b-VirtualBox:~/my_temp_test/abc$ chmod 444 tempb@b-VirtualBox:~/my_temp_test/abc$ ls templs: cannot access temp/dd: Permission deniedddb@b-VirtualBox:~/my_temp_test/abc$ cd temp/bash: cd: temp/: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ cat temp/dd cat: temp/dd: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ touch temp/yytouch: cannot touch â€˜temp/yyâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ rm temp/dd rm: cannot remove â€˜temp/ddâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ rm -r temprm: descend into write-protected directory â€˜tempâ€™? yrm: cannot remove â€˜temp/ddâ€™: Permission deniedrm: remove write-protected directory â€˜tempâ€™? yrm: cannot remove â€˜tempâ€™: Directory not empty ç›®å½•å¯å†™w ç›®å½•å¯å†™æƒé™w : ä»£è¡¨å¯ä»¥åœ¨ç›®å½•ä¸‹å¢žåŠ æˆ–åˆ é™¤æ¡£æ¡ˆå’Œç›®å½•å’Œæ”¹å(ä½†æ˜¯å¿…é¡»å¾—æœ‰ç›®å½•å¯æ‰§è¡Œæƒé™xçš„æ”¯æŒæ‰å¯ä»¥, æ‰€ä»¥ä¸€èˆ¬æœ‰wå°±ä¼šæœ‰x) ä¸è¦å’Œæ¡£æ¡ˆçš„å¯å†™æƒé™æ··æ·†äº†, å³ä½¿æ²¡æœ‰ç›®å½•å¯å†™æƒé™, æœ‰ç›®å½•å¯æ‰§è¡Œxä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹ç›®å½•ä¸‹çš„æ¡£æ¡ˆçš„, åªè¦æ‹¥æœ‰è¦ä¿®æ”¹çš„é‚£ä¸ªæ¡£æ¡ˆçš„å¯å†™æƒé™æ—¢å¯. ä½†ä¹Ÿè¦æ³¨æ„çš„æ˜¯: æ¡£æ¡ˆçš„wæ˜¯é’ˆå¯¹äºŽæ¡£æ¡ˆçš„å†…å®¹æ¥è¯´çš„, ä½ å¯ä»¥ç¼–è¾‘ä¿®æ”¹ä»–çš„å†…å®¹, ä½†æ˜¯å¦‚æžœæƒ³åˆ é™¤è¿™ä¸ªæ¡£æ¡ˆ, ä½ éœ€è¦è¿™ä¸ªæ¡£æ¡ˆæ‰€åœ¨çš„ç›®å½•çš„wæƒé™.1234567891011121314b@b-VirtualBox:~/my_temp_test/abc$ chmod 222 tempb@b-VirtualBox:~/my_temp_test/abc$ mkdir temp/uumkdir: cannot create directory â€˜temp/uuâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ touch temp/ootouch: cannot touch â€˜temp/ooâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ chmod 333 temp b@b-VirtualBox:~/my_temp_test/abc$ mkdir temp/uub@b-VirtualBox:~/my_temp_test/abc$ touch temp/oob@b-VirtualBox:~/my_temp_test/abc$ rm -r temprm: cannot remove â€˜tempâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ rm -r temp/uub@b-VirtualBox:~/my_temp_test/abc$ rm temp/oob@b-VirtualBox:~/my_temp_test/abc$ ls templs: cannot open directory temp: Permission denied ç›®å½•å¯æ‰§è¡Œx ç›®å½•å¯æ‰§è¡Œæƒé™x : æœ‰è¿›å…¥ç›®å½•çš„æƒé™, æœ‰åœ¨è¿™ä¸ªç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤çš„æƒé™. ä½†ä¸å¯ä»¥åˆ é™¤æˆ–è€…å¢žåŠ æ¡£æ¡ˆå’Œç›®å½•(å› ä¸ºä¸å…·å¤‡ç›®å½•çš„å¯å†™æƒé™w)1234567891011121314151617b@b-VirtualBox:~/my_temp_test/abc$ chmod 111 temp/b@b-VirtualBox:~/my_temp_test/abc$ ls templs: cannot open directory temp: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ echo &quot;xxd&quot; &gt; temp/ddb@b-VirtualBox:~/my_temp_test/abc$ cat temp/ddxxdb@b-VirtualBox:~/my_temp_test/abc$ touch temp/yytouch: cannot touch â€˜temp/yyâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ rm temp/ddrm: cannot remove â€˜temp/ddâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ rm -r temprm: descend into write-protected directory â€˜tempâ€™? yrm: remove write-protected directory â€˜tempâ€™? yrm: cannot remove â€˜tempâ€™: Permission deniedb@b-VirtualBox:~/my_temp_test/abc$ cd tempb@b-VirtualBox:~/my_temp_test/abc/temp$ lsls: cannot open directory .: Permission denied]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>directory</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå¸¸ç”¨è¿ç»´å‘½ä»¤(dfå’Œfree)ç¬”è®°æ•´ç†(ä¸‰)]]></title>
    <url>%2F2015%2F03%2F11%2FLinux%E5%B8%B8%E7%94%A8%E8%BF%90%E7%BB%B4%E5%91%BD%E4%BB%A4(df%E5%92%8Cfree)%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%B8%89)%2F</url>
    <content type="text"><![CDATA[df dfå‘½ä»¤ç”¨äºŽæ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šçš„å¯ä½¿ç”¨çš„ç£ç›˜ç©ºé—´ã€‚é»˜è®¤æ˜¾ç¤ºå•ä½ä¸ºKBã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥èŽ·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚ -aæˆ–â€“allï¼šåŒ…å«å…¨éƒ¨çš„æ–‡ä»¶ç³»ç»Ÿï¼› â€“block-size=&lt;åŒºå—å¤§å°&gt;ï¼šä»¥æŒ‡å®šçš„åŒºå—å¤§å°æ¥æ˜¾ç¤ºåŒºå—æ•°ç›®ï¼› -hæˆ–â€“human-readableï¼šä»¥å¯è¯»æ€§è¾ƒé«˜çš„æ–¹å¼æ¥æ˜¾ç¤ºä¿¡æ¯ï¼› -Hæˆ–â€“siï¼šä¸Ž-hå‚æ•°ç›¸åŒï¼Œä½†åœ¨è®¡ç®—æ—¶æ˜¯ä»¥1000 Bytesä¸ºæ¢ç®—å•ä½è€Œéž1024 Bytesï¼› -iæˆ–â€“inodesï¼šæ˜¾ç¤ºinodeçš„ä¿¡æ¯ï¼› -kæˆ–â€“kilobytesï¼šæŒ‡å®šåŒºå—å¤§å°ä¸º1024å­—èŠ‚ï¼› -læˆ–â€“localï¼šä»…æ˜¾ç¤ºæœ¬åœ°ç«¯çš„æ–‡ä»¶ç³»ç»Ÿï¼› -mæˆ–â€“megabytesï¼šæŒ‡å®šåŒºå—å¤§å°ä¸º1048576å­—èŠ‚ï¼› â€“no-syncï¼šåœ¨å–å¾—ç£ç›˜ä½¿ç”¨ä¿¡æ¯å‰ï¼Œä¸è¦æ‰§è¡ŒsyncæŒ‡ä»¤ï¼Œæ­¤ä¸ºé¢„è®¾å€¼ï¼› -Pæˆ–â€“portabilityï¼šä½¿ç”¨POSIXçš„è¾“å‡ºæ ¼å¼ï¼› â€“syncï¼šåœ¨å–å¾—ç£ç›˜ä½¿ç”¨ä¿¡æ¯å‰ï¼Œå…ˆæ‰§è¡ŒsyncæŒ‡ä»¤ï¼› -t&lt;æ–‡ä»¶ç³»ç»Ÿç±»åž‹&gt;æˆ–â€“type=&lt;æ–‡ä»¶ç³»ç»Ÿç±»åž‹&gt;ï¼šä»…æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»åž‹çš„ç£ç›˜ä¿¡æ¯ï¼› -Tæˆ–â€“print-typeï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„ç±»åž‹ï¼› -x&lt;æ–‡ä»¶ç³»ç»Ÿç±»åž‹&gt;æˆ–â€“exclude-type=&lt;æ–‡ä»¶ç³»ç»Ÿç±»åž‹&gt;ï¼šä¸è¦æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»åž‹çš„ç£ç›˜ä¿¡æ¯ï¼› â€“helpï¼šæ˜¾ç¤ºå¸®åŠ©ï¼› â€“versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ dfå¸¸ç”¨ç”¨æ³•ï¼šdf -h12345678910b@b-VirtualBox:~$ df -hFilesystem Size Used Avail Use% Mounted onudev 990M 4.0K 990M 1% /devtmpfs 201M 968K 200M 1% /run/dev/sda1 8.8G 4.1G 4.3G 49% /none 4.0K 0 4.0K 0% /sys/fs/cgroupnone 5.0M 0 5.0M 0% /run/locknone 1001M 76K 1001M 1% /run/shmnone 100M 36K 100M 1% /run/user/dev/sr0 57M 57M 0 100% /media/b/VBOXADDITIONS_5.1.22_115126 free freeå‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæœªä½¿ç”¨çš„å’Œå·²ä½¿ç”¨çš„å†…å­˜æ•°ç›®ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºè¢«å†…æ ¸ä½¿ç”¨çš„å†…å­˜ç¼“å†²åŒºã€‚ freeå¸¸ç”¨ç”¨æ³•ï¼šfree -mæˆ–è€…free -g12345b@b-VirtualBox:~$ free -m total used free shared buffers cachedMem: 2000 1231 768 9 72 456-/+ buffers/cache: 702 1297Swap: 1021 0 1021]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå¸¸ç”¨è¿ç»´å‘½ä»¤(netstatå’Œlsof)ç¬”è®°æ•´ç†(äºŒ)]]></title>
    <url>%2F2015%2F03%2F09%2FLinux%E5%B8%B8%E7%94%A8%E8%BF%90%E7%BB%B4%E5%91%BD%E4%BB%A4(netstat%E5%92%8Clsof)%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[netstat netstatå‘½ä»¤ç”¨æ¥æ‰“å°Linuxä¸­ç½‘ç»œç³»ç»Ÿçš„çŠ¶æ€ä¿¡æ¯ï¼Œå¯è®©ä½ å¾—çŸ¥æ•´ä¸ªLinuxç³»ç»Ÿçš„ç½‘ç»œæƒ…å†µã€‚ -aæˆ–â€“allï¼šæ˜¾ç¤ºæ‰€æœ‰è¿žçº¿ä¸­çš„Socketï¼› -A&lt;ç½‘ç»œç±»åž‹&gt;æˆ–â€“&lt;ç½‘ç»œç±»åž‹&gt;ï¼šåˆ—å‡ºè¯¥ç½‘ç»œç±»åž‹è¿žçº¿ä¸­çš„ç›¸å…³åœ°å€ï¼› -cæˆ–â€“continuousï¼šæŒç»­åˆ—å‡ºç½‘ç»œçŠ¶æ€ï¼› -Cæˆ–â€“cacheï¼šæ˜¾ç¤ºè·¯ç”±å™¨é…ç½®çš„å¿«å–ä¿¡æ¯ï¼› -eæˆ–â€“extendï¼šæ˜¾ç¤ºç½‘ç»œå…¶ä»–ç›¸å…³ä¿¡æ¯ï¼› -Fæˆ–â€“fibï¼šæ˜¾ç¤ºFIBï¼› -gæˆ–â€“groupsï¼šæ˜¾ç¤ºå¤šé‡å¹¿æ’­åŠŸèƒ½ç¾¤ç»„ç»„å‘˜åå•ï¼› -hæˆ–â€“helpï¼šåœ¨çº¿å¸®åŠ©ï¼› -iæˆ–â€“interfacesï¼šæ˜¾ç¤ºç½‘ç»œç•Œé¢ä¿¡æ¯è¡¨å•ï¼› -læˆ–â€“listeningï¼šæ˜¾ç¤ºç›‘æŽ§ä¸­çš„æœåŠ¡å™¨çš„Socketï¼› -Mæˆ–â€“masqueradeï¼šæ˜¾ç¤ºä¼ªè£…çš„ç½‘ç»œè¿žçº¿ï¼› -næˆ–â€“numericï¼šç›´æŽ¥ä½¿ç”¨ipåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ï¼› -Næˆ–â€“netlinkæˆ–â€“symbolicï¼šæ˜¾ç¤ºç½‘ç»œç¡¬ä»¶å¤–å›´è®¾å¤‡çš„ç¬¦å·è¿žæŽ¥åç§°ï¼› -oæˆ–â€“timersï¼šæ˜¾ç¤ºè®¡æ—¶å™¨ï¼› -pæˆ–â€“programsï¼šæ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨Socketçš„ç¨‹åºè¯†åˆ«ç å’Œç¨‹åºåç§°ï¼› -ræˆ–â€“routeï¼šæ˜¾ç¤ºRouting Tableï¼› -sæˆ–â€“statisticeï¼šæ˜¾ç¤ºç½‘ç»œå·¥ä½œä¿¡æ¯ç»Ÿè®¡è¡¨ï¼› -tæˆ–â€“tcpï¼šæ˜¾ç¤ºTCPä¼ è¾“åè®®çš„è¿žçº¿çŠ¶å†µï¼› -uæˆ–â€“udpï¼šæ˜¾ç¤ºUDPä¼ è¾“åè®®çš„è¿žçº¿çŠ¶å†µï¼› -væˆ–â€“verboseï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼› -Væˆ–â€“versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼› -wæˆ–â€“rawï¼šæ˜¾ç¤ºRAWä¼ è¾“åè®®çš„è¿žçº¿çŠ¶å†µï¼› -xæˆ–â€“unixï¼šæ­¤å‚æ•°çš„æ•ˆæžœå’ŒæŒ‡å®šâ€-A unixâ€å‚æ•°ç›¸åŒï¼› â€“ipæˆ–â€“inetï¼šæ­¤å‚æ•°çš„æ•ˆæžœå’ŒæŒ‡å®šâ€-A inetâ€å‚æ•°ç›¸åŒã€‚ netstatå¸¸ç”¨ç”¨æ³•ï¼šnetstat -anlpnetstat -anlptçš„å«ä¹‰æ˜¯ ï¼š åˆ—å‡ºæ‰€æœ‰å¤„äºŽä½¿ç”¨tcpåè®®çš„ Sockets123456789b@b-VirtualBox:~$ sudo netstat -anlptActive Internet connections (servers and established)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program nametcp 0 0 127.0.1.1:53 0.0.0.0:* LISTEN 1075/dnsmasq tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 935/sshd tcp 0 0 127.0.0.1:631 0.0.0.0:* LISTEN 2271/cupsd tcp6 0 0 :::22 :::* LISTEN 935/sshd tcp6 0 0 ::1:631 :::* LISTEN 2271/cupsd tcp6 1 0 ::1:50654 ::1:631 CLOSE_WAIT 1027/cups-browsed æŸ¥çœ‹udpçš„å°±æ˜¯netstat -anlpuï¼›åªæŸ¥çœ‹tcpå’Œudpçš„å°±æ˜¯netstat -anlptu lsof ï¼ˆlist open filesï¼‰ lsofå‘½ä»¤ç”¨äºŽæŸ¥çœ‹ä½ è¿›ç¨‹å¼€æ‰“çš„æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶çš„è¿›ç¨‹ï¼Œè¿›ç¨‹æ‰“å¼€çš„ç«¯å£(TCPã€UDP)ã€‚æ‰¾å›ž/æ¢å¤åˆ é™¤çš„æ–‡ä»¶ã€‚æ˜¯ååˆ†æ–¹ä¾¿çš„ç³»ç»Ÿç›‘è§†å·¥å…·ï¼Œå› ä¸ºlsofå‘½ä»¤éœ€è¦è®¿é—®æ ¸å¿ƒå†…å­˜å’Œå„ç§æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦rootç”¨æˆ·æ‰§è¡Œã€‚ åœ¨linuxçŽ¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿žæŽ¥å’Œç¡¬ä»¶ã€‚æ‰€ä»¥å¦‚ä¼ è¾“æŽ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æŽ¥å­—ç­‰ï¼Œç³»ç»Ÿåœ¨åŽå°éƒ½ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ— è®ºè¿™ä¸ªæ–‡ä»¶çš„æœ¬è´¨å¦‚ä½•ï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦ä¸ºåº”ç”¨ç¨‹åºä¸ŽåŸºç¡€æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’æä¾›äº†é€šç”¨æŽ¥å£ã€‚å› ä¸ºåº”ç”¨ç¨‹åºæ‰“å¼€æ–‡ä»¶çš„æè¿°ç¬¦åˆ—è¡¨æä¾›äº†å¤§é‡å…³äºŽè¿™ä¸ªåº”ç”¨ç¨‹åºæœ¬èº«çš„ä¿¡æ¯ï¼Œå› æ­¤é€šè¿‡lsofå·¥å…·èƒ½å¤ŸæŸ¥çœ‹è¿™ä¸ªåˆ—è¡¨å¯¹ç³»ç»Ÿç›‘æµ‹ä»¥åŠæŽ’é”™å°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ -aï¼šåˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹ï¼› -c&lt;è¿›ç¨‹å&gt;ï¼šåˆ—å‡ºæŒ‡å®šè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ï¼› -gï¼šåˆ—å‡ºGIDå·è¿›ç¨‹è¯¦æƒ…ï¼› -d&lt;æ–‡ä»¶å·&gt;ï¼šåˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹ï¼› +d&lt;ç›®å½•&gt;ï¼šåˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼› +D&lt;ç›®å½•&gt;ï¼šé€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼› -n&lt;ç›®å½•&gt;ï¼šåˆ—å‡ºä½¿ç”¨NFSçš„æ–‡ä»¶ï¼› -i&lt;æ¡ä»¶&gt;ï¼šåˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹ã€‚ï¼ˆ4ã€6ã€åè®®ã€:ç«¯å£ã€ @ip ï¼‰ -p&lt;è¿›ç¨‹å·&gt;ï¼šåˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶ï¼› -uï¼šåˆ—å‡ºUIDå·è¿›ç¨‹è¯¦æƒ…ï¼› -hï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ï¼› -vï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -R: æ˜¾ç¤ºPPIDï¼ˆçˆ¶è¿›ç¨‹IDï¼‰ lsofå¸¸ç”¨ç”¨æ³•1ï¼šlsof -pps -ef |grep sshd|grep -v grep| awk â€˜{print $2}â€™|xargs sudo lsof -pçš„å«ä¹‰æ˜¯ï¼šåˆ—å‡ºsshdè¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦123456789101112131415161718192021222324252627282930313233343536373839b@b-VirtualBox:~$ ps -ef |grep sshd|grep -v grep| awk &apos;&#123;print $2&#125;&apos;|xargs sudo lsof -plsof: WARNING: can&apos;t stat() fuse.gvfsd-fuse file system /run/user/1000/gvfs Output information may be incomplete.COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAMEsshd 935 root cwd DIR 8,1 4096 2 /sshd 935 root rtd DIR 8,1 4096 2 /sshd 935 root txt REG 8,1 770944 301274 /usr/sbin/sshdsshd 935 root mem REG 8,1 43616 136982 /lib/x86_64-linux-gnu/libnss_files-2.19.sosshd 935 root mem REG 8,1 47760 136992 /lib/x86_64-linux-gnu/libnss_nis-2.19.sosshd 935 root mem REG 8,1 39824 136978 /lib/x86_64-linux-gnu/libnss_compat-2.19.sosshd 935 root mem REG 8,1 101240 137033 /lib/x86_64-linux-gnu/libresolv-2.19.sosshd 935 root mem REG 8,1 14256 136950 /lib/x86_64-linux-gnu/libkeyutils.so.1.4sshd 935 root mem REG 8,1 43672 403209 /usr/lib/x86_64-linux-gnu/libkrb5support.so.0.1sshd 935 root mem REG 8,1 186824 403203 /usr/lib/x86_64-linux-gnu/libk5crypto.so.3.1sshd 935 root mem REG 8,1 31792 137035 /lib/x86_64-linux-gnu/librt-2.19.sosshd 935 root mem REG 8,1 141574 137027 /lib/x86_64-linux-gnu/libpthread-2.19.sosshd 935 root mem REG 8,1 252032 137010 /lib/x86_64-linux-gnu/libpcre.so.3.13.1sshd 935 root mem REG 8,1 14664 136924 /lib/x86_64-linux-gnu/libdl-2.19.sosshd 935 root mem REG 8,1 97296 136976 /lib/x86_64-linux-gnu/libnsl-2.19.sosshd 935 root mem REG 8,1 1840928 136907 /lib/x86_64-linux-gnu/libc-2.19.sosshd 935 root mem REG 8,1 14592 136916 /lib/x86_64-linux-gnu/libcom_err.so.2.1sshd 935 root mem REG 8,1 831616 403207 /usr/lib/x86_64-linux-gnu/libkrb5.so.3.3sshd 935 root mem REG 8,1 290520 403037 /usr/lib/x86_64-linux-gnu/libgssapi_krb5.so.2.2sshd 935 root mem REG 8,1 43368 136917 /lib/x86_64-linux-gnu/libcrypt-2.19.sosshd 935 root mem REG 8,1 100728 137070 /lib/x86_64-linux-gnu/libz.so.1.2.8sshd 935 root mem REG 8,1 10680 137062 /lib/x86_64-linux-gnu/libutil-2.19.sosshd 935 root mem REG 8,1 1934624 136919 /lib/x86_64-linux-gnu/libcrypto.so.1.0.0sshd 935 root mem REG 8,1 281552 136921 /lib/x86_64-linux-gnu/libdbus-1.so.3.7.6sshd 935 root mem REG 8,1 14536 440884 /usr/lib/x86_64-linux-gnu/libck-connector.so.0.0.0sshd 935 root mem REG 8,1 134296 137037 /lib/x86_64-linux-gnu/libselinux.so.1sshd 935 root mem REG 8,1 55856 136999 /lib/x86_64-linux-gnu/libpam.so.0.83.1sshd 935 root mem REG 8,1 104936 136897 /lib/x86_64-linux-gnu/libaudit.so.1.0.0sshd 935 root mem REG 8,1 36632 137067 /lib/x86_64-linux-gnu/libwrap.so.0.7.6sshd 935 root mem REG 8,1 149120 136883 /lib/x86_64-linux-gnu/ld-2.19.sosshd 935 root 0u CHR 1,3 0t0 6 /dev/nullsshd 935 root 1u CHR 1,3 0t0 6 /dev/nullsshd 935 root 2u CHR 1,3 0t0 6 /dev/nullsshd 935 root 3u IPv4 10479 0t0 TCP *:ssh (LISTEN)sshd 935 root 4u IPv6 10481 0t0 TCP *:ssh (LISTEN) ps -ef | grep sshd | grep -v grep : èŽ·å–psæ‰“å°å‡ºæ¥çš„åˆ—è¡¨ä¸­çš„sshdè¿›ç¨‹æ‰€åœ¨çš„é‚£ä¸€è¡Œï¼ˆgrep -v grepçš„å«ä¹‰æ˜¯æ¸…é™¤æŽ‰åŒ…å«â€œgrepâ€å­—ç¬¦ä¸²çš„é‚£ä¸€è¡Œï¼‰, å³ä¸ºï¼š 12b@b-VirtualBox:~$ ps -ef | grep sshd | grep -v greproot 935 1 0 17:37 ? 00:00:00 /usr/sbin/sshd -D awk â€˜{print $2}â€™ : èŽ·å–ä¸Šè¿°å‘½ä»¤æ‰“å°å‡ºæ¥ç»“æžœçš„ç¬¬2åˆ—ï¼ˆä¸Šè¿°ç»“æžœçš„ç¬¬äºŒåˆ—ä¸ºsshdçš„pidï¼Œ æ˜¯935ï¼‰ xargs sudo lsof -p ï¼š åˆ—å‡ºä¸Šè¿°ç»“æžœpidä¸º935çš„è¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œ ç­‰ä»·äºŽsudo lsof -p 935çš„ç»“æžœ lsofå¸¸ç”¨ç”¨æ³•ï¼šlsof -i:sudo lsof -i:22å«ä¹‰ä¸ºåˆ—å‡ºå ç”¨22çš„è¿›ç¨‹1234b@b-VirtualBox:~$ sudo lsof -i:22COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAMEsshd 935 root 3u IPv4 10479 0t0 TCP *:ssh (LISTEN)sshd 935 root 4u IPv6 10481 0t0 TCP *:ssh (LISTEN)]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxå¸¸ç”¨è¿ç»´å‘½ä»¤(iostat)ç¬”è®°æ•´ç†(ä¸€)]]></title>
    <url>%2F2015%2F03%2F07%2FLinux%E5%B8%B8%E7%94%A8%E8%BF%90%E7%BB%B4%E5%91%BD%E4%BB%A4(iostat)%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[åœ¨linuxæœåŠ¡å™¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ ç»å¸¸éœ€è¦å„ç§å‘½ä»¤é…åˆæ¥æŸ¥çœ‹å„ç§çŠ¶æ€ï¼Œæ‰€ä»¥æ•´ç†äº†ä¸€äº›è€çš„ç¬”è®°æ¥å¤‡å¿˜ã€‚ iostat iostatä¸»è¦ç”¨äºŽç›‘æŽ§ç³»ç»Ÿè®¾å¤‡çš„IOè´Ÿè½½æƒ…å†µï¼Œiostaté¦–æ¬¡è¿è¡Œæ—¶æ˜¾ç¤ºè‡ªç³»ç»Ÿå¯åŠ¨å¼€å§‹çš„å„é¡¹ç»Ÿè®¡ä¿¡æ¯ï¼Œä¹‹åŽè¿è¡Œiostatå°†æ˜¾ç¤ºè‡ªä¸Šæ¬¡è¿è¡Œè¯¥å‘½ä»¤ä»¥åŽçš„ç»Ÿè®¡ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æŒ‡å®šç»Ÿè®¡çš„æ¬¡æ•°å’Œæ—¶é—´æ¥èŽ·å¾—æ‰€éœ€çš„ç»Ÿè®¡ä¿¡æ¯ -c ä»…æ˜¾ç¤ºCPUç»Ÿè®¡ä¿¡æ¯.ä¸Ž-dé€‰é¡¹äº’æ–¥. -d ä»…æ˜¾ç¤ºç£ç›˜ç»Ÿè®¡ä¿¡æ¯.ä¸Ž-cé€‰é¡¹äº’æ–¥. -k ä»¥Kä¸ºå•ä½æ˜¾ç¤ºæ¯ç§’çš„ç£ç›˜è¯·æ±‚æ•°,é»˜è®¤å•ä½å—. -t åœ¨è¾“å‡ºæ•°æ®æ—¶,æ‰“å°æœé›†æ•°æ®çš„æ—¶é—´. -V æ‰“å°ç‰ˆæœ¬å·å’Œå¸®åŠ©ä¿¡æ¯. -x è¾“å‡ºæ‰©å±•ä¿¡æ¯. iostatå¸¸ç”¨ç”¨æ³•1ï¼šiostat -dæŒ‡å®šé‡‡æ ·æ—¶é—´é—´éš”ä¸Žé‡‡æ ·æ¬¡æ•° æˆ‘ä»¬å¯ä»¥ä»¥â€iostat interval [count] â€å½¢å¼æŒ‡å®šiostatå‘½ä»¤çš„é‡‡æ ·é—´éš”å’Œé‡‡æ ·æ¬¡æ•°ï¼š12345678910linux # iostat -d 1 2Linux 2.6.16.60-0.21-smp (linux) 06/13/12Device: tps Blk_read/s Blk_wrtn/s Blk_read Blk_wrtnsda 0.55 8.93 36.27 6737086 27367728sdb 0.00 0.00 0.00 928 0Device: tps Blk_read/s Blk_wrtn/s Blk_read Blk_wrtnsda 2.00 0.00 72.00 0 72sdb 0.00 0.00 0.00 0 0 ä»¥ä¸Šå‘½ä»¤è¾“å‡ºDeviceçš„ä¿¡æ¯ï¼Œé‡‡æ ·æ—¶é—´ä¸º1ç§’ï¼Œé‡‡æ ·2æ¬¡ï¼Œè‹¥ä¸æŒ‡å®šé‡‡æ ·æ¬¡æ•°ï¼Œåˆ™iostatä¼šä¸€ç›´è¾“å‡ºé‡‡æ ·ä¿¡æ¯ï¼Œç›´åˆ°æŒ‰â€ctrl+câ€é€€å‡ºå‘½ä»¤ã€‚æ³¨æ„ï¼Œç¬¬1æ¬¡é‡‡æ ·ä¿¡æ¯ä¸Žå•ç‹¬æ‰§è¡Œiostatçš„æ•ˆæžœä¸€æ ·ï¼Œä¸ºä»Žç³»ç»Ÿå¼€æœºåˆ°å½“å‰æ‰§è¡Œæ—¶åˆ»çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ iostatå¸¸ç”¨ç”¨æ³•2ï¼š iostat -x -k -d123456linux # iostat -x -k -d 1Linux 2.6.16.60-0.21-smp (linux) 06/13/12â€¦â€¦Device: rrqm/s wrqm/s r/s w/s rkB/s wkB/s avgrq-sz avgqu-sz await svctm %utilsda 0.00 9915.00 1.00 90.00 4.00 34360.00 755.25 11.79 120.57 6.33 57.60 ä»¥ä¸Šå„åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼š rrqm/s: æ¯ç§’å¯¹è¯¥è®¾å¤‡çš„è¯»è¯·æ±‚è¢«åˆå¹¶æ¬¡æ•°ï¼Œæ–‡ä»¶ç³»ç»Ÿä¼šå¯¹è¯»å–åŒå—(block)çš„è¯·æ±‚è¿›è¡Œåˆå¹¶ wrqm/s: æ¯ç§’å¯¹è¯¥è®¾å¤‡çš„å†™è¯·æ±‚è¢«åˆå¹¶æ¬¡æ•° r/s: æ¯ç§’å®Œæˆçš„è¯»æ¬¡æ•° w/s: æ¯ç§’å®Œæˆçš„å†™æ¬¡æ•° rkB/s: æ¯ç§’è¯»æ•°æ®é‡(kBä¸ºå•ä½) wkB/s: æ¯ç§’å†™æ•°æ®é‡(kBä¸ºå•ä½) avgrq-sz:å¹³å‡æ¯æ¬¡IOæ“ä½œçš„æ•°æ®é‡(æ‰‡åŒºæ•°ä¸ºå•ä½) avgqu-sz: å¹³å‡ç­‰å¾…å¤„ç†çš„IOè¯·æ±‚é˜Ÿåˆ—é•¿åº¦ await: å¹³å‡æ¯æ¬¡IOè¯·æ±‚ç­‰å¾…æ—¶é—´(åŒ…æ‹¬ç­‰å¾…æ—¶é—´å’Œå¤„ç†æ—¶é—´ï¼Œæ¯«ç§’ä¸ºå•ä½) svctm: å¹³å‡æ¯æ¬¡IOè¯·æ±‚çš„å¤„ç†æ—¶é—´(æ¯«ç§’ä¸ºå•ä½) %util: é‡‡ç”¨å‘¨æœŸå†…ç”¨äºŽIOæ“ä½œçš„æ—¶é—´æ¯”çŽ‡ï¼Œå³IOé˜Ÿåˆ—éžç©ºçš„æ—¶é—´æ¯”çŽ‡ å¯¹äºŽä»¥ä¸Šç¤ºä¾‹è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š æ¯ç§’å‘ç£ç›˜ä¸Šå†™30Må·¦å³æ•°æ®(wkB/så€¼)æ¯ç§’æœ‰91æ¬¡IOæ“ä½œ(r/s+w/s)ï¼Œå…¶ä¸­ä»¥å†™æ“ä½œä¸ºä¸»ä½“å¹³å‡æ¯æ¬¡IOè¯·æ±‚ç­‰å¾…å¤„ç†çš„æ—¶é—´ä¸º120.57æ¯«ç§’ï¼Œå¤„ç†è€—æ—¶ä¸º6.33æ¯«ç§’ç­‰å¾…å¤„ç†çš„IOè¯·æ±‚é˜Ÿåˆ—ä¸­ï¼Œå¹³å‡æœ‰11.79ä¸ªè¯·æ±‚é©»ç•™]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonçš„structæ¨¡å—]]></title>
    <url>%2F2015%2F03%2F02%2Fpython%E7%9A%84struct%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[struct, è¿™çŽ©æ„c/c++ä¹Ÿæœ‰, é¡¾åæ€ä¹‰, èƒ½è”æƒ³åˆ°è¿™çŽ©æ„æ˜¯å•¥äº† æ¨¡å—çš„ä¸»è¦ä½œç”¨å°±æ˜¯å¯¹pythonåŸºæœ¬ç±»åž‹å€¼ä¸Ž ç”¨pythonå­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºçš„C structç±»åž‹é—´ çš„è½¬åŒ–ï¼ˆThis module performs conversions between Python values and C structs represented as Python strings.ï¼‰ åŸºæœ¬ç”¨æ³•123456789101112import structimport binasciivalues = (1, &apos;abc&apos;, 2.7)s = struct.Struct(&apos;I3sf&apos;)packed_data = s.pack(*values)unpacked_data = s.unpack(packed_data) print &apos;Original values:&apos;, valuesprint &apos;Format string :&apos;, s.formatprint &apos;Uses :&apos;, s.size, &apos;bytes&apos;print &apos;Packed Value :&apos;, binascii.hexlify(packed_data)print &apos;Unpacked Type :&apos;, type(unpacked_data), &apos; Value:&apos;, unpacked_data è¾“å‡ºä¸º:12345Original values: (1, &apos;abc&apos;, 2.7) Format string : I3sf Uses : 12 bytes Packed Value : 0100000061626300cdcc2c40 Unpacked Type : &lt;type &apos;tuple&apos;&gt; Value: (1, &apos;abc&apos;, 2.700000047683716) ä»£ç ä¸­ï¼Œ é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå…ƒç»„æ•°æ®ï¼Œ åŒ…å«intã€stringã€floatä¸‰ç§æ•°æ®ç±»åž‹ï¼Œ ç„¶åŽå®šä¹‰äº†structå¯¹è±¡ï¼Œå¹¶åˆ¶å®šäº†formatâ€˜I3sfâ€™ï¼Œ I è¡¨ç¤ºintï¼Œ 3sè¡¨ç¤ºä¸‰ä¸ªå­—ç¬¦é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œ f è¡¨ç¤º floatã€‚æœ€åŽé€šè¿‡structçš„packå’Œunpackè¿›è¡Œæ‰“åŒ…å’Œè§£åŒ…ã€‚é€šè¿‡è¾“å‡ºç»“æžœå¯ä»¥å‘çŽ°ï¼Œ valueè¢«packä¹‹åŽï¼Œ è½¬åŒ–ä¸ºäº†ä¸€æ®µäºŒè¿›åˆ¶å­—èŠ‚ä¸²ï¼Œ è€Œunpackå¯ä»¥æŠŠè¯¥å­—èŠ‚ä¸²å†è½¬æ¢å›žä¸€ä¸ªå…ƒç»„ï¼Œ ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯å¯¹äºŽfloatçš„ç²¾åº¦å‘ç”Ÿäº†æ”¹å˜ï¼Œ è¿™æ˜¯ç”±ä¸€äº›æ¯”å¦‚æ“ä½œç³»ç»Ÿç­‰å®¢è§‚å› ç´ æ‰€å†³å®šçš„ã€‚æ‰“åŒ…ä¹‹åŽçš„æ•°æ®æ‰€å ç”¨çš„å­—èŠ‚æ•°ä¸ŽCè¯­è¨€ä¸­çš„structååˆ†ç›¸ä¼¼ã€‚å®šä¹‰formatå¯ä»¥å‚ç…§å®˜æ–¹apiæä¾›çš„å¯¹ç…§è¡¨ï¼š å­—èŠ‚åºè®¾ç½®å¦ä¸€æ–¹é¢ï¼Œæ‰“åŒ…çš„åŽçš„å­—èŠ‚é¡ºåºé»˜è®¤ä¸Šæ˜¯ç”±æ“ä½œç³»ç»Ÿçš„å†³å®šçš„ï¼Œ å½“ç„¶structæ¨¡å—ä¹Ÿæä¾›äº†è‡ªå®šä¹‰å­—èŠ‚é¡ºåºçš„åŠŸèƒ½ï¼Œ å¯ä»¥æŒ‡å®šå¤§ç«¯å­˜å‚¨ã€å°ç«¯å­˜å‚¨ç­‰ç‰¹å®šçš„å­—èŠ‚é¡ºåºï¼Œ å¯¹äºŽåº•å±‚é€šä¿¡çš„å­—èŠ‚é¡ºåºæ˜¯ååˆ†é‡è¦çš„ï¼Œ ä¸åŒçš„å­—èŠ‚é¡ºåºå’Œå­˜å‚¨æ–¹å¼ä¹Ÿä¼šå¯¼è‡´å­—èŠ‚å¤§å°çš„ä¸åŒã€‚åœ¨formatå­—ç¬¦ä¸²å‰é¢åŠ ä¸Šç‰¹å®šçš„ç¬¦å·å³å¯ä»¥è¡¨ç¤ºä¸åŒçš„å­—èŠ‚é¡ºåºå­˜å‚¨æ–¹å¼ï¼Œ ä¾‹å¦‚é‡‡ç”¨å°ç«¯å­˜å‚¨ s = struct.Struct(â€˜&lt;I3sfâ€™)å°±å¯ä»¥äº†ã€‚å®˜æ–¹api library ä¹Ÿæä¾›äº†ç›¸åº”çš„å¯¹ç…§åˆ—è¡¨ï¼š]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLä¸€äº›éœ€è¦æ³¨æ„çš„å°ç»†èŠ‚]]></title>
    <url>%2F2015%2F02%2F27%2FMySQL%E4%B8%80%E4%BA%9B%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%B0%8F%E7%BB%86%E8%8A%82%2F</url>
    <content type="text"><![CDATA[distinctå…³é”®å­— distinctæ˜¯åº”ç”¨äºŽæ‰€æœ‰åˆ—çš„, è€Œä¸æ˜¯æŸä¸€ä¸ªåˆ—1234567891011121314151617181920212223242526272829mysql&gt; select * from test_table;+------+------+| one | two |+------+------+| 56 | 12 || 52 | 10 || 56 | 12 || 56 | 13 |+------+------+4 rows in set (0.00 sec)mysql&gt; select distinct one, two from test_table;+------+------+| one | two |+------+------+| 56 | 12 || 52 | 10 || 56 | 13 |+------+------+3 rows in set (0.00 sec)mysql&gt; select distinct one from test_table;+------+| one |+------+| 56 || 52 |+------+2 rows in set (0.00 sec) andå…³é”®å­— andçš„ç»„åˆä¼˜å…ˆçº§æ¯”oré«˜ 12345678910111213141516171819202122232425262728293031323334353637mysql&gt; select * from test_table;+------+------+| one | two |+------+------+| 56 | 12 || 52 | 10 || 56 | 12 || 56 | 13 || NULL | NULL |+------+------+5 rows in set (0.00 sec)mysql&gt; select one, two from test_table where one = 52 or one = 56 and two &gt; 12;+------+------+| one | two |+------+------+| 52 | 10 || 56 | 13 |+------+------+2 rows in set (0.00 sec)mysql&gt; select one, two from test_table where one = 52 or (one = 56 and two &gt; 12);+------+------+| one | two |+------+------+| 52 | 10 || 56 | 13 |+------+------+2 rows in set (0.00 sec)mysql&gt; select one, two from test_table where (one = 52 or one = 56) and two &gt; 12;+------+------+| one | two |+------+------+| 56 | 13 |+------+------+1 row in set (0.00 sec) NULL nullå’Œç©ºå­—ç¬¦æ˜¯ä¸ä¸€æ ·çš„, æ‰¾åˆ°ä»–å’Œåˆ é™¤ä»–çš„æ–¹å¼ä¹Ÿæ¯”è¾ƒç‰¹åˆ«1234567891011121314151617181920212223242526272829303132333435363738mysql&gt; insert into test_table(one , two) values (null, null);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from test_table;+------+------+| one | two |+------+------+| NULL | NULL |+------+------+1 row in set (0.00 sec)mysql&gt; delete from test_table where one = NULL;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from test_table;+------+------+| one | two |+------+------+| NULL | NULL |+------+------+1 row in set (0.00 sec)mysql&gt; delete from test_table where one = &apos; &apos;;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from test_table;+------+------+| one | two |+------+------+| NULL | NULL |+------+------+1 row in set (0.00 sec)mysql&gt; delete from test_table where isnull(one);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from test_table;Empty set (0.00 sec) rollback å¹¶ä¸æ˜¯ä»€ä¹ˆéƒ½å¯ä»¥å›žæ»šçš„, å…¸åž‹çš„å¦‚åˆ›å»ºè¡¨å’Œåˆ é™¤è¡¨è¿™äº›éƒ½æ˜¯ä¸èƒ½å›žé€€çš„. äº‹åŠ¡æ˜¯ç”¨æ¥ç®¡ç† insert,update,delete è¯­å¥çš„123456789101112131415161718192021222324252627282930313233343536mysql&gt; set autocommit = 0;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from test_tab;+-----+-----+-------+| one | two | three |+-----+-----+-------+| 3 | 4 | 5 |+-----+-----+-------+1 row in set (0.00 sec)mysql&gt; set autocommit = 0;Query OK, 0 rows affected (0.00 sec)mysql&gt; insert into test_tab value (4, 4, 5);Query OK, 1 row affected (0.00 sec)mysql&gt; rollback;Query OK, 0 rows affected (0.01 sec)mysql&gt; select * from test_tab;+-----+-----+-------+| one | two | three |+-----+-----+-------+| 3 | 4 | 5 |+-----+-----+-------+1 row in set (0.00 sec)mysql&gt; drop table test_tab;Query OK, 0 rows affected (0.02 sec)mysql&gt; rollback;Query OK, 0 rows affected (0.00 sec)mysql&gt; select * from test_tab;ERROR 1146 (42S02): Table &apos;b_test_database.test_tab&apos; doesn&apos;t exist]]></content>
      <categories>
        <category>DB</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonä¸­çš„__name__å’Œ__main()__]]></title>
    <url>%2F2015%2F02%2F10%2Fpython%E4%B8%AD%E7%9A%84__name__%E5%92%8C__main()__%2F</url>
    <content type="text"><![CDATA[12345678#hello.pydef sayHello(): str=&quot;hello&quot; print(str);if __name__ == &quot;__main__&quot;: print (&apos;This is main of module &quot;hello.py&quot;&apos;) sayHello() pythonä½œä¸ºä¸€ç§è„šæœ¬è¯­è¨€ï¼Œæˆ‘ä»¬ç”¨pythonå†™çš„å„ä¸ªmoduleéƒ½å¯ä»¥åŒ…å«ä»¥ä¸Šé‚£ä¹ˆä¸€ä¸ªç´¯æ­»cä¸­çš„mainå‡½æ•°ï¼Œåªä¸è¿‡pythonä¸­çš„è¿™ç§__main__ä¸Žcä¸­æœ‰ä¸€äº›åŒºåˆ«ï¼Œç±»ä¼¼äºŽphpçš„é­”æœ¯é‚£ä¸€å¥—, ä¸»è¦ä½“çŽ°åœ¨ï¼š 1ã€å½“å•ç‹¬æ‰§è¡Œè¯¥moduleæ—¶ï¼Œæ¯”å¦‚å•ç‹¬æ‰§è¡Œä»¥ä¸Šhello.pyï¼š python hello.pyï¼Œåˆ™è¾“å‡º 12This is main of module &quot;hello.py&quot;hello å¯ä»¥ç†è§£ä¸º&quot;if __name__==&quot;__main__&quot;:&quot;è¿™ä¸€å¥ä¸Žcä¸­çš„main()å‡½æ•°æ‰€è¡¨è¿°çš„æ˜¯ä¸€è‡´çš„ï¼Œå³ä½œä¸ºå…¥å£ï¼› 2ã€å½“è¯¥moduleè¢«å…¶å®ƒmodule å¼•å…¥ä½¿ç”¨æ—¶ï¼Œå…¶ä¸­çš„&quot;if __name__==&quot;__main__&quot;:&quot; æ‰€è¡¨ç¤ºçš„Blockä¸ä¼šè¢«æ‰§è¡Œ, è¿™æ˜¯å› ä¸ºæ­¤æ—¶moduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œ å…¶__name__çš„å€¼å°†å‘ç”Ÿå˜åŒ–ï¼Œ__name__çš„å€¼å°†ä¼šæ˜¯moduleçš„åå­—ã€‚ æ¯”å¦‚åœ¨python shellä¸­import helloåŽï¼ŒæŸ¥çœ‹hello.__name__ï¼š 123import hellohello.__name__&apos;hello&apos; 3ã€å› æ­¤ï¼Œåœ¨pythonä¸­ï¼Œå½“ä¸€ä¸ªmoduleä½œä¸ºæ•´ä½“è¢«æ‰§è¡Œæ—¶,moduel.nameçš„å€¼å°†æ˜¯&quot;__main__&quot;ï¼› è€Œå½“ä¸€ä¸ªmoduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œmodule.__name__å°†æ˜¯moduleè‡ªå·±çš„åå­—ï¼Œ å½“ç„¶ä¸€ä¸ªmoduleè¢«å…¶å®ƒmoduleå¼•ç”¨æ—¶ï¼Œå…¶æœ¬èº«å¹¶ä¸éœ€è¦ä¸€ä¸ªå¯æ‰§è¡Œçš„å…¥å£mainäº†ã€‚]]></content>
      <categories>
        <category>è„šæœ¬</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[newå’Œdeleteä¸ºä»€ä¹ˆè¦é…å¯¹ç”¨]]></title>
    <url>%2F2015%2F01%2F22%2Fnew%E5%92%8Cdelete%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%85%8D%E5%AF%B9%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åœ¨ C&#43;&#43; ä¸­ï¼Œä½ ä¹Ÿè®¸ç»å¸¸ä½¿ç”¨ new å’Œ delete æ¥åŠ¨æ€ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ï¼Œä½†ä½ å¯æ›¾æƒ³è¿‡ä»¥ä¸‹é—®é¢˜å‘¢ï¼Ÿnew å’Œ delete æ˜¯å‡½æ•°å—ï¼Ÿnew [] å’Œ delete [] åˆæ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å®ƒä»¬ï¼Ÿä½ çŸ¥é“ operator new å’Œ operator delete å—ï¼Ÿä¸ºä»€ä¹ˆ new [] å‡ºæ¥çš„æ•°ç»„æœ‰æ—¶å¯ä»¥ç”¨ delete é‡Šæ”¾æœ‰æ—¶åˆä¸è¡Œï¼Ÿâ€¦å¦‚æžœä½ å¯¹è¿™äº›é—®é¢˜éƒ½æœ‰ç–‘é—®çš„è¯ï¼Œä¸å¦¨çœ‹çœ‹æˆ‘è¿™ç¯‡æ–‡ç« ã€‚ new å’Œ delete åˆ°åº•æ˜¯ä»€ä¹ˆå¦‚æžœæ‰¾å·¥ä½œçš„åŒå­¦çœ‹ä¸€äº›é¢è¯•çš„ä¹¦ï¼Œæˆ‘ç›¸ä¿¡éƒ½ä¼šé‡åˆ°è¿™æ ·çš„é¢˜ï¼šsizeof ä¸æ˜¯å‡½æ•°ï¼Œç„¶åŽä¸¾å‡ºä¸€å †çš„ç†ç”±æ¥è¯æ˜Ž sizeof ä¸æ˜¯å‡½æ•°ã€‚åœ¨è¿™é‡Œï¼Œå’Œ sizeof ç±»&#20284;ï¼Œnew å’Œ delete ä¹Ÿä¸æ˜¯å‡½æ•°ï¼Œå®ƒä»¬éƒ½æ˜¯ C&#43;&#43; å®šä¹‰çš„å…³é”®å­—ï¼Œé€šè¿‡ç‰¹å®šçš„è¯­æ³•å¯ä»¥ç»„æˆè¡¨è¾¾å¼ã€‚å’Œ sizeof ä¸åŒçš„æ˜¯ï¼Œsizeof åœ¨ç¼–è¯‘æ—¶å€™å°±å¯ä»¥ç¡®å®šå…¶è¿”å›ž&#20540;ï¼Œnew å’Œ delete èƒŒåŽçš„æœºåˆ¶åˆ™æ¯”è¾ƒå¤æ‚ã€‚ç»§ç»­å¾€ä¸‹ä¹‹å‰ï¼Œè¯·ä½ æƒ³æƒ³ä½ è®¤ä¸º new åº”è¯¥è¦åšäº›ä»€ä¹ˆï¼Ÿä¹Ÿè®¸ä½ ç¬¬ä¸€ååº”æ˜¯ï¼Œnew ä¸å°±å’Œ C è¯­è¨€ä¸­çš„ malloc å‡½æ•°ä¸€æ ·å˜›ï¼Œå°±ç”¨æ¥åŠ¨æ€ç”³è¯·ç©ºé—´çš„ã€‚ä½ ç­”å¯¹äº†ä¸€åŠï¼Œçœ‹çœ‹ä¸‹é¢è¯­å¥ï¼šstring *ps = new string(&quot;hello world&quot;);ä½ å°±å¯ä»¥çœ‹å‡º new å’Œ malloc è¿˜æ˜¯æœ‰ç‚¹ä¸åŒçš„ï¼Œmalloc ç”³è¯·å®Œç©ºé—´ä¹‹åŽä¸ä¼šå¯¹å†…å­˜è¿›è¡Œå¿…è¦çš„åˆå§‹åŒ–ï¼Œè€Œ new å¯ä»¥ã€‚æ‰€ä»¥&nbsp;new&nbsp;expression&nbsp;èƒŒåŽè¦åšçš„äº‹æƒ…ä¸æ˜¯ä½ æƒ³è±¡çš„é‚£ä¹ˆç®€å•ã€‚åœ¨æˆ‘ç”¨å®žä¾‹æ¥è§£é‡Š new èƒŒåŽçš„æœºåˆ¶ä¹‹å‰ï¼Œä½ éœ€è¦çŸ¥é“&nbsp;operator new&nbsp;å’Œ&nbsp;operator delete&nbsp;æ˜¯ä»€ä¹ˆçŽ©æ„ã€‚ operator new å’Œ operator deleteè¿™ä¸¤ä¸ªå…¶å®žæ˜¯ C&#43;&#43; è¯­è¨€æ ‡å‡†åº“çš„åº“å‡½æ•°ï¼ŒåŽŸåž‹åˆ†åˆ«å¦‚ä¸‹ï¼švoid operator new(size_t); //allocate an objectvoid operator delete(void ); //free an objectvoid operator new; font-weight:boldâ€&gt;size_t); //allocate an arrayvoid operator delete; font-weight:boldâ€&gt;void ); //free an arrayåŽé¢ä¸¤ä¸ªä½ å¯ä»¥å…ˆä¸çœ‹ï¼ŒåŽé¢å†ä»‹ç»ã€‚å‰é¢ä¸¤ä¸ªå‡æ˜¯ C&#43;&#43; æ ‡å‡†åº“å‡½æ•°ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—è¿™æ˜¯å‡½æ•°å—ï¼Ÿè¯·ä¸è¦æ€€ç–‘ï¼Œè¿™å°±æ˜¯å‡½æ•°ï¼C&#43;&#43; Primer&nbsp;ä¸€ä¹¦ä¸Šè¯´è¿™ä¸æ˜¯é‡è½½ new å’Œ delete è¡¨è¾¾å¼ï¼ˆå¦‚&nbsp;operator=&nbsp;å°±æ˜¯é‡è½½&nbsp;=&nbsp;æ“ä½œç¬¦ï¼‰ï¼Œå› ä¸º new å’Œ delete æ˜¯ä¸å…è®¸é‡è½½çš„ã€‚ä½†æˆ‘è¿˜æ²¡æžæ¸…æ¥šä¸ºä»€ä¹ˆè¦ç”¨ operator new å’Œ operator delete æ¥å‘½åï¼Œæ¯”è¾ƒè´¹è§£ã€‚æˆ‘ä»¬åªè¦çŸ¥é“å®ƒä»¬çš„æ„æ€å°±å¯ä»¥äº†ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å’Œ C è¯­è¨€ä¸­çš„ malloc å’Œ free å‡½æ•°æœ‰ç‚¹åƒäº†ï¼Œéƒ½æ˜¯ç”¨æ¥ç”³è¯·å’Œé‡Šæ”¾å†…å­˜çš„ï¼Œå¹¶ä¸” operator new ç”³è¯·å†…å­˜ä¹‹åŽä¸å¯¹å†…å­˜è¿›è¡Œåˆå§‹åŒ–ï¼Œç›´æŽ¥è¿”å›žç”³è¯·å†…å­˜çš„æŒ‡é’ˆã€‚æˆ‘ä»¬å¯ä»¥ç›´æŽ¥åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ä½¿ç”¨è¿™å‡ ä¸ªå‡½æ•°ã€‚ new å’Œ delete èƒŒåŽæœºåˆ¶çŸ¥é“ä¸Šé¢ä¸¤ä¸ªå‡½æ•°ä¹‹åŽï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå®žä¾‹æ¥è§£é‡Š new å’Œ delete èƒŒåŽçš„æœºåˆ¶ï¼šæˆ‘ä»¬ä¸ç”¨ç®€å•çš„ C&#43;&#43; å†…ç½®ç±»åž‹æ¥ä¸¾ä¾‹ï¼Œä½¿ç”¨å¤æ‚ä¸€ç‚¹çš„ç±»ç±»åž‹ï¼Œå®šä¹‰ä¸€ä¸ªç±» Aï¼šclass A{public: A(int v) : var(v) { fopen_s(&amp;file, &quot;test&quot;, &quot;r&quot;); } ~A() { fclose(file); }private: int var; FILE file;};å¾ˆç®€å•ï¼Œç±» A ä¸­æœ‰ä¸¤ä¸ªç§æœ‰æˆå‘˜ï¼Œæœ‰ä¸€ä¸ªæž„é€ å‡½æ•°å’Œä¸€ä¸ªæžæž„å‡½æ•°ï¼Œæž„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ç§æœ‰å˜é‡ var ä»¥åŠæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæžæž„å‡½æ•°å…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€‚æˆ‘ä»¬ä½¿ç”¨class pA = new A(10);æ¥åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œè¿”å›žå…¶æŒ‡é’ˆ pAã€‚å¦‚ä¸‹å›¾æ‰€ç¤º new èƒŒåŽå®Œæˆçš„å·¥ä½œï¼šç®€å•æ€»ç»“ä¸€ä¸‹ï¼šé¦–å…ˆéœ€è¦è°ƒç”¨ä¸Šé¢æåˆ°çš„ operator new æ ‡å‡†åº“å‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°ä¸º class A çš„å¤§å°ï¼Œè¿™é‡Œä¸º 8 ä¸ªå­—èŠ‚ï¼Œè‡³äºŽä¸ºä»€ä¹ˆæ˜¯ 8 ä¸ªå­—èŠ‚ï¼Œä½ å¯ä»¥çœ‹çœ‹ã€Šæ·±å…¥ C&#43;&#43; å¯¹è±¡æ¨¡åž‹ã€‹ä¸€ä¹¦ï¼Œè¿™é‡Œä¸åšå¤šè§£é‡Šã€‚è¿™æ ·å‡½æ•°è¿”å›žçš„æ˜¯åˆ†é…å†…å­˜çš„èµ·å§‹åœ°å€ï¼Œè¿™é‡Œå‡è®¾æ˜¯ 0x007da290ã€‚ä¸Šé¢åˆ†é…çš„å†…å­˜æ˜¯æœªåˆå§‹åŒ–çš„ï¼Œä¹Ÿæ˜¯æœªç±»åž‹åŒ–çš„ï¼Œç¬¬äºŒæ­¥å°±åœ¨è¿™ä¸€å—åŽŸå§‹çš„å†…å­˜ä¸Šå¯¹ç±»å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œè°ƒç”¨çš„æ˜¯ç›¸åº”çš„æž„é€ å‡½æ•°ï¼Œè¿™é‡Œæ˜¯è°ƒç”¨&nbsp;A:A(10);&nbsp;è¿™ä¸ªå‡½æ•°ï¼Œä»Žå›¾ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°å¯¹è¿™å—ç”³è¯·çš„å†…å­˜è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œvar=10, file æŒ‡å‘æ‰“å¼€çš„æ–‡ä»¶ã€‚æœ€åŽä¸€æ­¥å°±æ˜¯è¿”å›žæ–°åˆ†é…å¹¶æž„é€ å¥½çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¿™é‡Œ pA å°±æŒ‡å‘ 0x007da290 è¿™å—å†…å­˜ï¼ŒpA çš„ç±»åž‹ä¸ºç±» A å¯¹è±¡çš„æŒ‡é’ˆã€‚æ‰€æœ‰è¿™ä¸‰æ­¥ï¼Œä½ éƒ½å¯ä»¥é€šè¿‡åæ±‡ç¼–æ‰¾åˆ°ç›¸åº”çš„æ±‡ç¼–ä»£ç ï¼Œåœ¨è¿™é‡Œæˆ‘å°±ä¸åˆ—å‡ºäº†ã€‚å¥½äº†ï¼Œé‚£ä¹ˆ delete éƒ½å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿè¿˜æ˜¯æŽ¥ç€ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æžœè¿™æ—¶æƒ³é‡Šæ”¾æŽ‰ç”³è¯·çš„ç±»çš„å¯¹è±¡æ€Žä¹ˆåŠžï¼Ÿå½“ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥æ¥å®Œæˆï¼šdelete pA;delete æ‰€åšçš„äº‹æƒ…å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šdelete å°±åšäº†ä¸¤ä»¶äº‹æƒ…ï¼šè°ƒç”¨ pA æŒ‡å‘å¯¹è±¡çš„æžæž„å‡½æ•°ï¼Œå¯¹æ‰“å¼€çš„æ–‡ä»¶è¿›è¡Œå…³é—­ã€‚é€šè¿‡ä¸Šé¢æåˆ°çš„æ ‡å‡†åº“å‡½æ•° operator delete æ¥é‡Šæ”¾è¯¥å¯¹è±¡çš„å†…å­˜ï¼Œä¼ å…¥å‡½æ•°çš„å‚æ•°ä¸º pA çš„&#20540;ï¼Œä¹Ÿå°±æ˜¯ 0x007d290ã€‚å¥½äº†ï¼Œè§£é‡Šå®Œäº† new å’Œ delete èƒŒåŽæ‰€åšçš„äº‹æƒ…äº†ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ä¹Ÿå¾ˆç®€å•ï¼Ÿä¸å°±å¤šäº†ä¸€ä¸ªæž„é€ å‡½æ•°å’Œæžæž„å‡½æ•°çš„è°ƒç”¨å˜›ã€‚ å¦‚ä½•ç”³è¯·å’Œé‡Šæ”¾ä¸€ä¸ªæ•°ç»„ï¼Ÿæˆ‘ä»¬ç»å¸¸è¦ç”¨åˆ°åŠ¨æ€åˆ†é…ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿè®¸æ˜¯è¿™æ ·çš„ï¼šstring psa = new string[10]; //array of 10 empty stringsint pia = new int[10]; //array of 10 uninitialized intsä¸Šé¢åœ¨ç”³è¯·ä¸€ä¸ªæ•°ç»„æ—¶éƒ½ç”¨åˆ°äº†&nbsp;new []&nbsp;è¿™ä¸ªè¡¨è¾¾å¼æ¥å®Œæˆï¼ŒæŒ‰ç…§æˆ‘ä»¬ä¸Šé¢è®²åˆ°çš„ new å’Œ delete çŸ¥è¯†ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„æ˜¯ string ç±»åž‹ï¼Œåˆ†é…äº†ä¿å­˜å¯¹è±¡çš„å†…å­˜ç©ºé—´ä¹‹åŽï¼Œå°†è°ƒç”¨ string ç±»åž‹çš„é»˜è®¤æž„é€ å‡½æ•°ä¾æ¬¡åˆå§‹åŒ–æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ï¼›ç¬¬äºŒä¸ªæ˜¯ç”³è¯·å…·æœ‰å†…ç½®ç±»åž‹çš„æ•°ç»„ï¼Œåˆ†é…äº†å­˜å‚¨ 10 ä¸ª int å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œä½†å¹¶æ²¡æœ‰åˆå§‹åŒ–ã€‚å¦‚æžœæˆ‘ä»¬æƒ³é‡Šæ”¾ç©ºé—´äº†ï¼Œå¯ä»¥ç”¨ä¸‹é¢ä¸¤æ¡è¯­å¥ï¼šdelete [] psa;delete [] pia;éƒ½ç”¨åˆ°&nbsp;delete []&nbsp;è¡¨è¾¾å¼ï¼Œæ³¨æ„è¿™åœ°æ–¹çš„ [] ä¸€èˆ¬æƒ…å†µä¸‹ä¸èƒ½æ¼æŽ‰ï¼æˆ‘ä»¬ä¹Ÿå¯ä»¥æƒ³è±¡è¿™ä¸¤ä¸ªè¯­å¥åˆ†åˆ«å¹²äº†ä»€ä¹ˆï¼šç¬¬ä¸€ä¸ªå¯¹ 10 ä¸ª string å¯¹è±¡åˆ†åˆ«è°ƒç”¨æžæž„å‡½æ•°ï¼Œç„¶åŽå†é‡Šæ”¾æŽ‰ä¸ºå¯¹è±¡åˆ†é…çš„æ‰€æœ‰å†…å­˜ç©ºé—´ï¼›ç¬¬äºŒä¸ªå› ä¸ºæ˜¯å†…ç½®ç±»åž‹ä¸å­˜åœ¨æžæž„å‡½æ•°ï¼Œç›´æŽ¥é‡Šæ”¾ä¸º 10 ä¸ª int åž‹åˆ†é…çš„æ‰€æœ‰å†…å­˜ç©ºé—´ã€‚è¿™é‡Œå¯¹äºŽç¬¬ä¸€ç§æƒ…å†µå°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼šæˆ‘ä»¬å¦‚ä½•çŸ¥é“ psa æŒ‡å‘å¯¹è±¡çš„æ•°ç»„çš„å¤§å°ï¼Ÿæ€Žä¹ˆçŸ¥é“è°ƒç”¨å‡ æ¬¡æžæž„å‡½æ•°ï¼Ÿè¿™ä¸ªé—®é¢˜ç›´æŽ¥å¯¼è‡´æˆ‘ä»¬éœ€è¦åœ¨ new [] ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ—¶ï¼Œéœ€è¦ä¿å­˜æ•°ç»„çš„ç»´åº¦ï¼ŒC&#43;&#43; çš„åšæ³•æ˜¯åœ¨åˆ†é…æ•°ç»„ç©ºé—´æ—¶å¤šåˆ†é…äº† 4 ä¸ªå­—èŠ‚çš„å¤§å°ï¼Œä¸“é—¨ä¿å­˜æ•°ç»„çš„å¤§å°ï¼Œåœ¨ delete [] æ—¶å°±å¯ä»¥å–å‡ºè¿™ä¸ªä¿å­˜çš„æ•°ï¼Œå°±çŸ¥é“äº†éœ€è¦è°ƒç”¨æžæž„å‡½æ•°å¤šå°‘æ¬¡äº†ã€‚è¿˜æ˜¯ç”¨å›¾æ¥è¯´æ˜Žæ¯”è¾ƒæ¸…æ¥šï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±» Aï¼Œä½†ä¸å…·ä½“æè¿°ç±»çš„å†…å®¹ï¼Œè¿™ä¸ªç±»ä¸­æœ‰æ˜¾ç¤ºçš„æž„é€ å‡½æ•°ã€æžæž„å‡½æ•°ç­‰ã€‚é‚£ä¹ˆ å½“æˆ‘ä»¬è°ƒç”¨class A *pAa = new A[3];æ—¶éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼šä»Žè¿™ä¸ªå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç”³è¯·æ—¶åœ¨æ•°ç»„å¯¹è±¡çš„ä¸Šé¢è¿˜å¤šåˆ†é…äº† 4 ä¸ªå­—èŠ‚ç”¨æ¥ä¿å­˜æ•°ç»„çš„å¤§å°ï¼Œä½†æ˜¯æœ€ç»ˆè¿”å›žçš„æ˜¯å¯¹è±¡æ•°ç»„çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯æ‰€æœ‰åˆ†é…ç©ºé—´çš„èµ·å§‹åœ°å€ã€‚è¿™æ ·çš„è¯ï¼Œé‡Šæ”¾å°±å¾ˆç®€å•äº†ï¼šdelete [] pAa;è¿™é‡Œè¦æ³¨æ„çš„ä¸¤ç‚¹æ˜¯ï¼šè°ƒç”¨æžæž„å‡½æ•°çš„æ¬¡æ•°æ˜¯ä»Žæ•°ç»„å¯¹è±¡æŒ‡é’ˆå‰é¢çš„ 4 ä¸ªå­—èŠ‚ä¸­å–å‡ºï¼›ä¼ å…¥&nbsp;operator delete[]&nbsp;å‡½æ•°çš„å‚æ•°ä¸æ˜¯æ•°ç»„å¯¹è±¡çš„æŒ‡é’ˆ pAaï¼Œè€Œæ˜¯ pAa çš„&#20540;å‡ 4ã€‚ ä¸ºä»€ä¹ˆ new/delete ã€new []/delete[] è¦é…å¯¹ä½¿ç”¨ï¼Ÿå…¶å®žè¯´äº†è¿™ä¹ˆå¤šï¼Œè¿˜æ²¡åˆ°æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æœ€åŽŸå§‹æ„å›¾ã€‚ä»Žä¸Šé¢è§£é‡Šçš„ä½ åº”è¯¥æ‡‚äº† new/deleteã€new[]/delete[] çš„å·¥ä½œåŽŸç†äº†ï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´æœ‰å·®åˆ«ï¼Œæ‰€ä»¥éœ€è¦é…å¯¹ä½¿ç”¨ã€‚ä½†ååé—®é¢˜ä¸æ˜¯è¿™ä¹ˆç®€å•ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é‡åˆ°çš„é—®é¢˜ï¼Œå¦‚ä¸‹è¿™æ®µä»£ç ï¼šint pia = new int[10];delete []pia;è¿™è‚¯å®šæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†å¦‚æžœæŠŠ&nbsp;delete []pia;&nbsp;æ¢æˆ&nbsp;delete pia;&nbsp;çš„è¯ï¼Œä¼šå‡ºé—®é¢˜å—ï¼Ÿè¿™å°±æ¶‰åŠåˆ°ä¸Šé¢ä¸€èŠ‚æ²¡æåˆ°çš„é—®é¢˜äº†ã€‚ä¸Šé¢æˆ‘æåˆ°äº†åœ¨&nbsp;new []&nbsp;æ—¶å¤šåˆ†é… 4 ä¸ªå­—èŠ‚çš„ç¼˜ç”±ï¼Œå› ä¸ºæžæž„æ—¶éœ€è¦çŸ¥é“æ•°ç»„çš„å¤§å°ï¼Œä½†å¦‚æžœä¸è°ƒç”¨æžæž„å‡½æ•°å‘¢ï¼ˆå¦‚å†…ç½®ç±»åž‹ï¼Œè¿™é‡Œçš„ int æ•°ç»„ï¼‰ï¼Ÿæˆ‘ä»¬åœ¨&nbsp;new []&nbsp;æ—¶å°±æ²¡å¿…è¦å¤šåˆ†é…é‚£ 4 ä¸ªå­—èŠ‚ï¼Œ delete [] æ—¶ç›´æŽ¥åˆ°ç¬¬äºŒæ­¥é‡Šæ”¾ä¸º int æ•°ç»„åˆ†é…çš„ç©ºé—´ã€‚å¦‚æžœè¿™é‡Œä½¿ç”¨&nbsp;delete pia;é‚£ä¹ˆå°†ä¼šè°ƒç”¨&nbsp;operator delete&nbsp;å‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯åˆ†é…ç»™æ•°ç»„çš„èµ·å§‹åœ°å€ï¼Œæ‰€åšçš„äº‹æƒ…å°±æ˜¯é‡Šæ”¾æŽ‰è¿™å—å†…å­˜ç©ºé—´ã€‚ä¸å­˜åœ¨é—®é¢˜çš„ã€‚è¿™é‡Œè¯´çš„ä½¿ç”¨&nbsp;new []&nbsp;ç”¨ delete æ¥é‡Šæ”¾å¯¹è±¡çš„æå‰æ˜¯ï¼šå¯¹è±¡çš„ç±»åž‹æ˜¯å†…ç½®ç±»åž‹æˆ–è€…æ˜¯æ— è‡ªå®šä¹‰çš„æžæž„å‡½æ•°çš„ç±»ç±»åž‹ï¼æˆ‘ä»¬çœ‹çœ‹å¦‚æžœæ˜¯å¸¦æœ‰è‡ªå®šä¹‰æžæž„å‡½æ•°çš„ç±»ç±»åž‹ï¼Œç”¨&nbsp;new []&nbsp;æ¥åˆ›å»ºç±»å¯¹è±¡æ•°ç»„ï¼Œè€Œç”¨ delete æ¥é‡Šæ”¾ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿç”¨ä¸Šé¢çš„ä¾‹å­æ¥è¯´æ˜Žï¼šclass A pAa = new class A[3];delete pAa;é‚£ä¹ˆ&nbsp;delete pAa;&nbsp;åšäº†ä¸¤ä»¶äº‹ï¼šè°ƒç”¨ä¸€æ¬¡ pAa æŒ‡å‘çš„å¯¹è±¡çš„æžæž„å‡½æ•°ï¼›è°ƒç”¨&nbsp;operator delete(pAa);&nbsp;é‡Šæ”¾å†…å­˜ã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œåªå¯¹æ•°ç»„çš„ç¬¬ä¸€ä¸ªç±»å¯¹è±¡è°ƒç”¨äº†æžæž„å‡½æ•°ï¼ŒåŽé¢çš„ä¸¤ä¸ªå¯¹è±¡å‡æ²¡è°ƒç”¨æžæž„å‡½æ•°ï¼Œå¦‚æžœç±»å¯¹è±¡ä¸­ç”³è¯·äº†å¤§é‡çš„å†…å­˜éœ€è¦åœ¨æžæž„å‡½æ•°ä¸­é‡Šæ”¾ï¼Œè€Œä½ å´åœ¨é”€æ¯æ•°ç»„å¯¹è±¡æ—¶å°‘è°ƒç”¨äº†æžæž„å‡½æ•°ï¼Œè¿™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚ä¸Šé¢çš„é—®é¢˜ä½ å¦‚æžœè¯´æ²¡å…³ç³»çš„è¯ï¼Œé‚£ä¹ˆç¬¬äºŒç‚¹å°±æ˜¯è‡´å‘½çš„äº†ï¼ç›´æŽ¥é‡Šæ”¾ pAa æŒ‡å‘çš„å†…å­˜ç©ºé—´ï¼Œè¿™ä¸ªæ€»æ˜¯ä¼šé€ æˆä¸¥é‡çš„æ®µé”™è¯¯ï¼Œç¨‹åºå¿…ç„¶ä¼šå¥”æºƒï¼å› ä¸ºåˆ†é…çš„ç©ºé—´çš„èµ·å§‹åœ°å€æ˜¯ pAa æŒ‡å‘çš„åœ°æ–¹å‡åŽ» 4 ä¸ªå­—èŠ‚çš„åœ°æ–¹ã€‚ä½ åº”è¯¥ä¼ å…¥å‚æ•°è®¾ä¸ºé‚£ä¸ªåœ°å€ï¼åŒç†ï¼Œä½ å¯ä»¥åˆ†æžå¦‚æžœä½¿ç”¨ new æ¥åˆ†é…ï¼Œç”¨&nbsp;delete []&nbsp;æ¥é‡Šæ”¾ä¼šå‡ºçŽ°ä»€ä¹ˆé—®é¢˜ï¼Ÿæ˜¯ä¸æ˜¯æ€»ä¼šå¯¼è‡´ç¨‹åºé”™è¯¯ï¼Ÿæ€»çš„æ¥è¯´ï¼Œè®°ä½ä¸€ç‚¹å³å¯ï¼šnew/deleteã€new[]/delete[] è¦é…å¥—ä½¿ç”¨æ€»æ˜¯æ²¡é”™çš„ï¼]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>new</tag>
        <tag>delete</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-å››]]></title>
    <url>%2F2015%2F01%2F10%2F%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%A6%81%E7%AC%94%E8%AE%B0-%E5%9B%9B%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡å®žè·µåŸºæœ¬çš„ç†è®ºå’Œç­–ç•¥ç®€å•ä»‹ç»è¿™ä¹ˆå¤šï¼ŒåŽé¢æœ¬äººä¼šä»Žå·¥ç¨‹çš„è§’åº¦ï¼Œç»†åŒ–è¯´ä¸€ä¸‹â€æ•°æ®åˆ†å¸ƒâ€œã€â€å‰¯æœ¬æŽ§åˆ¶â€å’Œâ€é«˜å¯ç”¨åè®®â€ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ— è®ºæ˜¯è®¡ç®—è¿˜æ˜¯å­˜å‚¨ï¼Œå¤„ç†çš„å¯¹è±¡éƒ½æ˜¯æ•°æ®ï¼Œæ•°æ®ä¸å­˜åœ¨äºŽä¸€å°æœºå™¨æˆ–è¿›ç¨‹ä¸­ï¼Œ è¿™å°±ç‰µæ‰¯åˆ°å¦‚ä½•å¤šæœºå‡åŒ€åˆ†å‘æ•°æ®çš„é—®é¢˜ï¼Œæ­¤å°ç»“ä¸»è¦è®¨è®ºâ€å“ˆå¸Œå–æ¨¡â€ï¼Œâ€ä¸€è‡´æ€§å“ˆå¸Œâ€œï¼Œâ€èŒƒå›´è¡¨åˆ’åˆ†â€œï¼Œâ€æ•°æ®å—åˆ’åˆ†â€œ å“ˆå¸Œå–æ¨¡ï¼šå“ˆå¸Œæ–¹å¼æ˜¯æœ€å¸¸è§çš„æ•°æ®åˆ†å¸ƒæ–¹å¼ï¼Œå®žçŽ°æ–¹å¼æ˜¯é€šè¿‡å¯ä»¥æè¿°è®°å½•çš„ä¸šåŠ¡çš„idæˆ–key(æ¯”å¦‚ç”¨æˆ· id)ï¼Œ é€šè¿‡Hashå‡½æ•°çš„è®¡ç®—æ±‚ä½™ã€‚ ä½™æ•°ä½œä¸ºå¤„ç†è¯¥æ•°æ®çš„æœåŠ¡å™¨ç´¢å¼•ç¼–å·å¤„ç†ã€‚ å¦‚å›¾ï¼š è¿™æ ·çš„å¥½å¤„æ˜¯åªéœ€è¦é€šè¿‡è®¡ç®—å°±å¯ä»¥æ˜ å°„å‡ºæ•°æ®å’Œå¤„ç†èŠ‚ç‚¹çš„å…³ç³»ï¼Œä¸éœ€è¦å­˜å‚¨æ˜ å°„ã€‚ éš¾ç‚¹å°±æ˜¯å¦‚æžœidåˆ†å¸ƒä¸å‡åŒ€å¯èƒ½å‡ºçŽ°è®¡ç®—ã€å­˜å‚¨å€¾æ–œçš„é—®é¢˜ï¼Œåœ¨æŸä¸ªèŠ‚ç‚¹ä¸Šåˆ†å¸ƒè¿‡é‡ã€‚ å¹¶ä¸”å½“å¤„ç†èŠ‚ç‚¹å®•æœºæ—¶ï¼Œè¿™ç§â€ç¡¬å“ˆå¸Œâ€œçš„æ–¹å¼ä¼šç›´æŽ¥å¯¼è‡´éƒ¨åˆ†æ•°æ®å¼‚å¸¸ï¼Œè¿˜æœ‰æ‰©å®¹éžå¸¸å›°éš¾ï¼ŒåŽŸæ¥çš„æ˜ å°„å…³ç³»å…¨éƒ¨å‘ç”Ÿå˜æ›´ã€‚ æ­¤å¤„ï¼Œå¦‚æžœæ˜¯â€æ— çŠ¶æ€â€œåž‹çš„èŠ‚ç‚¹ï¼Œå½±å“æ¯”è¾ƒå°ï¼Œä½†é‡åˆ°â€æœ‰çŠ¶æ€â€œçš„å­˜å‚¨èŠ‚ç‚¹æ—¶ï¼Œä¼šå‘ç”Ÿå¤§é‡æ•°æ®ä½ç½®éœ€è¦å˜æ›´ï¼Œå‘ç”Ÿå¤§é‡æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚ è¿™ä¸ªé—®é¢˜åœ¨å®žé™…ç”Ÿäº§ä¸­ï¼Œå¯ä»¥é€šè¿‡æŒ‰2çš„å¹‚çš„æœºå™¨æ•°ï¼Œæˆå€æ‰©å®¹çš„æ–¹å¼æ¥ç¼“è§£ï¼Œå¦‚å›¾ï¼š ä¸è¿‡æ‰©å®¹çš„æ•°é‡å’Œæ–¹å¼åŽæ”¶åˆ°å¾ˆå¤§é™åˆ¶ã€‚ ä¸‹é¢ä»‹ç»ä¸€ç§â€è‡ªé€‚åº”â€œçš„æ–¹å¼è§£å†³æ‰©å®¹å’Œå®¹ç¾çš„é—®é¢˜ã€‚ ä¸€è‡´æ€§å“ˆå¸Œï¼šä¸€è‡´æ€§å“ˆå¸Œ â€“ Consistent Hash æ˜¯ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—æ•°æ®æˆ–æ•°æ®ç‰¹å¾çš„å“ˆå¸Œå€¼ï¼Œä»¤è¯¥å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå€¼åŸŸä¸ºä¸€ä¸ªå°é—­çš„çŽ¯ï¼Œæœ€å¤§å€¼+1=æœ€å°å€¼ã€‚ å°†èŠ‚ç‚¹éšæœºåˆ†å¸ƒåˆ°è¿™ä¸ªçŽ¯ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»Žè‡ªå·±å¼€å§‹é¡ºæ—¶é’ˆè‡³ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å…¨éƒ¨å“ˆå¸Œå€¼åŸŸä¸Šçš„æ•°æ®ï¼Œå¦‚å›¾ï¼š ä¸€è‡´æ€§å“ˆå¸Œçš„ä¼˜ç‚¹åœ¨äºŽå¯ä»¥ä»»æ„åŠ¨æ€æ·»åŠ ã€åˆ é™¤èŠ‚ç‚¹ï¼Œæ¯æ¬¡æ·»åŠ ã€åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ä»…å½±å“ä¸€è‡´æ€§å“ˆå¸ŒçŽ¯ä¸Šç›¸é‚»çš„èŠ‚ç‚¹ã€‚ ä¸ºäº†å°½å¯èƒ½å‡åŒ€çš„åˆ†å¸ƒèŠ‚ç‚¹å’Œæ•°æ®ï¼Œä¸€ç§å¸¸è§çš„æ”¹è¿›ç®—æ³•æ˜¯å¼•å…¥è™šèŠ‚ç‚¹çš„æ¦‚å¿µï¼Œç³»ç»Ÿä¼šåˆ›å»ºè®¸å¤šè™šæ‹ŸèŠ‚ç‚¹ï¼Œä¸ªæ•°è¿œå¤§äºŽå½“å‰èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå‡åŒ€åˆ†å¸ƒåˆ°ä¸€è‡´æ€§å“ˆå¸Œå€¼åŸŸçŽ¯ä¸Šã€‚ è¯»å†™æ•°æ®æ—¶ï¼Œé¦–å…ˆé€šè¿‡æ•°æ®çš„å“ˆå¸Œå€¼åœ¨çŽ¯ä¸Šæ‰¾åˆ°å¯¹åº”çš„è™šèŠ‚ç‚¹ï¼Œç„¶åŽæŸ¥æ‰¾åˆ°å¯¹åº”çš„realèŠ‚ç‚¹ã€‚ è¿™æ ·åœ¨æ‰©å®¹å’Œå®¹é”™æ—¶ï¼Œå¤§é‡è¯»å†™çš„åŽ‹åŠ›ä¼šå†æ¬¡è¢«å…¶ä»–éƒ¨åˆ†èŠ‚ç‚¹åˆ†æ‘Šï¼Œä¸»è¦è§£å†³äº†åŽ‹åŠ›é›†ä¸­çš„é—®é¢˜ã€‚ å¦‚å›¾ï¼š æ•°æ®èŒƒå›´åˆ’åˆ†ï¼šæœ‰äº›æ—¶å€™ä¸šåŠ¡çš„æ•°æ®idæˆ–keyåˆ†å¸ƒä¸æ˜¯å¾ˆå‡åŒ€ï¼Œå¹¶ä¸”è¯»å†™ä¹Ÿä¼šå‘ˆçŽ°èšé›†çš„æ–¹å¼ã€‚ æ¯”å¦‚æŸäº›idçš„æ•°æ®é‡ç‰¹åˆ«å¤§ï¼Œè¿™æ—¶å€™å¯ä»¥å°†æ•°æ®æŒ‰Groupåˆ’åˆ†ï¼Œä»Žä¸šåŠ¡è§’åº¦åˆ’åˆ†æ¯”å¦‚idä¸º0~10000ï¼Œå·²çŸ¥8000ä»¥ä¸Šçš„idå¯èƒ½è®¿é—®é‡ç‰¹åˆ«å¤§ï¼Œé‚£ä¹ˆåˆ†å¸ƒå¯ä»¥åˆ’åˆ†ä¸º[[0~8000],[8000~9000],[9000~1000]]ã€‚ å°†å°è®¿é—®é‡çš„èšé›†åœ¨ä¸€èµ·ã€‚ è¿™æ ·å¯ä»¥æ ¹æ®çœŸå®žåœºæ™¯æŒ‰éœ€åˆ’åˆ†ï¼Œç¼ºç‚¹æ˜¯ç”±äºŽè¿™äº›ä¿¡æ¯ä¸èƒ½é€šè¿‡è®¡ç®—èŽ·å–ï¼Œéœ€è¦å¼•å…¥ä¸€ä¸ªæ¨¡å—å­˜å‚¨è¿™äº›æ˜ å°„ä¿¡æ¯ã€‚ è¿™å°±å¢žåŠ äº†æ¨¡å—ä¾èµ–ï¼Œå¯èƒ½ä¼šæœ‰æ€§èƒ½å’Œå¯ç”¨æ€§çš„é¢å¤–ä»£ä»·ã€‚ æ•°æ®å—åˆ’åˆ†ï¼šè®¸å¤šæ–‡ä»¶ç³»ç»Ÿç»å¸¸é‡‡ç”¨ç±»ä¼¼è®¾è®¡ï¼Œå°†æ•°æ®æŒ‰å›ºå®šå—å¤§å°(æ¯”å¦‚HDFSçš„64MB)ï¼Œå°†æ•°æ®åˆ†ä¸ºä¸€ä¸ªä¸ªå¤§å°å›ºå®šçš„å—ï¼Œç„¶åŽè¿™äº›å—å‡åŒ€çš„åˆ†å¸ƒåœ¨å„ä¸ªèŠ‚ç‚¹ï¼Œè¿™ç§åšæ³•ä¹Ÿéœ€è¦å¤–éƒ¨èŠ‚ç‚¹æ¥å­˜å‚¨æ˜ å°„å…³ç³»ã€‚ ç”±äºŽä¸Žå…·ä½“çš„æ•°æ®å†…å®¹æ— å…³ï¼ŒæŒ‰æ•°æ®é‡åˆ†å¸ƒæ•°æ®çš„æ–¹å¼ä¸€èˆ¬æ²¡æœ‰æ•°æ®å€¾æ–œçš„é—®é¢˜ï¼Œæ•°æ®æ€»æ˜¯è¢«å‡åŒ€åˆ‡åˆ†å¹¶åˆ†å¸ƒåˆ°é›†ç¾¤ä¸­ã€‚ å½“é›†ç¾¤éœ€è¦é‡æ–°è´Ÿè½½å‡è¡¡æ—¶ï¼Œåªéœ€é€šè¿‡è¿ç§»æ•°æ®å—å³å¯å®Œæˆã€‚ å¦‚å›¾ï¼š]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸‰]]></title>
    <url>%2F2015%2F01%2F07%2F%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%A6%81%E7%AC%94%E8%AE%B0-%E4%B8%89%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ç­–ç•¥é‡è¯•æœºåˆ¶ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†™ä¸€æ®µç½‘ç»œäº¤äº’çš„ä»£ç ï¼Œå‘èµ·rpcæˆ–è€…httpï¼Œéƒ½ä¼šé‡åˆ°è¯·æ±‚è¶…æ—¶è€Œå¤±è´¥æƒ…å†µã€‚ å¯èƒ½æ˜¯ç½‘ç»œæŠ–åŠ¨(æš‚æ—¶çš„ç½‘ç»œå˜æ›´å¯¼è‡´åŒ…ä¸å¯è¾¾ï¼Œæ¯”å¦‚æ‹“æ‰‘å˜æ›´)æˆ–è€…å¯¹ç«¯æŒ‚æŽ‰ã€‚ è¿™æ—¶ä¸€èˆ¬å¤„ç†é€»è¾‘æ˜¯å°†è¯·æ±‚åŒ…åœ¨ä¸€ä¸ªé‡è¯•å¾ªçŽ¯å—é‡Œï¼Œå¦‚ä¸‹ï¼š[cpp] view plain copy print?int retry = 3;while(!request() &amp;&amp; retryâ€“)sched_yield(); // or usleep(100) æ­¤ç§æ¨¡å¼å¯ä»¥é˜²æ­¢ç½‘ç»œæš‚æ—¶çš„æŠ–åŠ¨ï¼Œä¸€èˆ¬åœé¡¿æ—¶é—´å¾ˆçŸ­ï¼Œå¹¶é‡è¯•å¤šæ¬¡åŽï¼Œè¯·æ±‚æˆåŠŸï¼ä½†ä¸èƒ½é˜²æ­¢å¯¹ç«¯é•¿æ—¶é—´ä¸èƒ½è¿žæŽ¥(ç½‘ç»œé—®é¢˜æˆ–è¿›ç¨‹é—®é¢˜) å¿ƒè·³æœºåˆ¶å¿ƒè·³é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥å›ºå®šçš„é¢‘çŽ‡å‘å…¶ä»–èŠ‚ç‚¹æ±‡æŠ¥å½“å‰èŠ‚ç‚¹çŠ¶æ€çš„æ–¹å¼ã€‚ æ”¶åˆ°å¿ƒè·³ï¼Œä¸€èˆ¬å¯ä»¥è®¤ä¸ºä¸€ä¸ªèŠ‚ç‚¹å’ŒçŽ°åœ¨çš„ç½‘ç»œæ‹“æ‰‘æ˜¯è‰¯å¥½çš„ã€‚ å½“ç„¶ï¼Œå¿ƒè·³æ±‡æŠ¥æ—¶ï¼Œä¸€èˆ¬ä¹Ÿä¼šæºå¸¦ä¸€äº›é™„åŠ çš„çŠ¶æ€ã€å…ƒæ•°æ®ä¿¡æ¯ï¼Œä»¥ä¾¿ç®¡ç†ã€‚ å¦‚ä¸‹å›¾ï¼š ä½†å¿ƒè·³ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæ”¶åˆ°å¿ƒè·³å¯ä»¥ç¡®è®¤okï¼Œä½†æ˜¯æ”¶ä¸åˆ°å¿ƒè·³å´ä¸èƒ½ç¡®è®¤èŠ‚ç‚¹ä¸å­˜åœ¨æˆ–è€…æŒ‚æŽ‰äº†ï¼Œå› ä¸ºå¯èƒ½æ˜¯ç½‘ç»œåŽŸå› å€’æ˜¯é“¾è·¯ä¸é€šä½†æ˜¯èŠ‚ç‚¹ä¾æ—§åœ¨å·¥ä½œã€‚ æ‰€ä»¥åˆ‡è®°ï¼Œâ€å¿ƒè·³â€œåªèƒ½å‘Šè¯‰ä½ æ­£å¸¸çš„çŠ¶æ€æ˜¯okï¼Œå®ƒä¸èƒ½å‘çŽ°èŠ‚ç‚¹æ˜¯å¦çœŸçš„æ­»äº¡ï¼Œæœ‰å¯èƒ½è¿˜åœ¨ç»§ç»­æœåŠ¡ã€‚ (åŽé¢ä¼šä»‹ç»ä¸€ç§å¯é çš„æ–¹å¼ â€“ Leaseæœºåˆ¶) å‰¯æœ¬å‰¯æœ¬æŒ‡çš„æ˜¯é’ˆå¯¹ä¸€ä»½æ•°æ®çš„å¤šä»½å†—ä½™æ‹·è´ï¼Œåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸ŠæŒä¹…åŒ–åŒä¸€ä»½æ•°æ®ï¼Œå½“æŸä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ®ä¸¢å¤±æ—¶ï¼Œå¯ä»¥ä»Žå‰¯æœ¬ä¸ŠèŽ·å–æ•°æ®ã€‚ æ•°æ®å‰¯æœ¬æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè§£å†³æ•°æ®ä¸¢å¤±å¼‚å¸¸çš„ä»…æœ‰çš„å”¯ä¸€é€”å¾„ã€‚ å½“ç„¶å¯¹å¤šä»½å‰¯æœ¬çš„å†™å…¥ä¼šå¸¦æ¥ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„é—®é¢˜ï¼Œæ¯”å¦‚è§„å®šå‰¯æœ¬æ•°ä¸º3ï¼ŒåŒæ­¥å†™3ä»½ï¼Œä¼šå¸¦æ¥3æ¬¡IOçš„æ€§èƒ½é—®é¢˜ã€‚ è¿˜æ˜¯åŒæ­¥å†™1ä»½ï¼Œç„¶åŽå¼‚æ­¥å†™2ä»½ï¼Œä¼šå¸¦æ¥ä¸€è‡´æ€§é—®é¢˜ï¼Œæ¯”å¦‚åŽé¢2ä»½æœªå†™æˆåŠŸå…¶ä»–æ¨¡å—å°±åŽ»è¯»äº†(ä¸‹ä¸ªå°ç»“ä¼šè¯¦ç»†è®¨è®ºå¦‚æžœåœ¨å‰¯æœ¬ä¸€è‡´æ€§ä¸­é—´åšå–èˆ)ã€‚ ä¸­å¿ƒåŒ–/æ— ä¸­å¿ƒåŒ–ç³»ç»Ÿæ¨¡åž‹è¿™æ–¹é¢ï¼Œæ— éžå°±æ˜¯ä¸¤ç§ï¼šä¸­å¿ƒèŠ‚ç‚¹ï¼Œä¾‹å¦‚mysqlçš„MSSå•ä¸»åŒä»Žã€MongDB Masterã€HDFS NameNodeã€MapReduce JobTrackerç­‰ï¼Œæœ‰1ä¸ªæˆ–å‡ ä¸ªèŠ‚ç‚¹å……å½“æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒå…ƒæ•°æ®åŠèŠ‚ç‚¹ç®¡ç†å·¥ä½œï¼Œå…¶ä»–èŠ‚ç‚¹éƒ½å’Œä¸­å¿ƒèŠ‚ç‚¹äº¤äº’ã€‚ è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œæ•°æ®å’Œç®¡ç†é«˜åº¦ç»Ÿä¸€é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå®¹æ˜“èšåˆï¼Œå°±åƒé¢†å¯¼è€…ä¸€æ ·ï¼Œå…¶ä»–äººéƒ½æœä»Žå°±å¥½ã€‚ ç®€å•å¯è¡Œã€‚ ä½†æ˜¯ç¼ºç‚¹æ˜¯æ¨¡å—é«˜åº¦é›†ä¸­ï¼Œå®¹æ˜“å½¢æˆæ€§èƒ½ç“¶é¢ˆï¼Œå¹¶ä¸”å¦‚æžœå‡ºçŽ°å¼‚å¸¸ï¼Œå°±åƒç¾¤é¾™æ— é¦–ä¸€æ ·ã€‚ æ— ä¸­å¿ƒåŒ–çš„è®¾è®¡ï¼Œä¾‹å¦‚cassandraã€zookeeperï¼Œç³»ç»Ÿä¸­ä¸å­˜åœ¨ä¸€ä¸ªé¢†å¯¼è€…ï¼ŒèŠ‚ç‚¹å½¼æ­¤é€šä¿¡å¹¶ä¸”å½¼æ­¤åˆä½œå®Œæˆä»»åŠ¡ã€‚ å¥½å¤„åœ¨äºŽå¦‚æžœå‡ºçŽ°å¼‚å¸¸ï¼Œä¸ä¼šå½±å“æ•´ä½“ç³»ç»Ÿï¼Œå±€éƒ¨ä¸å¯ç”¨ã€‚ ç¼ºç‚¹æ˜¯æ¯”è¾ƒåè®®å¤æ‚ï¼Œè€Œä¸”éœ€è¦å„ä¸ªèŠ‚ç‚¹é—´åŒæ­¥ä¿¡æ¯ã€‚]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-äºŒ]]></title>
    <url>%2F2015%2F01%2F05%2F%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%A6%81%E7%AC%94%E8%AE%B0-%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿç‰¹æ€§CAPæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œæœ€è‘—åçš„ç†è®ºï¼Œwikiç™¾ç§‘å¦‚ä¸‹ Consistency(all nodes see the same data at the same time) Availability (a guarantee that every request receives a response about whether it was successful or failed) Partition tolerance (the system continues to operate despite arbitrary message loss or failure of part of the system)(æ‘˜è‡ª ï¼šhttp://en.wikipedia.org/wiki/CAP_theorem) æ—©äº›æ—¶å€™ï¼Œå›½å¤–çš„å¤§ç‰›å·²ç»è¯æ˜Žäº†CAPä¸‰è€…æ˜¯ä¸èƒ½å…¼å¾—ï¼Œå¾ˆå¤šå®žè·µä¹Ÿè¯æ˜Žäº†ã€‚ æœ¬äººå°±ä¸æŒ‘æˆ˜æƒå¨äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±Googleã€‚ æœ¬äººä»¥è‡ªå·±çš„è§‚ç‚¹æ€»ç»“äº†ä¸€ä¸‹ï¼š ä¸€è‡´æ€§å¯ä»¥å‚è€ƒé™ˆçš“çš„åšæ–‡&lt;&lt;åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†&gt;&gt; æè¿°å½“å‰æ‰€æœ‰èŠ‚ç‚¹å­˜å‚¨æ•°æ®çš„ç»Ÿä¸€æ¨¡åž‹ï¼Œåˆ†ä¸ºå¼ºä¸€è‡´æ€§å’Œå¼±ä¸€è‡´æ€§ï¼šå¼ºä¸€è‡´æ€§æè¿°äº†æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®é«˜åº¦ä¸€è‡´ï¼Œæ— è®ºä»Žå“ªä¸ªèŠ‚ç‚¹è¯»å–ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ æ— éœ€æ‹…å¿ƒåŒä¸€æ—¶åˆ»ä¼šèŽ·å¾—ä¸åŒçš„æ•°æ®ã€‚ æ˜¯çº§åˆ«æœ€é«˜çš„ï¼Œå®žçŽ°çš„ä»£ä»·æ¯”è¾ƒé«˜å¦‚å›¾ï¼š å¼±ä¸€è‡´æ€§åˆåˆ†ä¸ºå•è°ƒä¸€è‡´æ€§å’Œæœ€ç»ˆä¸€è‡´æ€§ï¼š 1ã€å•è°ƒä¸€è‡´æ€§å¼ºè°ƒæ•°æ®æ˜¯æŒ‰ç…§æ—¶é—´çš„æ–°æ—§ï¼Œå•è°ƒå‘æœ€æ–°çš„æ•°æ®é è¿‘ï¼Œä¸ä¼šå›žé€€ï¼Œå¦‚ï¼š æ•°æ®å­˜åœ¨ä¸‰ä¸ªç‰ˆæœ¬v1-&gt;v2-&gt;v3ï¼ŒèŽ·å–åªèƒ½å‘v3é è¿‘(å¦‚å–åˆ°çš„æ˜¯v2ï¼Œå°±ä¸å¯èƒ½å†æ¬¡èŽ·å¾—v1) 2ã€æœ€ç»ˆä¸€è‡´æ€§å¼ºè°ƒæ•°æ®ç»è¿‡ä¸€ä¸ªæ—¶é—´çª—å£ä¹‹åŽï¼Œåªè¦å¤šå°è¯•å‡ æ¬¡ï¼Œæœ€ç»ˆçš„çŠ¶æ€æ˜¯ä¸€è‡´çš„ï¼Œæ˜¯æœ€æ–°çš„æ•°æ® å¦‚å›¾ï¼š å¼ºä¸€è‡´æ€§çš„åœºæ™¯ï¼Œå°±å¥½åƒäº¤æ˜“ç³»ç»Ÿï¼Œå­˜å–é’±çš„+/-æ“ä½œå¿…é¡»æ˜¯é©¬ä¸Šä¸€è‡´çš„ï¼Œå¦åˆ™ä¼šä»¤å¾ˆå¤šäººè¯¯è§£ã€‚ å¼±ä¸€è‡´æ€§çš„åœºæ™¯ï¼Œå¤§éƒ¨åˆ†å°±åƒwebäº’è”ç½‘çš„æ¨¡å¼ï¼Œæ¯”å¦‚å‘äº†ä¸€æ¡å¾®åšï¼Œæ”¹äº†æŸäº›é…ç½®ï¼Œå¯èƒ½ä¸ä¼šé©¬ä¸Šç”Ÿæ•ˆï¼Œä½†åˆ·æ–°å‡ æ¬¡åŽå°±å¯ä»¥çœ‹åˆ°äº†ï¼Œå…¶å®žå¼±ä¸€è‡´æ€§å°±æ˜¯åœ¨ç³»ç»Ÿä¸Šé€šè¿‡ä¸šåŠ¡å¯æŽ¥å—çš„æ–¹å¼æ¢å–äº†ä¸€äº›ç³»ç»Ÿçš„ä½Žå¤æ‚åº¦å’Œå¯ç”¨æ€§ã€‚ å¯ç”¨æ€§ä¿è¯ç³»ç»Ÿçš„æ­£å¸¸å¯è¿è¡Œæ€§ï¼Œåœ¨è¯·æ±‚æ–¹çœ‹æ¥ï¼Œåªè¦å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼Œå°±å¯ä»¥å¾—åˆ°æ¢å¤æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼ˆä¸ä¼šè¶…æ—¶ï¼‰! åˆ†åŒºå®¹å¿æ€§åœ¨ç³»ç»ŸæŸäº›èŠ‚ç‚¹æˆ–ç½‘ç»œæœ‰å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¾æ—§å¯ä»¥ç»§ç»­æœåŠ¡ã€‚ è¿™é€šå¸¸æ˜¯æœ‰è´Ÿè½½å‡è¡¡å’Œå‰¯æœ¬æ¥æ”¯æ’‘çš„ã€‚ ä¾‹å¦‚è®¡ç®—æ¨¡å—å¼‚å¸¸å¯é€šè¿‡è´Ÿè½½å‡è¡¡å¼•æµåˆ°å…¶ä»–å¹³è¡ŒèŠ‚ç‚¹ï¼Œå­˜å‚¨æ¨¡å—é€šè¿‡å…¶ä»–å‡ ç‚¹ä¸Šçš„å‰¯æœ¬æ¥å¯¹å¤–æä¾›æœåŠ¡ã€‚ æ‰©å±•æ€§æ‰©å±•æ€§æ˜¯èžåˆåœ¨CAPé‡Œé¢çš„ç‰¹æ€§ï¼Œæˆ‘è§‰å¾—æ­¤å¤„å¯ä»¥å•ç‹¬è®²ä¸€ä¸‹ã€‚ æ‰©å±•æ€§ç›´æŽ¥å½±å“äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¥½åï¼Œç³»ç»Ÿå¼€å‘åˆæœŸä¸å¯èƒ½æŠŠç³»ç»Ÿçš„å®¹é‡ã€å³°å€¼éƒ½è€ƒè™‘åˆ°ï¼ŒåŽæœŸè‚¯å®šç‰µæ‰¯åˆ°æ‰©å®¹ï¼Œè€Œå¦‚ä½•åšåˆ°å¿«è€Œä¸å¤ªå½±å“ä¸šåŠ¡çš„æ‰©å®¹ç­–ç•¥ï¼Œä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ã€‚ (åŽé¢åœ¨ä»‹ç»æ•°æ®åˆ†å¸ƒæ—¶ä¼šç€é‡è®¨è®ºè¿™ä¸ªé—®é¢˜)]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¦‚è¦ç¬”è®°-ä¸€]]></title>
    <url>%2F2015%2F01%2F04%2F%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%A6%81%E7%AC%94%E8%AE%B0-%E4%B8%80%2F</url>
    <content type="text"><![CDATA[åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æ¦‚å¿µæœ€ç®€å•çš„åˆ†å¸ƒå¼ç³»ç»Ÿåˆ†å¸ƒå¼å¯ç¹ä¹Ÿå¯ä»¥ç®€ï¼Œæœ€ç®€å•çš„åˆ†å¸ƒå¼å°±æ˜¯å¤§å®¶æœ€å¸¸ç”¨çš„ï¼Œ åœ¨è´Ÿè½½å‡è¡¡æœåŠ¡å™¨åŽåŠ ä¸€å †webæœåŠ¡å™¨ï¼Œç„¶åŽåœ¨ä¸Šé¢æžä¸€ä¸ªç¼“å­˜æœåŠ¡å™¨æ¥ä¿å­˜ä¸´æ—¶çŠ¶æ€ï¼Œ åŽé¢å…±äº«ä¸€ä¸ªæ•°æ®åº“ï¼Œå…¶å®žå¾ˆå¤šå·ç§°åˆ†å¸ƒå¼ä¸“å®¶çš„äººä¹Ÿå°±åœç•™äºŽæ­¤ï¼Œ å¤§è‡´ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™ç§çŽ¯å¢ƒä¸‹çœŸæ­£è¿›è¡Œåˆ†å¸ƒå¼çš„åªæ˜¯web serverè€Œå·²ï¼Œ å¹¶ä¸”web serverä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼Œæ‰€ä»¥ç»“æž„å’Œå®žçŽ°éƒ½éžå¸¸ç®€å•ã€‚ æœ€å®Œå¤‡çš„åˆ†å¸ƒå¼ä½“ç³»çš„æ¨¡å—ç»„æˆæœ‰äº›æƒ…å†µä¸‹ï¼Œå¯¹åˆ†å¸ƒå¼çš„éœ€æ±‚å°±æ²¡è¿™ä¹ˆç®€å•ï¼Œ åœ¨æ¯ä¸ªçŽ¯èŠ‚ä¸Šéƒ½æœ‰åˆ†å¸ƒå¼çš„éœ€æ±‚ï¼Œ æ¯”å¦‚Load Balanceã€DBã€Cacheå’Œæ–‡ä»¶ç­‰ç­‰ï¼Œ å¹¶ä¸”å½“åˆ†å¸ƒå¼èŠ‚ç‚¹ä¹‹é—´æœ‰å…³è”æ—¶ï¼Œ è¿˜å¾—è€ƒè™‘ä¹‹é—´çš„é€šè®¯ï¼Œ å¦å¤–ï¼Œ èŠ‚ç‚¹éžå¸¸å¤šçš„æ—¶å€™ï¼Œ å¾—æœ‰ç›‘æŽ§å’Œç®¡ç†æ¥æ”¯æ’‘ã€‚è¿™æ ·çœ‹èµ·æ¥ï¼Œ åˆ†å¸ƒå¼æ˜¯ä¸€ä¸ªéžå¸¸åºžå¤§çš„ä½“ç³»ï¼Œ åªä¸è¿‡ä½ å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚è¿›è¡Œé€‚å½“åœ°è£å‰ªã€‚æŒ‰ç…§æœ€å®Œå¤‡çš„åˆ†å¸ƒå¼ä½“ç³»æ¥çœ‹ï¼Œ å¯ä»¥ç”±ä»¥ä¸‹æ¨¡å—ç»„æˆï¼š åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†æœåŠ¡ï¼šè´Ÿè´£å…·ä½“çš„ä¸šåŠ¡é€»è¾‘å¤„ç† åˆ†å¸ƒå¼èŠ‚ç‚¹æ³¨å†Œå’ŒæŸ¥è¯¢ï¼šè´Ÿè´£ç®¡ç†æ‰€æœ‰åˆ†å¸ƒå¼èŠ‚ç‚¹çš„å‘½åå’Œç‰©ç†ä¿¡æ¯çš„æ³¨å†Œä¸Žè¯¢ï¼Œæ˜¯èŠ‚ç‚¹ä¹‹é—´è”ç³»çš„æ¡¥æ¢ åˆ†å¸ƒå¼DBï¼šåˆ†å¸ƒå¼ç»“æž„åŒ–æ•°æ®å­˜å– åˆ†å¸ƒå¼Cacheï¼šåˆ†å¸ƒå¼ç¼“å­˜æ•°æ®ï¼ˆéžæŒä¹…åŒ–ï¼‰å­˜å– åˆ†å¸ƒå¼æ–‡ä»¶ï¼šåˆ†å¸ƒå¼æ–‡ä»¶å­˜å– ç½‘ç»œé€šä¿¡ï¼šèŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæ•°æ®é€šä¿¡ ç›‘æŽ§ç®¡ç†ï¼šæœé›†ã€ç›‘æŽ§å’Œè¯Šæ–­æ‰€æœ‰èŠ‚ç‚¹è¿è¡ŒçŠ¶æ€ åˆ†å¸ƒå¼ç¼–ç¨‹è¯­è¨€ï¼šç”¨äºŽåˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹çš„ä¸“æœ‰ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚Elangã€Scala åˆ†å¸ƒå¼ç®—æ³•ï¼šä¸ºè§£å†³åˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹ä¸€äº›ç‰¹æœ‰é—®é¢˜çš„ç®—æ³•ï¼Œæ¯”å¦‚è§£å†³ä¸€è‡´æ€§é—®é¢˜çš„Paxosç®—æ³• ä¸‰å…ƒç»„å…¶å®žï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿè¯´ç™½äº†ï¼Œå°±æ˜¯å¾ˆå¤šæœºå™¨ç»„æˆçš„é›†ç¾¤ï¼Œé å½¼æ­¤ä¹‹é—´çš„ç½‘ç»œé€šä¿¡ï¼Œæ‹…å½“çš„è§’è‰²å¯èƒ½ä¸åŒï¼Œå…±åŒå®ŒæˆåŒä¸€ä¸ªäº‹æƒ…çš„ç³»ç»Ÿã€‚ å¦‚æžœæŒ‰â€å®žä½“â€œæ¥åˆ’åˆ†çš„è¯ï¼Œå°±æ˜¯å¦‚ä¸‹è¿™å‡ ç§ï¼š 1ã€èŠ‚ç‚¹ â€“ ç³»ç»Ÿä¸­æŒ‰ç…§åè®®å®Œæˆè®¡ç®—å·¥ä½œçš„ä¸€ä¸ªé€»è¾‘å®žä½“ï¼Œå¯èƒ½æ˜¯æ‰§è¡ŒæŸäº›å·¥ä½œçš„è¿›ç¨‹æˆ–æœºå™¨ 2ã€ç½‘ç»œ â€“ ç³»ç»Ÿçš„æ•°æ®ä¼ è¾“é€šé“ï¼Œç”¨æ¥å½¼æ­¤é€šä¿¡ã€‚ é€šä¿¡æ˜¯å…·æœ‰æ–¹å‘æ€§çš„ã€‚ 3ã€å­˜å‚¨ â€“ ç³»ç»Ÿä¸­æŒä¹…åŒ–æ•°æ®çš„æ•°æ®åº“æˆ–è€…æ–‡ä»¶å­˜å‚¨ã€‚ çŠ¶æ€ç‰¹æ€§å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å¯ä»¥æ˜¯â€œæ— çŠ¶æ€â€æˆ–è€…â€œæœ‰çŠ¶æ€çš„â€, ä¸€èˆ¬è®¤ä¸ºï¼ŒèŠ‚ç‚¹æ˜¯åè®¡ç®—å’Œé€šä¿¡çš„æ¨¡å—ï¼Œä¸€èˆ¬æ˜¯æ— çŠ¶æ€çš„ã€‚ è¿™ç±»åº”ç”¨ä¸€èˆ¬ä¸ä¼šå­˜å‚¨è‡ªå·±çš„ä¸­é—´çŠ¶æ€ä¿¡æ¯ï¼Œæ¯”å¦‚Nginxï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯è½¬å‘è¯·æ±‚è€Œå·²ï¼Œä¸ä¼šå­˜å‚¨ä¸­é—´ä¿¡æ¯ã€‚ å¦ä¸€ç§â€œæœ‰çŠ¶æ€â€çš„ï¼Œå¦‚MySQLç­‰æ•°æ®åº“ï¼ŒçŠ¶æ€å’Œæ•°æ®å…¨éƒ¨æŒä¹…åŒ–åˆ°ç£ç›˜ç­‰ä»‹è´¨ã€‚ â€œæ— çŠ¶æ€â€çš„èŠ‚ç‚¹ä¸€èˆ¬æˆ‘ä»¬è®¤ä¸ºæ˜¯å¯éšæ„é‡å¯çš„ï¼Œå› ä¸ºé‡å¯åŽåªéœ€è¦ç«‹åˆ»å·¥ä½œå°±å¥½ã€‚ â€œæœ‰çŠ¶æ€â€çš„åˆ™ä¸åŒï¼Œéœ€è¦å…ˆè¯»å–æŒä¹…åŒ–çš„æ•°æ®ï¼Œæ‰èƒ½å¼€å§‹æœåŠ¡ã€‚ æ‰€ä»¥ï¼Œâ€œæ— çŠ¶æ€â€çš„èŠ‚ç‚¹ä¸€èˆ¬æ˜¯å¯ä»¥éšæ„æ‰©å±•çš„ï¼Œâ€œæœ‰çŠ¶æ€â€çš„èŠ‚ç‚¹éœ€è¦ä¸€äº›æŽ§åˆ¶åè®®æ¥ä¿è¯æ‰©å±•ã€‚ ç³»ç»Ÿå¼‚å¸¸å¼‚å¸¸ï¼Œå¯è®¤ä¸ºæ˜¯èŠ‚ç‚¹å› ä¸ºæŸç§åŽŸå› ä¸èƒ½å·¥ä½œï¼Œæ­¤ä¸ºèŠ‚ç‚¹å¼‚å¸¸ã€‚ è¿˜æœ‰å› ä¸ºç½‘ç»œåŽŸå› ï¼Œä¸´æ—¶ã€æ°¸ä¹…ä¸èƒ½è¢«å…¶ä»–èŠ‚ç‚¹æ‰€è®¿é—®ï¼Œæ­¤ä¸ºç½‘ç»œå¼‚å¸¸ã€‚ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¦æœ‰å¯¹å¼‚å¸¸çš„å¤„ç†ï¼Œä¿è¯é›†ç¾¤çš„æ­£å¸¸å·¥ä½œã€‚ åˆ†å¸ƒå¼ç³»ç»Ÿä¸Žå•èŠ‚ç‚¹çš„ä¸åŒä»Žlinux write()ç³»ç»Ÿè°ƒç”¨è¯´èµ·ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨unix/linux/mac(ç±»Unix)çŽ¯å¢ƒä¸‹ï¼Œä¸¤ä¸ªæœºå™¨é€šä¿¡ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯é€šè¿‡socketè¿žæŽ¥å¯¹æ–¹ã€‚ ä¼ è¾“æ•°æ®çš„è¯ï¼Œæ— éžå°±æ˜¯è°ƒç”¨write()è¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠä¸€æ®µå†…å­˜ç¼“å†²åŒºå‘å‡ºåŽ»ã€‚ ä½†æ˜¯å¯ä»¥è¿›ä¸€æ­¥æƒ³ä¸€ä¸‹ï¼Œwrite()ä¹‹åŽèƒ½ç¡®è®¤å¯¹æ–¹æ”¶åˆ°äº†è¿™äº›æ•°æ®å—ï¼Ÿ ç­”æ¡ˆè‚¯å®šæ˜¯ä¸èƒ½ï¼ŒåŽŸå› å°±æ˜¯å‘é€æ•°æ®éœ€è¦èµ°å†…æ ¸-&gt;ç½‘å¡-&gt;é“¾è·¯-&gt;å¯¹ç«¯ç½‘å¡-&gt;å†…æ ¸ï¼Œè¿™ä¸€è·¯å¾„å¤ªé•¿äº†ï¼Œæ‰€ä»¥åªèƒ½æ˜¯å¼‚æ­¥æ“ä½œã€‚ write()æŠŠæ•°æ®å†™å…¥å†…æ ¸ç¼“å†²åŒºä¹‹åŽå°±è¿”å›žåˆ°åº”ç”¨å±‚äº†ï¼Œå…·ä½“åŽé¢ä½•æ—¶å‘é€ã€æ€Žä¹ˆå‘é€ã€TCPæ€Žä¹ˆåšæ»‘åŠ¨çª—å£ã€æµæŽ§éƒ½æ˜¯tcp/ipåè®®æ ˆå†…æ ¸çš„äº‹æƒ…äº†ã€‚ æ‰€ä»¥åœ¨åº”ç”¨å±‚ï¼Œèƒ½ç¡®è®¤å¯¹æ–¹å—åˆ°äº†æ¶ˆæ¯åªèƒ½æ˜¯å¯¹æ–¹åº”ç”¨è¿”å›žæ•°æ®ï¼Œé€»è¾‘ç¡®è®¤äº†è¿™æ¬¡å‘é€æ‰è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚ è¿™å°±å´åˆ«ä¸Žå•ç³»ç»Ÿç¼–ç¨‹ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿè°ƒç”¨ã€åº“è°ƒç”¨åªè¦è¿”å›žäº†å°±è¯´æ˜Žå·²ç»ç¡®è®¤å®Œæˆäº†ã€‚ TCP/IPåè®®æ˜¯â€œä¸å¯é â€çš„æ•™ç§‘ä¹¦ä¸Šæ˜Žç¡®å†™æ˜Žäº†äº’è”ç½‘æ˜¯ä¸å¯é çš„ï¼ŒTCPå®žçŽ°äº†å¯é ä¼ è¾“ã€‚ ä½•æ¥â€œä¸å¯é â€å‘¢ï¼Ÿå…ˆæ¥çœ‹ä¸€ä¸‹ç½‘ç»œäº¤äº’çš„ä¾‹å­ï¼Œæœ‰Aã€Bä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¹‹é—´é€šè¿‡TCPè¿žæŽ¥ï¼ŒçŽ°åœ¨Aã€Béƒ½æƒ³ç¡®è®¤è‡ªå·±å‘å‡ºçš„ä»»ä½•ä¸€æ¡æ¶ˆæ¯éƒ½èƒ½è¢«å¯¹æ–¹æŽ¥æ”¶å¹¶åé¦ˆï¼ŒäºŽæ˜¯å¼€å§‹äº†å¦‚ä¸‹æ“ä½œï¼šA-&gt;Bå‘é€æ•°æ®ï¼Œç„¶åŽAéœ€è¦ç­‰å¾…Bæ”¶åˆ°æ•°æ®çš„ç¡®è®¤ï¼ŒBæ”¶åˆ°æ•°æ®åŽå‘é€ç¡®è®¤æ¶ˆæ¯ç»™Aï¼Œç„¶åŽBéœ€è¦ç­‰å¾…Aæ”¶åˆ°æ•°æ®çš„ç¡®è®¤ï¼ŒAæ”¶åˆ°Bçš„æ•°æ®ç¡®è®¤æ¶ˆæ¯åŽå†æ¬¡å‘é€ç¡®è®¤æ¶ˆæ¯ç»™Bï¼Œç„¶åŽAåˆåŽ»éœ€è¦ç­‰å¾…Bæ”¶åˆ°çš„ç¡®è®¤ã€‚ æ­»å¾ªçŽ¯äº†ï¼ï¼ å…¶å®žï¼Œè¿™å°±æ˜¯è‘—åçš„â€œæ‹œå åº­å°†å†›â€é—®é¢˜ æ‰€ä»¥ï¼Œé€šä¿¡åŒæ–¹æ˜¯â€œä¸å¯èƒ½â€åŒæ—¶ç¡®è®¤å¯¹æ–¹å—åˆ°äº†è‡ªå·±çš„ä¿¡æ¯ã€‚ è€Œæ•™ç§‘ä¹¦ä¸Šå®šä¹‰çš„å…¶å®žæ˜¯æŒ‡â€œå•å‘â€é€šä¿¡æ˜¯æˆç«‹çš„ï¼Œæ¯”å¦‚Aå‘Bå‘èµ·Httpè°ƒç”¨ï¼Œ æ”¶åˆ°äº†HttpCode 200çš„å“åº”åŒ…ï¼Œè¿™åªèƒ½ç¡®è®¤ï¼ŒAç¡®è®¤Bæ”¶åˆ°äº†è‡ªå·±çš„è¯·æ±‚ï¼Œå¹¶ä¸”Bæ­£å¸¸å¤„ç†äº†ï¼Œä¸èƒ½ç¡®è®¤çš„æ˜¯Bç¡®è®¤Aå—åˆ°äº†å®ƒçš„æˆåŠŸçš„æ¶ˆæ¯ã€‚ ä¸å¯æŽ§çš„çŠ¶æ€åœ¨å•ç³»ç»Ÿç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹ç³»ç»ŸçŠ¶æ€æ˜¯éžå¸¸å¯æŽ§çš„ã€‚ æ¯”å¦‚å‡½æ•°è°ƒç”¨ã€é€»è¾‘è¿ç®—ï¼Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼Œå› ä¸ºè¿™äº›æ“ä½œè¢«æ¡†åœ¨ä¸€ä¸ªæœºå™¨å†…éƒ¨ï¼Œcpu/æ€»çº¿/å†…å­˜éƒ½æ˜¯å¯ä»¥å¿«é€Ÿå¾—åˆ°åé¦ˆçš„ã€‚ å¼€å‘è€…å¯ä»¥é’ˆå¯¹è¿™ä¸¤ä¸ªçŠ¶æ€å¾ˆæ˜Žç¡®çš„åšå‡ºç¨‹åºä¸Šçš„åˆ¤æ–­å’ŒåŽç»­çš„æ“ä½œã€‚ è€Œåœ¨åˆ†å¸ƒå¼çš„ç½‘ç»œçŽ¯å¢ƒä¸‹ï¼Œè¿™å°±å˜å¾—å¾®å¦™äº†ã€‚ æ¯”å¦‚ä¸€æ¬¡rpcã€httpè°ƒç”¨ï¼Œå¯èƒ½æˆåŠŸã€å¤±è´¥ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯â€œè¶…æ—¶â€ï¼Œè¿™å°±æ¯”å‰è€…çš„çŠ¶æ€å¤šäº†ä¸€ä¸ªä¸å¯æŽ§å› ç´ ï¼Œå¯¼è‡´åŽé¢çš„ä»£ç ä¸æ˜¯å¾ˆå®¹æ˜“åšå‡ºåˆ¤æ–­ã€‚ è¯•æƒ³ä¸€ä¸‹ï¼Œç”¨Aç”¨æ”¯ä»˜å®å‘Bè½¬äº†ä¸€å¤§ç¬”é’±ï¼Œå½“ä»–æŒ‰ä¸‹â€œç¡®è®¤â€åŽï¼Œç•Œé¢ä¸Šæœ‰ä¸ªåœˆåœ¨è½¬å•Šè½¬ï¼Œç„¶åŽæ˜¾ç¤ºè¯·æ±‚è¶…æ—¶äº†ï¼Œç„¶åŽAå°±æŠ“ç‹‚äº†ï¼Œä¸çŸ¥é“åˆ°åº•é’±è½¬æ²¡è½¬è¿‡åŽ»ï¼Œå¼€å§‹ç¡®è®¤è‡ªå·±çš„è´¦æˆ·ã€ç¡®è®¤Bçš„è´¦æˆ·ã€æ‰“ç”µè¯æ‰¾å®¢æœç­‰ç­‰ã€‚ æ‰€ä»¥åˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬çš„å…¶å®žè¦æ—¶æ—¶åˆ»åˆ»è€ƒè™‘é¢å¯¹è¿™ç§ä¸å¯æŽ§çš„â€œç¬¬ä¸‰çŠ¶æ€â€è®¾è®¡å¼€å‘ï¼Œè¿™ä¹Ÿæ˜¯æŒ‘æˆ˜ä¹‹ä¸€ã€‚ è§†å¼‚å¸¸ä¸ºæ­£å¸¸å•ç³»ç»Ÿä¸‹ï¼Œè¿›ç¨‹/æœºå™¨çš„å¼‚å¸¸æ¦‚çŽ‡ååˆ†å°ã€‚ å³ä½¿å‡ºçŽ°äº†é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡äººå·¥å¹²é¢„é‡å¯ã€è¿ç§»ç­‰æ‰‹æ®µæ¢å¤ã€‚ ä½†åœ¨åˆ†å¸ƒå¼çŽ¯å¢ƒä¸‹ï¼Œæœºå™¨ä¸Šåƒå°ï¼Œæ¯å‡ åˆ†é’Ÿéƒ½å¯èƒ½å‡ºçŽ°å®•æœºã€æ­»æœºã€ç½‘ç»œæ–­ç½‘ç­‰å¼‚å¸¸ï¼Œå‡ºçŽ°çš„æ¦‚çŽ‡å¾ˆå¤§ã€‚ æ‰€ä»¥ï¼Œè¿™ç§çŽ¯å¢ƒä¸‹ï¼Œè¿›ç¨‹coreæŽ‰ã€æœºå™¨æŒ‚æŽ‰éƒ½æ˜¯éœ€è¦æˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­è®¤ä¸ºéšæ—¶å¯èƒ½å‡ºçŽ°çš„ï¼Œè¿™æ ·æ‰èƒ½ä½¿æˆ‘ä»¬æ•´ä¸ªç³»ç»Ÿå¥å£®èµ·æ¥ï¼Œæ‰€ä»¥â€å®¹é”™â€œæ˜¯åŸºæœ¬éœ€æ±‚ã€‚ å¼‚å¸¸å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç±»ï¼š èŠ‚ç‚¹é”™è¯¯ï¼šä¸€èˆ¬æ˜¯ç”±äºŽåº”ç”¨å¯¼è‡´ï¼Œä¸€äº›coredumpå’Œç³»ç»Ÿé”™è¯¯è§¦å‘ï¼Œä¸€èˆ¬é‡æ–°æœåŠ¡åŽå¯æ¢å¤ã€‚ ç¡¬ä»¶é”™è¯¯ï¼šç”±äºŽç£ç›˜æˆ–è€…å†…å­˜ç­‰ç¡¬ä»¶è®¾å¤‡å¯¼è‡´æŸèŠ‚ç‚¹ä¸èƒ½æœåŠ¡ï¼Œéœ€è¦äººå·¥å¹²é¢„æ¢å¤ã€‚ ç½‘ç»œé”™è¯¯ï¼šç”±äºŽç‚¹å¯¹ç‚¹çš„ç½‘ç»œæŠ–åŠ¨ï¼Œæš‚æ—¶çš„è®¿é—®é”™è¯¯ï¼Œä¸€èˆ¬æ‹“æ‰‘ç¨³å®šåŽæˆ–æµé‡å‡å°å¯ä»¥æ¢å¤ã€‚ ç½‘ç»œåˆ†åŒ–ï¼š ç½‘ç»œä¸­è·¯ç”±å™¨ã€äº¤æ¢æœºé”™è¯¯å¯¼è‡´ç½‘ç»œä¸å¯è¾¾ï¼Œä½†æ˜¯ç½‘ç»œä¸¤è¾¹éƒ½æ­£å¸¸ï¼Œè¿™ç±»é”™è¯¯æ¯”è¾ƒéš¾æ¢å¤ï¼Œå¹¶ä¸”éœ€è¦åœ¨å¼€å‘æ—¶ç‰¹åˆ«å¤„ç†ã€‚ ã€è¿™ç§æƒ…å†µä¹Ÿä¼šæ¯”è¾ƒå‰é¢çš„é—®é¢˜è¾ƒéš¾å¤„ç†ã€‘]]></content>
      <categories>
        <category>server</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(é“¾è¡¨è¿›é˜¶)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆä¸ƒï¼‰]]></title>
    <url>%2F2014%2F12%2F22%2F(%E9%93%BE%E8%A1%A8%E8%BF%9B%E9%98%B6)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%B8%83%EF%BC%89%2F</url>
    <content type="text"><![CDATA[åªè°ˆä¸€ä¸‹å•é“¾è¡¨, é“¾è¡¨å®žåœ¨æ˜¯å¤ªé‡è¦, æ˜¯å‰é¢ä¸¤ç¯‡è¯´ç®—æ³•åšå®¢çš„åŸºç¡€, äº†è§£äº†å…¶åº”ç”¨å’Œè¡ç”Ÿ, å†åŽ»äº†è§£å…¶æœ¬èº«å°±æœ‰åŠ¨åŠ›äº† è¿™æ˜¯ä¸€ç¯‡åå‘å•é“¾è¡¨è¿›é˜¶çš„åšå®¢, å¹¶ä¸ä¼šè®²å•é“¾è¡¨çš„å»ºç«‹/å¢žåŠ /åˆ é™¤ç­‰ç­‰, è€Œä¸”è¿™ç¯‡åšå®¢å¤§å¤šæ•°åªè¯´æ€æƒ³ä¸å†™ä»£ç (å› ä¸ºå…¶å®žè›®ç®€å•çš„..) å­˜å‚¨ç»“æž„12345typedef struct Node&#123; DataType data; struct Node *next;&#125;Node, *Node_Ptr; 1.æ‰¾ä¸€ä¸ªå•é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ ç®—æ³•æ€æƒ³ :(å¿«æ…¢æŒ‡é’ˆçš„ä½¿ç”¨)è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæ¯æ¬¡ç§»åŠ¨ä¸¤ä¸ªä½ç½®ï¼Œä¸€ä¸ªæ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå½“ç¬¬ä¸€ä¸ªæŒ‡é’ˆåˆ°è¾¾å°¾èŠ‚ç‚¹æ—¶ï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆå°±è¾¾åˆ°äº†ä¸­é—´èŠ‚ç‚¹çš„ä½ç½® 2.åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰çŽ¯ ç®—æ³•æ€æƒ³ :(å¿«æ…¢æŒ‡é’ˆçš„ä½¿ç”¨)é“¾è¡¨ä¸­æœ‰çŽ¯ï¼Œå…¶å®žä¹Ÿå°±æ˜¯è‡ªç›¸äº¤. ç”¨ä¸¤ä¸ªæŒ‡é’ˆpslowå’Œpfastä»Žå¤´å¼€å§‹éåŽ†é“¾è¡¨ï¼Œpslowæ¯æ¬¡å‰è¿›ä¸€ä¸ªèŠ‚ç‚¹ï¼Œpfastæ¯æ¬¡å‰è¿›ä¸¤ä¸ªç»“ç‚¹ï¼Œè‹¥å­˜åœ¨çŽ¯ï¼Œåˆ™pslowå’Œpfastè‚¯å®šä¼šåœ¨çŽ¯ä¸­ç›¸é‡ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™pslowå’Œpfastèƒ½æ­£å¸¸åˆ°è¾¾æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ 3.åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤, å‡è®¾ä¸¤ä¸ªé“¾è¡¨å‡ä¸å¸¦çŽ¯ ç®—æ³•æ€æƒ³ :å¦‚æžœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤äºŽæŸä¸€èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªç›¸äº¤èŠ‚ç‚¹ä¹‹åŽçš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ä¸¤ä¸ªé“¾è¡¨æ‰€å…±æœ‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œé‚£ä¹ˆæœ€åŽä¸€ä¸ªèŠ‚ç‚¹è‚¯å®šæ˜¯å…±æœ‰çš„ã€‚å…ˆéåŽ†ç¬¬ä¸€ä¸ªé“¾è¡¨ï¼Œè®°ä½æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åŽéåŽ†ç¬¬äºŒä¸ªé“¾è¡¨ï¼Œåˆ°æœ€åŽä¸€ä¸ªèŠ‚ç‚¹æ—¶å’Œç¬¬ä¸€ä¸ªé“¾è¡¨çš„æœ€åŽä¸€ä¸ªèŠ‚ç‚¹åšæ¯”è¾ƒï¼Œå¦‚æžœç›¸åŒï¼Œåˆ™ç›¸äº¤ï¼Œå¦åˆ™ä¸ç›¸äº¤ã€‚ 4.é“¾è¡¨åè½¬æ¯”å¦‚ä¸€ä¸ªé“¾è¡¨:A-&gt;B-&gt;C-&gt;D-&gt;Eåè½¬æˆä¸º:E-&gt;D-&gt;C-&gt;B-&gt;A ç®—æ³•æ€æƒ³ :å–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘Açš„åŽé¢é‚£ä¸ªå…ƒç´ elem, æ¯æ¬¡æŠŠelementæ”¾åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®, éåŽ†å®Œæ¯•ä¹‹åŽå°±åè½¬å®Œæ¯•äº†,è¿‡ç¨‹å¦‚ä¸‹:ç¬¬ä¸€è½® : A-&gt;B-&gt;C-&gt;D-&gt;E, æŠŠAåŽé¢çš„Bè®¾ç½®ä¸ºelementç¬¬äºŒè½® : B-&gt;A-&gt;C-&gt;D-&gt;E, æŠŠå½“å‰çš„element(å³ä¸ºB)æ”¾åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®, å¹¶æŠŠAåŽé¢çš„Cè®¾ç½®ä¸ºelementç¬¬ä¸‰è½® : C-&gt;B-&gt;A-&gt;D-&gt;E, æŠŠå½“å‰çš„element(å³ä¸ºC)æ”¾åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®, å¹¶æŠŠAåŽé¢çš„Dè®¾ç½®ä¸ºelementç¬¬å››è½® : D-&gt;C-&gt;B-&gt;A-&gt;E, æŠŠå½“å‰çš„element(å³ä¸ºD)æ”¾åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®, å¹¶æŠŠAåŽé¢çš„Eè®¾ç½®ä¸ºelementç¬¬äº”è½® : E-&gt;D-&gt;C-&gt;B-&gt;A, æŠŠå½“å‰çš„element(å³ä¸ºE)æ”¾åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®, éåŽ†å®Œæ¯•]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(äºŒå‰æ ‘)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆå…­ï¼‰]]></title>
    <url>%2F2014%2F09%2F24%2F(%E4%BA%8C%E5%8F%89%E6%A0%91)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E5%85%AD%EF%BC%89%2F</url>
    <content type="text"><![CDATA[äºŒå‰æœç´¢æ ‘(åˆç§°äºŒå‰æŸ¥æ‰¾æ ‘æˆ–äºŒå‰æŽ’åºæ ‘) æœ‰äº†ä¸Šé¢äºŒå‰æ ‘çš„åŸºç¡€, æˆ‘ä»¬ç»§ç»­å­¦ä¹ äºŒå‰æœç´¢æ ‘.æˆ‘ä»¬è¿™é‡Œä¹Ÿä¸ç»™ä»–é‚£ç§æ™¦æ¶©éš¾æ‡‚çš„å®šä¹‰, æ„Ÿæ€§çš„è®¤è¯†äºŒå‰æœç´¢æ ‘.ç›´æŽ¥çœ‹å›¾, å¾ˆå®¹æ˜“çœ‹å¾—å‡ºæ¥, äºŒå‰æœç´¢æ ‘æ¯ä¸ªç»“ç‚¹çš„å·¦å­©å­éƒ½å°äºŽå³å­©å­.å› ä¸ºå…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æœ€å¤§é«˜åº¦ä¸ºlog2n+1è€ŒäºŒå‰æœç´¢æ ‘çš„æŸ¥è¯¢/å¢žåŠ çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(h), hä¸ºæ ‘çš„é«˜åº¦,æ‰€ä»¥å¤æ‚åº¦å¯ä»¥çœ‹ä½œO(logn), æ‰€ä»¥å¾ˆæ˜Žæ˜¾ä¸Šå›¾ä¸­çš„aæ ‘æ¯”bæ ‘è¦é«˜æ•ˆ. æŸ¥è¯¢1234567891011121314151617181920BTN_Ptr search(BTN_Ptr btp, int key)&#123; while (btp != NULL ) &#123; if ( btp-&gt;data != key) &#123; if ( btp-&gt;data &lt; key ) btp = btp-&gt;RightChild; else btp = btp-&gt;LeftChild; &#125; else &#123; printf(&quot;found\n&quot;); return btp; &#125; &#125; printf(&quot;error : not found!\n&quot;); return NULL;&#125; æ’å…¥123456789101112131415161718192021222324252627282930313233BTN_Ptr insert(BTN_Ptr &amp;btp, int key)&#123; if (btp == NULL) &#123; btp = new BTN; btp-&gt;data = key; btp-&gt;LeftChild = NULL; btp-&gt;RightChild = NULL; return btp; &#125; else &#123; BTN_Ptr saved_btp = btp; BTN_Ptr temp_btp = NULL; while ( btp != NULL) &#123; temp_btp = btp; if ( key &lt; btp-&gt;data ) btp = btp-&gt;LeftChild; else btp = btp-&gt;RightChild; &#125; btp = new BTN; btp-&gt;data = key; btp-&gt;LeftChild = NULL; btp-&gt;RightChild = NULL; if ( key &lt; temp_btp-&gt;data ) temp_btp-&gt;LeftChild = btp; else temp_btp-&gt;RightChild = btp; return saved_btp; &#125;&#125; æµ‹è¯•ç¨‹åºé™„ä¸Šä¸€ä¸ªæµ‹è¯•ç¨‹åºå§12345678910111213141516171819202122232425262728293031#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;iostream&gt;#include &lt;stack&gt;using std::stack;using std::cout;using std::cin;using std::endl;int main(int argc, char **argv)&#123; BTN_Ptr my_btp = NULL; if (create_BT(&amp;my_btp) == -1) return -1; cout &lt;&lt; &quot;==============pre_order:==============&quot; &lt;&lt; endl; pre_order_traverse(&amp;my_btp); cout &lt;&lt; &quot;==============in_order:==============&quot; &lt;&lt; endl; in_order_traverse(&amp;my_btp); cout &lt;&lt; &quot;==============post_order:==============&quot; &lt;&lt; endl; post_order_traverse(&amp;my_btp); cout &lt;&lt; &quot;==============search : 24==============&quot; &lt;&lt; endl; search(my_btp, 24); cout &lt;&lt; &quot;==============search : 14==============&quot; &lt;&lt; endl; search(my_btp, 14); cout &lt;&lt; &quot;==============insert : 25==============&quot; &lt;&lt; endl; my_btp = insert(my_btp, 25); cout &lt;&lt; &quot;==============pre_order2:==============&quot; &lt;&lt; endl; pre_order_traverse(&amp;my_btp); return 0;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>äºŒå‰æ ‘</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(äºŒå‰æ ‘)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆäº”ï¼‰]]></title>
    <url>%2F2014%2F09%2F23%2F(%E4%BA%8C%E5%8F%89%E6%A0%91)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%BA%94%EF%BC%89%2F</url>
    <content type="text"><![CDATA[éåŽ†å¦‚ä¸Šå›¾å¾—åˆ°çš„ç›¸åº”çš„éåŽ†çš„åºåˆ—åˆ†åˆ«ä¸ºï¼š å…ˆåºéåŽ† ï¼š ABCDEGF ä¸­åºéåŽ† ï¼š CBEGDFA åŽåºéåŽ† ï¼š CGEFDBA é€’å½’éåŽ†123456789101112131415161718192021222324252627282930void pre_order_traverse(const BTN_Ptr *btp)&#123; if ( *btp != NULL) &#123; cout &lt;&lt; (*btp)-&gt;data &lt;&lt; endl; pre_order_traverse( &amp;(*btp)-&gt;LeftChild ); pre_order_traverse( &amp;(*btp)-&gt;RightChild ); &#125;&#125;void in_order_traverse(const BTN_Ptr *btp)&#123; if ( *btp != NULL) &#123; in_order_traverse( &amp;(*btp)-&gt;LeftChild ); cout &lt;&lt; (*btp)-&gt;data &lt;&lt; endl; in_order_traverse( &amp;(*btp)-&gt;RightChild ); &#125;&#125;void post_order_traverse(const BTN_Ptr *btp)&#123; if ( *btp != NULL) &#123; post_order_traverse( &amp;(*btp)-&gt;LeftChild ); post_order_traverse( &amp;(*btp)-&gt;RightChild ); cout &lt;&lt; (*btp)-&gt;data &lt;&lt; endl; &#125;&#125; éžé€’å½’éåŽ† éžé€’å½’çš„äºŒå‰æ ‘ä¸‰ç§éåŽ†æ–¹å¼å…¶å®žæ€æƒ³æ˜¯ç»Ÿä¸€çš„ : éƒ½æ˜¯ä»Žå·¦åˆ°å³çš„å°†å„ä¸ªç»“ç‚¹ä¾æ¬¡å…¥æ ˆ, å½“å·¦è¾¹å·²ç»èµ°åˆ°å¤´äº†, å°±å¼€å§‹èµ°å³è¾¹, åœ¨é€‚å½“çš„æ¡ä»¶å°±å‡ºæ ˆ, åªæ˜¯æ¯ä¸ªéåŽ†æ–¹å¼çš„å‡ºæ ˆæ¡ä»¶ä¸ä¸€æ ·è€Œå·². å…ˆåºå’Œä¸­åºéåŽ†éƒ½å¾ˆå¥½ç†è§£, ç€é‡è®²ä¸€ä¸‹åŽåºéåŽ† :åŽåºéåŽ†çš„å‡ºæ ˆæ¡ä»¶æœ‰ç‚¹ä¸ä¸€æ ·, å› ä¸ºåŽåºæ˜¯å…ˆå·¦åŽå³å†ä¸­çš„, æ¯”å¦‚æŸä¸ªç»“ç‚¹pè¦å‡ºæ ˆ, éœ€è¦éåŽ†å®Œäº†pçš„æ‰€æœ‰å³å­æ ‘ä¹‹åŽæ‰èƒ½å‡ºæ ˆ, è€Œä¸èƒ½ç¬¬ä¸€æ¬¡å°±å‡ºæ ˆ, æ‰€ä»¥ä¸“é—¨æž„é€ äº†ä¸€ä¸ªç»“æž„ä½“F_btæ¥è®°å½•ä»–æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡å‡ºæ ˆ (F_btç»“æž„ä½“é‡Œæœ‰ä¸ªis_firstçš„æ•°æ®æ¥è®°å½•) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586void pre_order_traverse_non_recursion(const BTN_Ptr *btp)&#123; stack&lt;BTN_Ptr&gt; stack_bt; BTN_Ptr temp_btp = *btp; while ( !stack_bt.empty() || temp_btp != NULL ) &#123; while ( temp_btp != NULL ) &#123; cout &lt;&lt; temp_btp-&gt;data &lt;&lt; endl; stack_bt.push(temp_btp); temp_btp = temp_btp-&gt;LeftChild; &#125; if ( !stack_bt.empty() ) &#123; temp_btp = stack_bt.top()-&gt;RightChild; stack_bt.pop(); &#125; &#125;&#125;void in_order_traverse_non_recursion(const BTN_Ptr *btp)&#123; stack&lt;BTN_Ptr&gt; stack_bt; BTN_Ptr temp_btp = *btp; while ( !stack_bt.empty() || temp_btp != NULL ) &#123; while ( temp_btp != NULL ) &#123; stack_bt.push(temp_btp); temp_btp = temp_btp-&gt;LeftChild; &#125; if ( !stack_bt.empty() ) &#123; cout &lt;&lt; stack_bt.top()-&gt;data &lt;&lt; endl; temp_btp = stack_bt.top()-&gt;RightChild; stack_bt.pop(); &#125; &#125;&#125;typedef struct&#123; BTN_Ptr btnp; int is_first;&#125;F_bt, *F_btp;void post_order_traverse_non_recursion( const BTN_Ptr *btp)&#123; stack&lt;F_btp&gt; stack_F_btp; BTN_Ptr temp_btp = *btp; while ( !stack_F_btp.empty() || temp_btp != NULL ) &#123; while ( temp_btp != NULL ) &#123; F_btp temp_F_btp = new F_bt; temp_F_btp-&gt;btnp = temp_btp; temp_F_btp-&gt;is_first = 1; stack_F_btp.push(temp_F_btp); temp_btp = temp_btp-&gt;LeftChild; &#125; if ( !stack_F_btp.empty() ) &#123; if ( stack_F_btp.top()-&gt;is_first == 1 ) &#123; stack_F_btp.top()-&gt;is_first = 0; temp_btp = stack_F_btp.top()-&gt;btnp-&gt;RightChild; &#125; else &#123; cout &lt;&lt; stack_F_btp.top()-&gt;btnp-&gt;data &lt;&lt; endl; delete stack_F_btp.top(); stack_F_btp.top() = NULL; stack_F_btp.pop(); temp_btp = NULL; &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>äºŒå‰æ ‘</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(äºŒå‰æ ‘)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆå››ï¼‰]]></title>
    <url>%2F2014%2F09%2F22%2F(%E4%BA%8C%E5%8F%89%E6%A0%91)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E5%9B%9B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[æŽ¥ç€ä¸Šä¸€ç¯‡ï¼Œ ä¸Šä¸€ç¯‡ä¸»è¦è¯´äº†å„ç§æŽ’åºç®—æ³•ï¼Œ ä½†å¯¹å‡ ä¸ªå¸¸ç”¨çš„æ•°æ®ç»“æž„è¿˜æœªæåŠï¼Œæ‰€ä»¥è¿™ä¸€ç¯‡ä¸»è¦è®²äºŒå‰æ ‘, äºŒå‰æ ‘å·²ç»åŒ…æ‹¬å¾ˆå¤šé“¾è¡¨çš„çŸ¥è¯†äº†ã€‚æ‰€æœ‰ä»£ç éƒ½æ˜¯æµ‹è¯•è¿‡çš„, å¯ä»¥ç›´æŽ¥æ’¸. äºŒå‰æ ‘è¿™é‡Œä¸ä¸¾å¤ªå¤šæ•°å­—æ–¹é¢çš„ä¸œè¥¿ï¼Œ æˆ‘ä»¬ç›´æŽ¥çœ‹å›¾ï¼Œ ç›´è§‚æ„Ÿæ€§çš„è®¤è¯†æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘ï¼š æœ‰ä¸€ç‚¹æ€§è´¨éœ€è¦ç‰¢è®°ï¼šå…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æœ€å¤§é«˜åº¦ä¸ºlog2n+1 äºŒå‰æ ‘çš„äºŒå‰é“¾å¼å­˜å‚¨æ–¹æ¡ˆçš„ä»£ç è¡¨ç¤ºï¼š 123456typedef struct BinaryTreeNode&#123; int data; BinaryTreeNode *LeftChild, *RightChild; // BTN *LeftChild, *RightChild; // error : BTN doesn&apos;t name a typecat&#125;BTN, *BTN_Ptr; åˆ›å»º12345678910111213141516171819202122int create_BT(BTN_Ptr *btp)&#123; int temp_data = 0; std::cin &gt;&gt; temp_data; if (temp_data == 0) &#123; *btp = NULL; printf(&quot;leaf\n&quot;); &#125; else &#123; if ( !(*btp = (BTN_Ptr)malloc( sizeof(BTN) ) ) ) &#123; printf(&quot;error : malloc error&quot;); return -1; &#125; (*btp)-&gt;data = temp_data; create_BT(&amp;((*btp)-&gt;LeftChild)); create_BT(&amp;((*btp)-&gt;RightChild)); &#125; return 0;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>äºŒå‰æ ‘</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢å‘å¯¹è±¡çš„å››å¤§ç‰¹å¾ä»¥åŠäº”å¤§åŽŸåˆ™]]></title>
    <url>%2F2014%2F09%2F12%2F%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E5%BE%81%E4%BB%A5%E5%8F%8A%E4%BA%94%E5%A4%A7%E5%8E%9F%E5%88%99%2F</url>
    <content type="text"><![CDATA[é¢å‘å¯¹è±¡çš„å››å¤§ç‰¹å¾1.å°è£…ï¼šå°è£…æ˜¯æŠŠè¿‡ç¨‹å’Œæ•°æ®åŒ…å›´èµ·æ¥ï¼Œå¯¹æ•°æ®çš„è®¿é—®åªèƒ½é€šè¿‡å·²å®šä¹‰çš„ç•Œé¢ï¼Œé¢å‘å¯¹è±¡è®¡ç®—å§‹äºŽè¿™ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œå³çŽ°å®žä¸–ç•Œå¯ä»¥è¢«æç»˜æˆä¸€ç³»åˆ—å®Œå…¨è‡ªæ²»ï¼Œå°è£…çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡é€šè¿‡ä¸€ä¸ªå—ä¿æŠ¤çš„æŽ¥å£è®¿é—®å…¶ä»–å¯¹è±¡ 2.ç»§æ‰¿ï¼šç»§æ‰¿æ˜¯ä¸€ç§è”ç»“ç±»çš„å±‚æ¬¡æ¨¡åž‹ï¼Œå¹¶ä¸”å…è®¸å’Œé¼“åŠ±ç±»çš„é‡ç”¨ï¼Œå®ƒæä¾›äº†ä¸€ç§æ˜Žç¡®è¡¨è¾¾å…±æ€§çš„æ–¹æ³•ï¼Œå¯¹è±¡çš„ä¸€ä¸ªæ–°ç±»å¯ä»¥ä»ŽçŽ°åœ¨çš„ç±»ä¸­æ´¾ç”Ÿï¼Œè¿™ä¸ªè¿‡ç¨‹æˆä¸ºç»§æ‰¿ï¼Œæ–°ç±»ç»§æ‰¿äº†åŽŸå§‹ç±»çš„ç‰¹æ€§ï¼Œæ–°ç±»æˆä¸ºåŽŸå§‹ç±»çš„æ´¾ç”Ÿç±»ï¼Œè€ŒåŽŸå§‹ç±»ç§°ä¸ºæ–°ç±»çš„åŸºç±»ï¼Œæ´¾ç”Ÿç±»å¯ä»¥ä»Žä»–çš„åŸºç±»é‚£é‡Œç»§æ‰¿æ–¹æ³•å’Œå®žä¾‹å˜é‡ï¼Œå¹¶ä¸”ç±»å¯ä»¥ä¿®æ”¹æˆ–å¢žåŠ æ–°çš„æ–¹æ³•ä½¿ä¹‹æ›´åŠ é€‚åˆç‰¹æ®Šçš„éœ€æ±‚ 3.æŠ½è±¡ï¼šæŠ½è±¡å°±æ˜¯å¿½ç•¥ä¸€ä¸ªä¸»é¢˜ä¸­ä¸Žå½“å‰ç›®æ ‡æ— å…³çš„é‚£äº›æ–¹é¢ï¼Œä»¥ä¾¿å……åˆ†çš„æ³¨æ„ä¸Žå½“å‰ç›®æ ‡æœ‰å…³çš„æ–¹é¢ï¼ŒæŠ½è±¡åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯è¿‡ç¨‹æŠ½è±¡ï¼ŒäºŒæ˜¯æ•°æ®æŠ½è±¡ 4.å¤šæ€æ€§ï¼šå¤šæ€æ€§æ˜¯æŒ‡å…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯ä½œå‡ºå“åº”ï¼Œå¤šæ€æ€§åŒ…æ‹¬å‚æ•°åŒ–å¤šæ€æ€§å’ŒåŒ…å«å¤šæ€æ€§ï¼Œå¤šæ€æ€§è¯­è¨€å…·æœ‰çµæ´»ï¼ŒæŠ½è±¡ï¼Œè¡Œä¸ºå…±äº«ï¼Œä»£ç å…±äº«çš„ä¼˜åŠ¿ï¼Œå¾ˆå¥½çš„è§£å†³äº†åº”ç”¨ç¨‹åºå‡½æ•°åŒåçš„é—®é¢˜ é¢å‘å¯¹è±¡çš„äº”å¤§åŽŸåˆ™(è®°å¿†å£è¯€ : æ›¿å¼€ä¾(â€œå‡¯éšâ€, ä¸€ä¸ªè‹±é›„è”ç›Ÿè‹±é›„åå­—)æŽ¥å•)å•ä¸€èŒè´£åŽŸåˆ™ï¼ˆSingle-Resposibility Principleï¼‰ å…¶æ ¸å¿ƒæ€æƒ³ä¸ºï¼šä¸€ä¸ªç±»ï¼Œæœ€å¥½åªåšä¸€ä»¶äº‹ï¼Œåªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒçš„å˜åŒ–ã€‚å•ä¸€èŒè´£åŽŸåˆ™å¯ä»¥çœ‹åšæ˜¯ä½Žè€¦åˆã€é«˜å†…èšåœ¨é¢å‘å¯¹è±¡åŽŸåˆ™ä¸Šçš„å¼•ç”³ï¼Œå°†èŒè´£å®šä¹‰ä¸ºå¼•èµ·å˜åŒ–çš„åŽŸå› ï¼Œä»¥æé«˜å†…èšæ€§æ¥å‡å°‘å¼•èµ·å˜åŒ–çš„åŽŸå› ã€‚èŒè´£è¿‡å¤šï¼Œå¯èƒ½å¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› å°±è¶Šå¤šï¼Œè¿™å°†å¯¼è‡´èŒè´£ä¾èµ–ï¼Œç›¸äº’ä¹‹é—´å°±äº§ç”Ÿå½±å“ï¼Œä»Žè€Œå¤§å¤§æŸä¼¤å…¶å†…èšæ€§å’Œè€¦åˆåº¦ã€‚é€šå¸¸æ„ä¹‰ä¸‹çš„å•ä¸€èŒè´£ï¼Œå°±æ˜¯æŒ‡åªæœ‰ä¸€ç§å•ä¸€åŠŸèƒ½ï¼Œä¸è¦ä¸ºç±»å®žçŽ°è¿‡å¤šçš„åŠŸèƒ½ç‚¹ï¼Œä»¥ä¿è¯å®žä½“åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› ã€‚ä¸“æ³¨ï¼Œæ˜¯ä¸€ä¸ªäººä¼˜è‰¯çš„å“è´¨ï¼›åŒæ ·çš„ï¼Œå•ä¸€ä¹Ÿæ˜¯ä¸€ä¸ªç±»çš„ä¼˜è‰¯è®¾è®¡ã€‚äº¤æ‚ä¸æ¸…çš„èŒè´£å°†ä½¿å¾—ä»£ç çœ‹èµ·æ¥ç‰¹åˆ«åˆ«æ‰­ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œæœ‰å¤±ç¾Žæ„Ÿå’Œå¿…ç„¶å¯¼è‡´ä¸‘é™‹çš„ç³»ç»Ÿé”™è¯¯é£Žé™©ã€‚ å¼€æ”¾å°é—­åŽŸåˆ™ï¼ˆOpen-Closed principleï¼‰ å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šè½¯ä»¶å®žä½“åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œè€Œä¸å¯ä¿®æ”¹çš„ã€‚ä¹Ÿå°±æ˜¯ï¼Œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­çš„ã€‚å¼€æ”¾å°é—­åŽŸåˆ™ä¸»è¦ä½“çŽ°åœ¨ä¸¤ä¸ªæ–¹é¢1ã€å¯¹æ‰©å±•å¼€æ”¾ï¼Œæ„å‘³ç€æœ‰æ–°çš„éœ€æ±‚æˆ–å˜åŒ–æ—¶ï¼Œå¯ä»¥å¯¹çŽ°æœ‰ä»£ç è¿›è¡Œæ‰©å±•ï¼Œä»¥é€‚åº”æ–°çš„æƒ…å†µã€‚2ã€å¯¹ä¿®æ”¹å°é—­ï¼Œæ„å‘³ç€ç±»ä¸€æ—¦è®¾è®¡å®Œæˆï¼Œå°±å¯ä»¥ç‹¬ç«‹å®Œæˆå…¶å·¥ä½œï¼Œè€Œä¸è¦å¯¹å…¶è¿›è¡Œä»»ä½•å°è¯•çš„ä¿®æ”¹ã€‚å®žçŽ°å¼€å¼€æ”¾å°é—­åŽŸåˆ™çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯å¯¹æŠ½è±¡ç¼–ç¨‹ï¼Œè€Œä¸å¯¹å…·ä½“ç¼–ç¨‹ï¼Œå› ä¸ºæŠ½è±¡ç›¸å¯¹ç¨³å®šã€‚è®©ç±»ä¾èµ–äºŽå›ºå®šçš„æŠ½è±¡ï¼Œæ‰€ä»¥ä¿®æ”¹å°±æ˜¯å°é—­çš„ï¼›è€Œé€šè¿‡é¢å‘å¯¹è±¡çš„ç»§æ‰¿å’Œå¤šæ€æœºåˆ¶ï¼Œåˆå¯ä»¥å®žçŽ°å¯¹æŠ½è±¡ç±»çš„ç»§æ‰¿ï¼Œé€šè¿‡è¦†å†™å…¶æ–¹æ³•æ¥æ”¹å˜å›ºæœ‰è¡Œä¸ºï¼Œå®žçŽ°æ–°çš„æ‹“å±•æ–¹æ³•ï¼Œæ‰€ä»¥å°±æ˜¯å¼€æ”¾çš„ã€‚â€œéœ€æ±‚æ€»æ˜¯å˜åŒ–â€æ²¡æœ‰ä¸å˜çš„è½¯ä»¶ï¼Œæ‰€ä»¥å°±éœ€è¦ç”¨å°é—­å¼€æ”¾åŽŸåˆ™æ¥å°é—­å˜åŒ–æ»¡è¶³éœ€æ±‚ï¼ŒåŒæ—¶è¿˜èƒ½ä¿æŒè½¯ä»¶å†…éƒ¨çš„å°è£…ä½“ç³»ç¨³å®šï¼Œä¸è¢«éœ€æ±‚çš„å˜åŒ–å½±å“ã€‚ æ›¿æ¢åŽŸåˆ™ï¼ˆLiskov-Substituion Principleï¼‰ å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å…¶åŸºç±»ã€‚è¿™ä¸€æ€æƒ³ä½“çŽ°ä¸ºå¯¹ç»§æ‰¿æœºåˆ¶çš„çº¦æŸè§„èŒƒï¼Œåªæœ‰å­ç±»èƒ½å¤Ÿæ›¿æ¢åŸºç±»æ—¶ï¼Œæ‰èƒ½ä¿è¯ç³»ç»Ÿåœ¨è¿è¡ŒæœŸå†…è¯†åˆ«å­ç±»ï¼Œè¿™æ˜¯ä¿è¯ç»§æ‰¿å¤ç”¨çš„åŸºç¡€ã€‚åœ¨çˆ¶ç±»å’Œå­ç±»çš„å…·ä½“è¡Œä¸ºä¸­ï¼Œå¿…é¡»ä¸¥æ ¼æŠŠæ¡ç»§æ‰¿å±‚æ¬¡ä¸­çš„å…³ç³»å’Œç‰¹å¾ï¼Œå°†åŸºç±»æ›¿æ¢ä¸ºå­ç±»ï¼Œç¨‹åºçš„è¡Œä¸ºä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚åŒæ—¶ï¼Œè¿™ä¸€çº¦æŸåè¿‡æ¥åˆ™æ˜¯ä¸æˆç«‹çš„ï¼Œå­ç±»å¯ä»¥æ›¿æ¢åŸºç±»ï¼Œä½†æ˜¯åŸºç±»ä¸ä¸€å®šèƒ½æ›¿æ¢å­ç±»ã€‚Liskovæ›¿æ¢åŽŸåˆ™ï¼Œä¸»è¦ç€çœ¼äºŽå¯¹æŠ½è±¡å’Œå¤šæ€å»ºç«‹åœ¨ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå› æ­¤åªæœ‰éµå¾ªäº†Liskovæ›¿æ¢åŽŸåˆ™ï¼Œæ‰èƒ½ä¿è¯ç»§æ‰¿å¤ç”¨æ˜¯å¯é åœ°ã€‚å®žçŽ°çš„æ–¹æ³•æ˜¯é¢å‘æŽ¥å£ç¼–ç¨‹ï¼šå°†å…¬å…±éƒ¨åˆ†æŠ½è±¡ä¸ºåŸºç±»æŽ¥å£æˆ–æŠ½è±¡ç±»ï¼Œé€šè¿‡Extract Abstract Classï¼Œåœ¨å­ç±»ä¸­é€šè¿‡è¦†å†™çˆ¶ç±»çš„æ–¹æ³•å®žçŽ°æ–°çš„æ–¹å¼æ”¯æŒåŒæ ·çš„èŒè´£ã€‚Liskovæ›¿æ¢åŽŸåˆ™æ˜¯å…³äºŽç»§æ‰¿æœºåˆ¶çš„è®¾è®¡åŽŸåˆ™ï¼Œè¿åäº†Liskovæ›¿æ¢åŽŸåˆ™å°±å¿…ç„¶å¯¼è‡´è¿åå¼€æ”¾å°é—­åŽŸåˆ™ã€‚Liskovæ›¿æ¢åŽŸåˆ™èƒ½å¤Ÿä¿è¯ç³»ç»Ÿå…·æœ‰è‰¯å¥½çš„æ‹“å±•æ€§ï¼ŒåŒæ—¶å®žçŽ°åŸºäºŽå¤šæ€çš„æŠ½è±¡æœºåˆ¶ï¼Œèƒ½å¤Ÿå‡å°‘ä»£ç å†—ä½™ï¼Œé¿å…è¿è¡ŒæœŸçš„ç±»åž‹åˆ¤åˆ«ã€‚ ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependecy-Inversion Principleï¼‰ å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¾èµ–äºŽæŠ½è±¡ã€‚å…·ä½“è€Œè¨€å°±æ˜¯é«˜å±‚æ¨¡å—ä¸ä¾èµ–äºŽåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åŒä¾èµ–äºŽæŠ½è±¡ï¼›æŠ½è±¡ä¸ä¾èµ–äºŽå…·ä½“ï¼Œå…·ä½“ä¾èµ–äºŽæŠ½è±¡ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¾èµ–ä¸€å®šä¼šå­˜åœ¨äºŽç±»ä¸Žç±»ã€æ¨¡å—ä¸Žæ¨¡å—ä¹‹é—´ã€‚å½“ä¸¤ä¸ªæ¨¡å—ä¹‹é—´å­˜åœ¨ç´§å¯†çš„è€¦åˆå…³ç³»æ—¶ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯åˆ†ç¦»æŽ¥å£å’Œå®žçŽ°ï¼šåœ¨ä¾èµ–ä¹‹é—´å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„æŽ¥å£ä½¿å¾—é«˜å±‚æ¨¡å—è°ƒç”¨æŽ¥å£ï¼Œè€Œåº•å±‚æ¨¡å—å®žçŽ°æŽ¥å£çš„å®šä¹‰ï¼Œä»¥æ­¤æ¥æœ‰æ•ˆæŽ§åˆ¶è€¦åˆå…³ç³»ï¼Œè¾¾åˆ°ä¾èµ–äºŽæŠ½è±¡çš„è®¾è®¡ç›®æ ‡ã€‚æŠ½è±¡çš„ç¨³å®šæ€§å†³å®šäº†ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå› ä¸ºæŠ½è±¡æ˜¯ä¸å˜çš„ï¼Œä¾èµ–äºŽæŠ½è±¡æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„ç²¾é«“ï¼Œä¹Ÿæ˜¯ä¾èµ–å€’ç½®åŽŸåˆ™çš„æ ¸å¿ƒã€‚ä¾èµ–äºŽæŠ½è±¡æ˜¯ä¸€ä¸ªé€šç”¨çš„åŽŸåˆ™ï¼Œè€ŒæŸäº›æ—¶å€™ä¾èµ–äºŽç»†èŠ‚åˆ™æ˜¯åœ¨æ‰€éš¾å…çš„ï¼Œå¿…é¡»æƒè¡¡åœ¨æŠ½è±¡å’Œå…·ä½“ä¹‹é—´çš„å–èˆï¼Œæ–¹æ³•ä¸æ˜¯ä¸€å±‚ä¸å˜çš„ã€‚ä¾èµ–äºŽæŠ½è±¡ï¼Œå°±æ˜¯å¯¹æŽ¥å£ç¼–ç¨‹ï¼Œä¸è¦å¯¹å®žçŽ°ç¼–ç¨‹ã€‚ æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼ˆInterface-Segregation Principleï¼‰ å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä½¿ç”¨å¤šä¸ªå°çš„ä¸“é—¨çš„æŽ¥å£ï¼Œè€Œä¸è¦ä½¿ç”¨ä¸€ä¸ªå¤§çš„æ€»æŽ¥å£ã€‚å…·ä½“è€Œè¨€ï¼ŒæŽ¥å£éš”ç¦»åŽŸåˆ™ä½“çŽ°åœ¨ï¼šæŽ¥å£åº”è¯¥æ˜¯å†…èšçš„ï¼Œåº”è¯¥é¿å…â€œèƒ–â€æŽ¥å£ã€‚ä¸€ä¸ªç±»å¯¹å¦å¤–ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æŽ¥å£ä¸Šï¼Œä¸è¦å¼ºè¿«ä¾èµ–ä¸ç”¨çš„æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ç§æŽ¥å£æ±¡æŸ“ã€‚æŽ¥å£æœ‰æ•ˆåœ°å°†ç»†èŠ‚å’ŒæŠ½è±¡éš”ç¦»ï¼Œä½“çŽ°äº†å¯¹æŠ½è±¡ç¼–ç¨‹çš„ä¸€åˆ‡å¥½å¤„ï¼ŒæŽ¥å£éš”ç¦»å¼ºè°ƒæŽ¥å£çš„å•ä¸€æ€§ã€‚è€Œèƒ–æŽ¥å£å­˜åœ¨æ˜Žæ˜¾çš„å¼Šç«¯ï¼Œä¼šå¯¼è‡´å®žçŽ°çš„ç±»åž‹å¿…é¡»å®Œå…¨å®žçŽ°æŽ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€å±žæ€§ç­‰ï¼›è€ŒæŸäº›æ—¶å€™ï¼Œå®žçŽ°ç±»åž‹å¹¶éžéœ€è¦æ‰€æœ‰çš„æŽ¥å£å®šä¹‰ï¼Œåœ¨è®¾è®¡ä¸Šè¿™æ˜¯â€œæµªè´¹â€ï¼Œè€Œä¸”åœ¨å®žæ–½ä¸Šè¿™ä¼šå¸¦æ¥æ½œåœ¨çš„é—®é¢˜ï¼Œå¯¹èƒ–æŽ¥å£çš„ä¿®æ”¹å°†å¯¼è‡´ä¸€è¿žä¸²çš„å®¢æˆ·ç«¯ç¨‹åºéœ€è¦ä¿®æ”¹ï¼Œæœ‰æ—¶å€™è¿™æ˜¯ä¸€ç§ç¾éš¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†èƒ–æŽ¥å£åˆ†è§£ä¸ºå¤šä¸ªç‰¹ç‚¹çš„å®šåˆ¶åŒ–æ–¹æ³•ï¼Œä½¿å¾—å®¢æˆ·ç«¯ä»…ä»…ä¾èµ–äºŽå®ƒä»¬çš„å®žé™…è°ƒç”¨çš„æ–¹æ³•ï¼Œä»Žè€Œè§£é™¤äº†å®¢æˆ·ç«¯ä¸ä¼šä¾èµ–äºŽå®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚åˆ†ç¦»çš„æ‰‹æ®µä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š1ã€å§”æ‰˜åˆ†ç¦»ï¼Œé€šè¿‡å¢žåŠ ä¸€ä¸ªæ–°çš„ç±»åž‹æ¥å§”æ‰˜å®¢æˆ·çš„è¯·æ±‚ï¼Œéš”ç¦»å®¢æˆ·å’ŒæŽ¥å£çš„ç›´æŽ¥ä¾èµ–ï¼Œä½†æ˜¯ä¼šå¢žåŠ ç³»ç»Ÿçš„å¼€é”€ã€‚2ã€å¤šé‡ç»§æ‰¿åˆ†ç¦»ï¼Œé€šè¿‡æŽ¥å£å¤šç»§æ‰¿æ¥å®žçŽ°å®¢æˆ·çš„éœ€æ±‚ï¼Œè¿™ç§æ–¹å¼æ˜¯è¾ƒå¥½çš„ã€‚]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(æŽ’åºç®—æ³•)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆä¸‰ï¼‰]]></title>
    <url>%2F2014%2F08%2F22%2F(%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%B8%89%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å¿«é€ŸæŽ’åº ä¸Žå½’å¹¶æŽ’åºä¸€æ ·ï¼Œ å¿«æŽ’ä¹Ÿæ˜¯ç”¨äº†åˆ†æ²»çš„æ€æƒ³ã€‚ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸ªä¸¤å‰¯ç‰Œç„¶åŽéšæ„å–å‡ºä¸€å¼ ç‰Œpivotï¼Œå…¶ä»–çš„æ‰€æœ‰ç‰Œéƒ½è·Ÿè¿™å¼ pivotç‰Œæ¯”è¾ƒï¼Œ å¤§çš„æ”¾å³è¾¹é‚£ä¸€æ‘žAï¼Œå°çš„æ”¾å·¦è¾¹Bã€‚æŽ¥ç€å†ä»Žå·¦è¾¹è¿™ä¸€æ‘žBå†éšæ„å–å‡ºä¸€å¼ ç‰Œpivotï¼Œå…¶ä»–çš„æ‰€æœ‰ç‰Œéƒ½è·Ÿè¿™å¼ pivotç‰Œæ¯”è¾ƒï¼Œ å¤§çš„æ”¾å³è¾¹é‚£ä¸€æ‘žï¼Œå°çš„æ”¾å·¦è¾¹ï¼Œé€’å½’ä¸‹åŽ»ã€‚Aä¹Ÿé‡å¤ä¸Šè¿°æ­¥éª¤é€’å½’ã€‚é€’å½’ç»“æŸä¹‹åŽï¼Œ å·¦è¾¹çš„éƒ½æ¯”å³è¾¹çš„å°ï¼Œ è€Œä¸”æ˜¯æœ‰åºçš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546void swap(int *a, int *b)&#123; int temp = 0; temp = *a; *a = *b; *b = temp;&#125;int partition(int *array, int p, int r)&#123; int i = 0, j = 0, pivot = 0; pivot = array[r]; i = p-1; for(j=p; j&lt;=r-1; j++) &#123; if(array[j] &lt;= pivot) &#123; i++; swap(&amp;array[i], &amp;array[j]); &#125; &#125; swap(&amp;array[i+1], &amp;array[r]); return i+1;&#125;/*é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥å‘ä¸€ä¸ªç®—æ³•ä¸­åŠ å…¥éšæœºåŒ–æˆåˆ†ï¼Œä»¥ä¾¿å¯¹äºŽæ‰€æœ‰è¾“å…¥ï¼Œå®ƒå‡èƒ½èŽ·å¾—è¾ƒå¥½çš„å¹³å‡æƒ…å†µæ€§èƒ½ã€‚å°†è¿™ç§æ–¹æ³•ç”¨äºŽå¿«é€ŸæŽ’åºæ—¶ï¼Œä¸æ˜¯å§‹ç»ˆé‡‡ç”¨A[r]ä½œä¸ºä¸»å…ƒï¼Œè€Œæ˜¯ä»Žå­æ•°ç»„A[p..r]ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œå³å°†A[r]ä¸Žä»ŽA[p..r]ä¸­éšæœºé€‰å‡ºçš„ä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚*/ int rand_patition(int test_arr[], int p, int r) &#123; srand(static_cast&lt;unsigned&gt;(time(nullptr))); int rand_index = (rand() % (r - p) ) + p + 1; swap(&amp;test_arr[rand_index], &amp;test_arr[r]); return partition(test_arr, p, r); &#125;void quick_sort(int *array, int p, int r)&#123; int q = 0; if(p &lt; r) &#123; q = rand_patition(array, p, r); quick_sort(array, p, q-1); quick_sort(array, q+1, r); &#125;&#125; å¿«é€ŸæŽ’åºæ€æƒ³çš„åº”ç”¨ é—®é¢˜ : æŸ¥æ‰¾æ•°ç»„ä¸­ç¬¬kå¤§çš„æ•°å­—ç®—æ³•æ€æƒ³ : å› ä¸ºå¿«æŽ’æ¯æ¬¡å°†æ•°ç»„åˆ’åˆ†ä¸ºä¸¤ç»„åŠ ä¸€ä¸ªæž¢çº½å…ƒç´ ï¼Œæ¯ä¸€è¶Ÿåˆ’åˆ†ä½ åªéœ€è¦å°†kä¸Žæž¢çº½å…ƒç´ çš„ä¸‹æ ‡è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœæ¯”æž¢çº½å…ƒç´ ä¸‹æ ‡å¤§å°±ä»Žå³è¾¹çš„å­æ•°ç»„ä¸­æ‰¾ï¼Œå¦‚æžœæ¯”æž¢çº½å…ƒç´ ä¸‹æ ‡å°ä»Žå·¦è¾¹çš„å­æ•°ç»„ä¸­æ‰¾ï¼Œå¦‚æžœä¸€æ ·åˆ™å°±æ˜¯æž¢çº½å…ƒç´ ï¼Œæ‰¾åˆ°ï¼Œå¦‚æžœéœ€è¦ä»Žå·¦è¾¹æˆ–è€…å³è¾¹çš„å­æ•°ç»„ä¸­å†æŸ¥æ‰¾çš„è¯ï¼Œåªéœ€è¦é€’å½’ä¸€è¾¹æŸ¥æ‰¾å³å¯ï¼Œæ— éœ€åƒå¿«æŽ’ä¸€æ ·ä¸¤è¾¹éƒ½éœ€è¦é€’å½’ï¼Œæ‰€ä»¥å¤æ‚åº¦å¿…ç„¶é™ä½Žã€‚ äºŒåˆ†æŸ¥æ‰¾ äºŒåˆ†æŸ¥æ‰¾çš„å¤æ‚åº¦è®¡ç®—æ–¹æ³•ï¼šæ—¶é—´å¤æ‚åº¦å¯ä»¥è§†ä¸ºwhileå¾ªçŽ¯çš„æ¬¡æ•°ã€‚æ€»å…±æœ‰nä¸ªå…ƒç´ ï¼Œæ¸æ¸è·Ÿä¸‹åŽ»å°±æ˜¯n,n/2,n/4,â€¦.n/2^kï¼ˆæŽ¥ä¸‹æ¥æ“ä½œå…ƒç´ çš„å‰©ä½™ä¸ªæ•°ï¼‰ï¼Œå…¶ä¸­kå°±æ˜¯å¾ªçŽ¯çš„æ¬¡æ•°ç”±äºŽä½ n/2^kå–æ•´åŽ&gt;=1ï¼ˆæŽ¥ä¸‹æ¥æ“ä½œå…ƒç´ çš„å‰©ä½™ä¸ªæ•°è‡³å°‘ä¸ºä¸€ä¸ªï¼‰å³ä»¤n/2^k=1å¯å¾—k=log2n,ï¼ˆæ˜¯ä»¥2ä¸ºåº•ï¼Œnçš„å¯¹æ•°ï¼‰æ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯ä»¥è¡¨ç¤ºO(h)=O(log2n) é€’å½’ç‰ˆæœ¬ï¼š123456789101112131415int binary_search(int arr[], int low, int high, int key)&#123; if ( low &lt;= high) &#123; int mid = (low + high) / 2; if ( key == arr[mid] ) return mid; else if ( key &lt; arr[mid]) binary_search(arr, low, mid - 1, key); else binary_search(arr, mid + 1, high, key); &#125; else return -1;&#125; éžé€’å½’ç‰ˆæœ¬ï¼š123456789101112131415int non_recursion_bs(int arr[], int low, int high, int key)&#123; int mid = 0; while (low &lt;= high) &#123; mid = ( low + high ) / 2; if ( key == arr[mid] ) return mid; else if ( key &lt; arr[mid] ) high = mid - 1; else low = mid + 1; &#125; return -1;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(æŽ’åºç®—æ³•)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2014%2F08%2F20%2F(%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6(%E4%BA%8C)%2F</url>
    <content type="text"><![CDATA[æ³¨ï¼šä»¥ä¸‹æ‰€æœ‰ä»£ç çš†å¯ä»¥ç›´æŽ¥è¿è¡Œï¼Œ éƒ½å·²ç»æµ‹è¯•è¿‡ã€‚ å†’æ³¡æŽ’åº æƒ³è±¡å°±æ˜¯å¾ˆå¤šæ³¡æ³¡ï¼Œæœ€å¤§çš„æ³¡æ³¡æ¯æ¬¡æµ®åˆ°é‚£ä¸ªæ•°ç»„æœ€åŽé¢ 1234567891011121314void bubble_sort(int a[], int n)&#123; int i, j, temp; for (j = 0; j &lt; n - 1; j++) for (i = 0; i &lt; n - 1 - j; i++) &#123; if(a[i] &gt; a[i + 1]) &#123; temp = a[i]; a[i] = a[i + 1]; a[i + 1] = temp; &#125; &#125;&#125; æ’å…¥æŽ’åº æƒ³è±¡æ‰‹ä¸Šæœ‰å‡ å¼ ç‰Œï¼Œ çŽ°åœ¨ä½ æŠ½äº†ä¸€å¼ ç‰Œï¼Œ ç„¶åŽéœ€è¦ä»Žæ‰‹ä¸Šæœ€å³è¾¹çš„ç‰Œå¼€å§‹æ¯”è¾ƒï¼Œç„¶åŽæ’å…¥åˆ°ç›¸åº”ä½ç½® 123456789101112131415161718192021void insertion_sort(int test_array[], size_t length)&#123; int i = 0, key = 0; for (size_t index = 1; index &lt; length; ++index) &#123; i = index - 1, key = test_array[index]; while (i &gt;= 0 &amp;&amp; key &lt; test_array[i]) &#123; test_array[i + 1] = test_array[i]; i = i - 1; &#125; test_array[i + 1] = key; &#125; for (size_t ii = 0; ii &lt; length; ++ii, ++test_array) &#123; cout &lt;&lt; *test_array &lt;&lt; endl; &#125;&#125; å½’å¹¶æŽ’åº å½’å¹¶æŽ’åºç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œæœ‰å¾ˆå¤šç®—æ³•åœ¨ç»“æž„ä¸Šæ˜¯é€’å½’çš„ï¼šä¸ºäº†è§£å†³ä¸€ä¸ªç»™å®šçš„é—®é¢˜ï¼Œç®—æ³•è¦ä¸€æ¬¡æˆ–å¤šæ¬¡åœ°é€’å½’è°ƒç”¨å…¶è‡ªèº«æ¥è§£å†³ç›¸å…³çš„å­é—®é¢˜ã€‚è¿™äº›ç®—æ³•é€šå¸¸é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼ˆdivide-and-conquierï¼‰ï¼šå°†åŽŸé—®é¢˜åˆ’åˆ†æˆnä¸ªè§„æ¨¡è¾ƒå°è€Œç»“æž„ä¸ŽåŽŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜ï¼›é€’å½’åœ°è§£å†³è¿™äº›å­é—®é¢˜ï¼Œç„¶åŽå†åˆå¹¶å…¶ç»“æžœï¼Œå°±å¾—åˆ°åŽŸé—®é¢˜çš„è§£ã€‚ åˆ†æ²»æ¨¡å¼åœ¨æ¯ä¸€å±‚é€’å½’ä¸Šéƒ½æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š åˆ†è§£ï¼ˆdivideï¼‰ï¼šå°†åŽŸé—®é¢˜åˆ†è§£æˆä¸€ç³»åˆ—å­é—®é¢˜ï¼› è§£å†³ï¼ˆconquerï¼‰ï¼šé€’å½’åœ°è§£å„å­é—®é¢˜ã€‚è‹¥å­é—®é¢˜è¶³å¤Ÿå°ï¼Œåˆ™ç›´æŽ¥æ±‚è§£ï¼› åˆå¹¶ï¼šå°†å­é—®é¢˜çš„ç»“æžœåˆå¹¶æˆåŽŸé—®é¢˜çš„è§£ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ¯”è¾ƒç›´ç™½æ˜Žäº†çš„å½’å¹¶c++å®žçŽ°ï¼ˆå…¶å®žå¯ä»¥å†™æˆä¸ç”¨åŠ¨æ€åˆ†é…å†…å­˜çš„ï¼Œä½†æ˜¯è¿™é‡Œä¸ºäº†ç›´ç™½èµ·è§ï¼‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/* * p: å·¦æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ * q: å·¦æ•°ç»„æœ€åŽä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ * r: å³æ•°ç»„æœ€åŽä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ */void merge(int *array, int p, int q, int r)&#123; int n1, n2, i, j, k; int *left=NULL, *right=NULL; n1 = q-p+1; n2 = r-q; left = (int *)malloc(sizeof(int)*(n1)); right = (int *)malloc(sizeof(int)*(n2)); for(i=0; i&lt;n1; i++) &#123; left[i] = array[p+i]; &#125; for(j=0; j&lt;n2; j++) &#123; right[j] = array[q+1+j]; &#125; i = j = 0; k = p; while(i&lt;n1 &amp;&amp; j&lt;n2) &#123; if(left[i] &lt;= right[j]) &#123; array[k++] = left[i++]; &#125; else &#123; array[k++] = right[j++]; &#125; &#125; for(; i&lt;n1; i++) &#123; array[k++] = left[i]; &#125; for(; j&lt;n2; j++) &#123; array[k++] = right[j]; &#125; free(left); free(right); left = NULL; right = NULL;&#125; void merge_sort(int *array, int p, int r)&#123; int q; if(p &lt; r) &#123; q = (int)((p+r)/2); merge_sort(array, p, q); merge_sort(array, q+1, r); merge(array, p, q, r); &#125;&#125;]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(æŽ’åºç®—æ³•)è°ˆä¸€è°ˆå„ç±»ç®—æ³•å’Œæ•°æ®ç»“æž„çš„c++å®žçŽ°ä»¥åŠç›¸å…³æ“ä½œçš„å¤æ‚åº¦ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2014%2F08%2F19%2F(%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95)%E8%B0%88%E4%B8%80%E8%B0%88%E5%90%84%E7%B1%BB%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84c%2B%2B%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å› ä¸ºä¹‹å‰çš„ç¬”è®°å’Œä¹¦ç±ç›¸å…³çŸ¥è¯†éƒ½æ˜¯é›¶é›¶æ•£æ•£çš„ï¼Œ æ²¡æœ‰ä¸€ä¸ªæ±‡æ€»ï¼Œ æ‰€ä»¥å†™äº†è¿™ç¯‡åšå®¢ã€‚æœ‰äº›ç®—æ³•å¾ˆç®€å•ï¼Œå¤æ‚åº¦ä¸€çœ¼éƒ½èƒ½çœ‹å¾—å‡ºæ¥ï¼Œ å‡ ä¹Žä¸éœ€è¦è®°å¿† ï¼Œ ä½†æ˜¯æœ‰äº›ç®—æ³•æˆ–è€…æ•°æ®ç»“æž„çš„æ“ä½œçš„å¤æ‚åº¦å°±ä¸æ˜¯ä¸€çœ¼å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼Œ æŽ¨å¯¼ä¹Ÿæ˜¯å¾ˆè´¹æ—¶é—´çš„ï¼Œ æ‰€è°“å¸¸è¯†å°±æ˜¯åº”è¯¥ç†Ÿè®°äºŽå¿ƒä¸”è¢«è®¤å¯çš„çŸ¥è¯†ã€‚ å¿…é¡»æŽŒæ¡çš„çŸ¥è¯† å¸¸ç”¨ç®—æ³•çš„å¤æ‚åº¦]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
</search>
